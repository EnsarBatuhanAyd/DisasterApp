const sb=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};sb();var d={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),ob=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),lb=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),hb=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),pb=Symbol.for("react.memo"),mb=Symbol.for("react.lazy"),Py=Symbol.iterator;function gb(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var xw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cw=Object.assign,Ew={};function ys(t,e,n){this.props=t,this.context=e,this.refs=Ew,this.updater=n||xw}ys.prototype.isReactComponent={};ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tw(){}Tw.prototype=ys.prototype;function Vd(t,e,n){this.props=t,this.context=e,this.refs=Ew,this.updater=n||xw}var Bd=Vd.prototype=new Tw;Bd.constructor=Vd;Cw(Bd,ys.prototype);Bd.isPureReactComponent=!0;var $y=Array.isArray,Dw=Object.prototype.hasOwnProperty,Ud={current:null},Iw={key:!0,ref:!0,__self:!0,__source:!0};function kw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dw.call(e,r)&&!Iw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ta,type:t,key:s,ref:o,props:i,_owner:Ud.current}}function yb(t,e){return{$$typeof:ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ta}function vb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fy=/\/+/g;function vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vb(""+t.key):e.toString(36)}function tl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ta:case ob:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vc(o,0):r,$y(i)?(n="",t!=null&&(n=t.replace(Fy,"$&/")+"/"),tl(i,e,n,"",function(u){return u})):i!=null&&(zd(i)&&(i=yb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$y(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+vc(s,a);o+=tl(s,e,n,l,i)}else if(l=gb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+vc(s,a++),o+=tl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Na(t,e,n){if(t==null)return t;var r=[],i=0;return tl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _b(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},nl={transition:null},wb={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Ud};ee.Children={map:Na,forEach:function(t,e,n){Na(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Na(t,function(){e++}),e},toArray:function(t){return Na(t,function(e){return e})||[]},only:function(t){if(!zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=ys;ee.Fragment=ab;ee.Profiler=ub;ee.PureComponent=Vd;ee.StrictMode=lb;ee.Suspense=fb;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wb;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ud.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Dw.call(e,l)&&!Iw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ta,type:t.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:hb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cb,_context:t},t.Consumer=t};ee.createElement=kw;ee.createFactory=function(t){var e=kw.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:db,render:t}};ee.isValidElement=zd;ee.lazy=function(t){return{$$typeof:mb,_payload:{_status:-1,_result:t},_init:_b}};ee.memo=function(t,e){return{$$typeof:pb,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=nl.transition;nl.transition={};try{t()}finally{nl.transition=e}};ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ee.useCallback=function(t,e){return vt.current.useCallback(t,e)};ee.useContext=function(t){return vt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return vt.current.useEffect(t,e)};ee.useId=function(){return vt.current.useId()};ee.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return vt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};ee.useRef=function(t){return vt.current.useRef(t)};ee.useState=function(t){return vt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return vt.current.useTransition()};ee.version="18.2.0";d.exports=ee;var Nw=d.exports,ah={},jd={exports:{}},Ot={},Lw={exports:{}},Aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var V=$.length;$.push(W);e:for(;0<V;){var ce=V-1>>>1,he=$[ce];if(0<i(he,W))$[ce]=W,$[V]=he,V=ce;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],V=$.pop();if(V!==W){$[0]=V;e:for(var ce=0,he=$.length,rn=he>>>1;ce<rn;){var st=2*(ce+1)-1,Ls=$[st],sn=st+1,wi=$[sn];if(0>i(Ls,V))sn<he&&0>i(wi,Ls)?($[ce]=wi,$[sn]=V,ce=sn):($[ce]=Ls,$[st]=V,ce=st);else if(sn<he&&0>i(wi,V))$[ce]=wi,$[sn]=V,ce=sn;else break e}}return W}function i($,W){var V=$.sortIndex-W.sortIndex;return V!==0?V:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,y=!1,S=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=$)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function T($){if(C=!1,w($),!S)if(n(l)!==null)S=!0,it(N);else{var W=n(u);W!==null&&St(T,W.startTime-$)}}function N($,W){S=!1,C&&(C=!1,_(R),R=-1),y=!0;var V=m;try{for(w(W),h=n(l);h!==null&&(!(h.expirationTime>W)||$&&!rt());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,m=h.priorityLevel;var he=ce(h.expirationTime<=W);W=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),w(W)}else r(l);h=n(l)}if(h!==null)var rn=!0;else{var st=n(u);st!==null&&St(T,st.startTime-W),rn=!1}return rn}finally{h=null,m=V,y=!1}}var L=!1,A=null,R=-1,ue=5,J=-1;function rt(){return!(t.unstable_now()-J<ue)}function de(){if(A!==null){var $=t.unstable_now();J=$;var W=!0;try{W=A(!0,$)}finally{W?Le():(L=!1,A=null)}}else L=!1}var Le;if(typeof g=="function")Le=function(){g(de)};else if(typeof MessageChannel!="undefined"){var wt=new MessageChannel,nn=wt.port2;wt.port1.onmessage=de,Le=function(){nn.postMessage(null)}}else Le=function(){P(de,0)};function it($){A=$,L||(L=!0,Le())}function St($,W){R=P(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,it(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var V=m;m=W;try{return $()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=m;m=$;try{return W()}finally{m=V}},t.unstable_scheduleCallback=function($,W,V){var ce=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=V+he,$={id:c++,callback:W,priorityLevel:$,startTime:V,expirationTime:he,sortIndex:-1},V>ce?($.sortIndex=V,e(u,$),n(l)===null&&$===n(u)&&(C?(_(R),R=-1):C=!0,St(T,V-ce))):($.sortIndex=he,e(l,$),S||y||(S=!0,it(N))),$},t.unstable_shouldYield=rt,t.unstable_wrapCallback=function($){var W=m;return function(){var V=m;m=W;try{return $.apply(this,arguments)}finally{m=V}}}})(Aw);Lw.exports=Aw;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=d.exports,Ft=Lw.exports;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pw=new Set,yo={};function hi(t,e){Qi(t,e),Qi(t+"Capture",e)}function Qi(t,e){for(yo[t]=e,t=0;t<e.length;t++)Pw.add(e[t])}var Tn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),lh=Object.prototype.hasOwnProperty,Sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ry={},My={};function xb(t){return lh.call(My,t)?!0:lh.call(Ry,t)?!1:Sb.test(t)?My[t]=!0:(Ry[t]=!0,!1)}function Cb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Eb(t,e,n,r){if(e===null||typeof e=="undefined"||Cb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var qd=/[\-:]([a-z])/g;function Gd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qd,Gd);et[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qd,Gd);et[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qd,Gd);et[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kd(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Eb(e,n,i,r)&&(n=null),r||i===null?xb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var An=bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,La=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),$w=Symbol.for("react.provider"),Fw=Symbol.for("react.context"),Wd=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Rw=Symbol.for("react.offscreen"),Oy=Symbol.iterator;function As(t){return t===null||typeof t!="object"?null:(t=Oy&&t[Oy]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,_c;function Ks(t){if(_c===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_c=e&&e[1]||""}return`
`+_c+t}var wc=!1;function Sc(t,e){if(!t||wc)return"";wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ks(t):""}function Tb(t){switch(t.tag){case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return t=Sc(t.type,!1),t;case 11:return t=Sc(t.type.render,!1),t;case 1:return t=Sc(t.type,!0),t;default:return""}}function dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Ii:return"Portal";case uh:return"Profiler";case Hd:return"StrictMode";case ch:return"Suspense";case hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fw:return(t.displayName||"Context")+".Consumer";case $w:return(t._context.displayName||"Context")+".Provider";case Wd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qd:return e=t.displayName||null,e!==null?e:dh(t.type)||"Memo";case Vn:e=t._payload,t=t._init;try{return dh(t(e))}catch{}}return null}function Db(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dh(e);case 8:return e===Hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ib(t){var e=Mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Ib(t))}function Ow(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function fh(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vw(t,e){e=e.checked,e!=null&&Kd(t,"checked",e,!1)}function ph(t,e){Vw(t,e);var n=sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mh(t,e.type,n):e.hasOwnProperty("defaultValue")&&mh(t,e.type,sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mh(t,e,n){(e!=="number"||_l(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hs=Array.isArray;function Ui(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Hs(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sr(n)}}function Bw(t,e){var n=sr(e.value),r=sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ba,zw=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kb=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(t){kb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eo[e]=eo[t]})});function jw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eo.hasOwnProperty(t)&&eo[t]?(""+e).trim():e+"px"}function qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Nb=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vh(t,e){if(e){if(Nb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function _h(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function Yd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sh=null,zi=null,ji=null;function jy(t){if(t=ia(t)){if(typeof Sh!="function")throw Error(k(280));var e=t.stateNode;e&&(e=vu(e),Sh(t.stateNode,t.type,e))}}function Gw(t){zi?ji?ji.push(t):ji=[t]:zi=t}function Kw(){if(zi){var t=zi,e=ji;if(ji=zi=null,jy(t),e)for(t=0;t<e.length;t++)jy(e[t])}}function Hw(t,e){return t(e)}function Ww(){}var xc=!1;function Qw(t,e,n){if(xc)return t(e,n);xc=!0;try{return Hw(t,e,n)}finally{xc=!1,(zi!==null||ji!==null)&&(Ww(),Kw())}}function _o(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var xh=!1;if(Tn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){xh=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{xh=!1}function Lb(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var to=!1,wl=null,Sl=!1,Ch=null,Ab={onError:function(t){to=!0,wl=t}};function bb(t,e,n,r,i,s,o,a,l){to=!1,wl=null,Lb.apply(Ab,arguments)}function Pb(t,e,n,r,i,s,o,a,l){if(bb.apply(this,arguments),to){if(to){var u=wl;to=!1,wl=null}else throw Error(k(198));Sl||(Sl=!0,Ch=u)}}function di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qy(t){if(di(t)!==t)throw Error(k(188))}function $b(t){var e=t.alternate;if(!e){if(e=di(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qy(i),t;if(s===r)return qy(i),e;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Xw(t){return t=$b(t),t!==null?Jw(t):null}function Jw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jw(t);if(e!==null)return e;t=t.sibling}return null}var Zw=Ft.unstable_scheduleCallback,Gy=Ft.unstable_cancelCallback,Fb=Ft.unstable_shouldYield,Rb=Ft.unstable_requestPaint,Ae=Ft.unstable_now,Mb=Ft.unstable_getCurrentPriorityLevel,Xd=Ft.unstable_ImmediatePriority,e0=Ft.unstable_UserBlockingPriority,xl=Ft.unstable_NormalPriority,Ob=Ft.unstable_LowPriority,t0=Ft.unstable_IdlePriority,pu=null,dn=null;function Vb(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(pu,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:zb,Bb=Math.log,Ub=Math.LN2;function zb(t){return t>>>=0,t===0?32:31-(Bb(t)/Ub|0)|0}var Pa=64,$a=4194304;function Ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ws(a):(s&=o,s!==0&&(r=Ws(s)))}else o=n&~i,o!==0?r=Ws(o):s!==0&&(r=Ws(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function jb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=jb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n0(){var t=Pa;return Pa<<=1,(Pa&4194240)===0&&(Pa=64),t}function Cc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function na(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function Gb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function r0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var i0,Zd,s0,o0,a0,Th=!1,Fa=[],Wn=null,Qn=null,Yn=null,wo=new Map,So=new Map,Un=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(t,e){switch(t){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function Ps(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ia(e),e!==null&&Zd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Hb(t,e,n,r,i){switch(e){case"focusin":return Wn=Ps(Wn,t,e,n,r,i),!0;case"dragenter":return Qn=Ps(Qn,t,e,n,r,i),!0;case"mouseover":return Yn=Ps(Yn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wo.set(s,Ps(wo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,So.set(s,Ps(So.get(s)||null,t,e,n,r,i)),!0}return!1}function l0(t){var e=Mr(t.target);if(e!==null){var n=di(e);if(n!==null){if(e=n.tag,e===13){if(e=Yw(n),e!==null){t.blockedOn=e,a0(t.priority,function(){s0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wh=r,n.target.dispatchEvent(r),wh=null}else return e=ia(n),e!==null&&Zd(e),t.blockedOn=n,!1;e.shift()}return!0}function Hy(t,e,n){rl(t)&&n.delete(e)}function Wb(){Th=!1,Wn!==null&&rl(Wn)&&(Wn=null),Qn!==null&&rl(Qn)&&(Qn=null),Yn!==null&&rl(Yn)&&(Yn=null),wo.forEach(Hy),So.forEach(Hy)}function $s(t,e){t.blockedOn===e&&(t.blockedOn=null,Th||(Th=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Wb)))}function xo(t){function e(i){return $s(i,t)}if(0<Fa.length){$s(Fa[0],t);for(var n=1;n<Fa.length;n++){var r=Fa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wn!==null&&$s(Wn,t),Qn!==null&&$s(Qn,t),Yn!==null&&$s(Yn,t),wo.forEach(e),So.forEach(e),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&Un.shift()}var qi=An.ReactCurrentBatchConfig,El=!0;function Qb(t,e,n,r){var i=ae,s=qi.transition;qi.transition=null;try{ae=1,ef(t,e,n,r)}finally{ae=i,qi.transition=s}}function Yb(t,e,n,r){var i=ae,s=qi.transition;qi.transition=null;try{ae=4,ef(t,e,n,r)}finally{ae=i,qi.transition=s}}function ef(t,e,n,r){if(El){var i=Dh(t,e,n,r);if(i===null)Pc(t,e,r,Tl,n),Ky(t,r);else if(Hb(i,t,e,n,r))r.stopPropagation();else if(Ky(t,r),e&4&&-1<Kb.indexOf(t)){for(;i!==null;){var s=ia(i);if(s!==null&&i0(s),s=Dh(t,e,n,r),s===null&&Pc(t,e,r,Tl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pc(t,e,r,null,n)}}var Tl=null;function Dh(t,e,n,r){if(Tl=null,t=Yd(r),t=Mr(t),t!==null)if(e=di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tl=t,null}function u0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mb()){case Xd:return 1;case e0:return 4;case xl:case Ob:return 16;case t0:return 536870912;default:return 16}default:return 16}}var Gn=null,tf=null,il=null;function c0(){if(il)return il;var t,e=tf,n=e.length,r,i="value"in Gn?Gn.value:Gn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return il=i.slice(t,1<r?1-r:void 0)}function sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ra(){return!0}function Wy(){return!1}function Vt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ra:Wy,this.isPropagationStopped=Wy,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nf=Vt(vs),ra=Ee({},vs,{view:0,detail:0}),Xb=Vt(ra),Ec,Tc,Fs,mu=Ee({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fs&&(Fs&&t.type==="mousemove"?(Ec=t.screenX-Fs.screenX,Tc=t.screenY-Fs.screenY):Tc=Ec=0,Fs=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Tc}}),Qy=Vt(mu),Jb=Ee({},mu,{dataTransfer:0}),Zb=Vt(Jb),eP=Ee({},ra,{relatedTarget:0}),Dc=Vt(eP),tP=Ee({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),nP=Vt(tP),rP=Ee({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iP=Vt(rP),sP=Ee({},vs,{data:0}),Yy=Vt(sP),oP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lP[t])?!!e[t]:!1}function rf(){return uP}var cP=Ee({},ra,{key:function(t){if(t.key){var e=oP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rf,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hP=Vt(cP),dP=Ee({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=Vt(dP),fP=Ee({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rf}),pP=Vt(fP),mP=Ee({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gP=Vt(mP),yP=Ee({},mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vP=Vt(yP),_P=[9,13,27,32],sf=Tn&&"CompositionEvent"in window,no=null;Tn&&"documentMode"in document&&(no=document.documentMode);var wP=Tn&&"TextEvent"in window&&!no,h0=Tn&&(!sf||no&&8<no&&11>=no),Jy=String.fromCharCode(32),Zy=!1;function d0(t,e){switch(t){case"keyup":return _P.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function SP(t,e){switch(t){case"compositionend":return f0(e);case"keypress":return e.which!==32?null:(Zy=!0,Jy);case"textInput":return t=e.data,t===Jy&&Zy?null:t;default:return null}}function xP(t,e){if(Ni)return t==="compositionend"||!sf&&d0(t,e)?(t=c0(),il=tf=Gn=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h0&&e.locale!=="ko"?null:e.data;default:return null}}var CP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CP[t.type]:e==="textarea"}function p0(t,e,n,r){Gw(r),e=Dl(e,"onChange"),0<e.length&&(n=new nf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ro=null,Co=null;function EP(t){T0(t,0)}function gu(t){var e=bi(t);if(Ow(e))return t}function TP(t,e){if(t==="change")return e}var m0=!1;if(Tn){var Ic;if(Tn){var kc="oninput"in document;if(!kc){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),kc=typeof tv.oninput=="function"}Ic=kc}else Ic=!1;m0=Ic&&(!document.documentMode||9<document.documentMode)}function nv(){ro&&(ro.detachEvent("onpropertychange",g0),Co=ro=null)}function g0(t){if(t.propertyName==="value"&&gu(Co)){var e=[];p0(e,Co,t,Yd(t)),Qw(EP,e)}}function DP(t,e,n){t==="focusin"?(nv(),ro=e,Co=n,ro.attachEvent("onpropertychange",g0)):t==="focusout"&&nv()}function IP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gu(Co)}function kP(t,e){if(t==="click")return gu(e)}function NP(t,e){if(t==="input"||t==="change")return gu(e)}function LP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:LP;function Eo(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lh.call(e,i)||!en(t[i],e[i]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,e){var n=rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(){for(var t=window,e=_l();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_l(t.document)}return e}function of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AP(t){var e=v0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y0(n.ownerDocument.documentElement,n)){if(r!==null&&of(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iv(n,s);var o=iv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bP=Tn&&"documentMode"in document&&11>=document.documentMode,Li=null,Ih=null,io=null,kh=!1;function sv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kh||Li==null||Li!==_l(r)||(r=Li,"selectionStart"in r&&of(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),io&&Eo(io,r)||(io=r,r=Dl(Ih,"onSelect"),0<r.length&&(e=new nf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Li)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Nc={},_0={};Tn&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function yu(t){if(Nc[t])return Nc[t];if(!Ai[t])return t;var e=Ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _0)return Nc[t]=e[n];return t}var w0=yu("animationend"),S0=yu("animationiteration"),x0=yu("animationstart"),C0=yu("transitionend"),E0=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,e){E0.set(t,e),hi(e,[t])}for(var Lc=0;Lc<ov.length;Lc++){var Ac=ov[Lc],PP=Ac.toLowerCase(),$P=Ac[0].toUpperCase()+Ac.slice(1);yr(PP,"on"+$P)}yr(w0,"onAnimationEnd");yr(S0,"onAnimationIteration");yr(x0,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(C0,"onTransitionEnd");Qi("onMouseEnter",["mouseout","mouseover"]);Qi("onMouseLeave",["mouseout","mouseover"]);Qi("onPointerEnter",["pointerout","pointerover"]);Qi("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pb(r,e,void 0,t),t.currentTarget=null}function T0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;av(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;av(i,a,u),s=l}}}if(Sl)throw t=Ch,Sl=!1,Ch=null,t}function pe(t,e){var n=e[Ph];n===void 0&&(n=e[Ph]=new Set);var r=t+"__bubble";n.has(r)||(D0(e,t,2,!1),n.add(r))}function bc(t,e,n){var r=0;e&&(r|=4),D0(n,t,r,e)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Oa]){t[Oa]=!0,Pw.forEach(function(n){n!=="selectionchange"&&(FP.has(n)||bc(n,!1,t),bc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oa]||(e[Oa]=!0,bc("selectionchange",!1,e))}}function D0(t,e,n,r){switch(u0(e)){case 1:var i=Qb;break;case 4:i=Yb;break;default:i=ef}n=i.bind(null,e,n,t),i=void 0,!xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pc(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Qw(function(){var u=s,c=Yd(n),h=[];e:{var m=E0.get(t);if(m!==void 0){var y=nf,S=t;switch(t){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":y=hP;break;case"focusin":S="focus",y=Dc;break;case"focusout":S="blur",y=Dc;break;case"beforeblur":case"afterblur":y=Dc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=pP;break;case w0:case S0:case x0:y=nP;break;case C0:y=gP;break;case"scroll":y=Xb;break;case"wheel":y=vP;break;case"copy":case"cut":case"paste":y=iP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xy}var C=(e&4)!==0,P=!C&&t==="scroll",_=C?m!==null?m+"Capture":null:m;C=[];for(var g=u,w;g!==null;){w=g;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,_!==null&&(T=_o(g,_),T!=null&&C.push(Do(g,T,w)))),P)break;g=g.return}0<C.length&&(m=new y(m,S,null,n,c),h.push({event:m,listeners:C}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==wh&&(S=n.relatedTarget||n.fromElement)&&(Mr(S)||S[Dn]))break e;if((y||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=u,S=S?Mr(S):null,S!==null&&(P=di(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(C=Qy,T="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=Xy,T="onPointerLeave",_="onPointerEnter",g="pointer"),P=y==null?m:bi(y),w=S==null?m:bi(S),m=new C(T,g+"leave",y,n,c),m.target=P,m.relatedTarget=w,T=null,Mr(c)===u&&(C=new C(_,g+"enter",S,n,c),C.target=w,C.relatedTarget=P,T=C),P=T,y&&S)t:{for(C=y,_=S,g=0,w=C;w;w=Si(w))g++;for(w=0,T=_;T;T=Si(T))w++;for(;0<g-w;)C=Si(C),g--;for(;0<w-g;)_=Si(_),w--;for(;g--;){if(C===_||_!==null&&C===_.alternate)break t;C=Si(C),_=Si(_)}C=null}else C=null;y!==null&&lv(h,m,y,C,!1),S!==null&&P!==null&&lv(h,P,S,C,!0)}}e:{if(m=u?bi(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var N=TP;else if(ev(m))if(m0)N=NP;else{N=IP;var L=DP}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=kP);if(N&&(N=N(t,u))){p0(h,N,n,c);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&mh(m,"number",m.value)}switch(L=u?bi(u):window,t){case"focusin":(ev(L)||L.contentEditable==="true")&&(Li=L,Ih=u,io=null);break;case"focusout":io=Ih=Li=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,sv(h,n,c);break;case"selectionchange":if(bP)break;case"keydown":case"keyup":sv(h,n,c)}var A;if(sf)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ni?d0(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(h0&&n.locale!=="ko"&&(Ni||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ni&&(A=c0()):(Gn=c,tf="value"in Gn?Gn.value:Gn.textContent,Ni=!0)),L=Dl(u,R),0<L.length&&(R=new Yy(R,t,null,n,c),h.push({event:R,listeners:L}),A?R.data=A:(A=f0(n),A!==null&&(R.data=A)))),(A=wP?SP(t,n):xP(t,n))&&(u=Dl(u,"onBeforeInput"),0<u.length&&(c=new Yy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}T0(h,e)})}function Do(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_o(t,n),s!=null&&r.unshift(Do(t,s,i)),s=_o(t,e),s!=null&&r.push(Do(t,s,i))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_o(n,s),l!=null&&o.unshift(Do(n,l,a))):i||(l=_o(n,s),l!=null&&o.push(Do(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RP=/\r\n?/g,MP=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(RP,`
`).replace(MP,"")}function Va(t,e,n){if(e=uv(e),uv(t)!==e&&n)throw Error(k(425))}function Il(){}var Nh=null,Lh=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,OP=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,VP=typeof queueMicrotask=="function"?queueMicrotask:typeof cv!="undefined"?function(t){return cv.resolve(null).then(t).catch(BP)}:bh;function BP(t){setTimeout(function(){throw t})}function $c(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xo(e)}function Xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),ln="__reactFiber$"+_s,Io="__reactProps$"+_s,Dn="__reactContainer$"+_s,Ph="__reactEvents$"+_s,UP="__reactListeners$"+_s,zP="__reactHandles$"+_s;function Mr(t){var e=t[ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hv(t);t!==null;){if(n=t[ln])return n;t=hv(t)}return e}t=n,n=t.parentNode}return null}function ia(t){return t=t[ln]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function vu(t){return t[Io]||null}var $h=[],Pi=-1;function vr(t){return{current:t}}function ge(t){0>Pi||(t.current=$h[Pi],$h[Pi]=null,Pi--)}function fe(t,e){Pi++,$h[Pi]=t.current,t.current=e}var or={},ht=vr(or),It=vr(!1),Wr=or;function Yi(t,e){var n=t.type.contextTypes;if(!n)return or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function kl(){ge(It),ge(ht)}function dv(t,e,n){if(ht.current!==or)throw Error(k(168));fe(ht,e),fe(It,n)}function I0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,Db(t)||"Unknown",i));return Ee({},n,r)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,Wr=ht.current,fe(ht,t),fe(It,It.current),!0}function fv(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=I0(t,e,Wr),r.__reactInternalMemoizedMergedChildContext=t,ge(It),ge(ht),fe(ht,t)):ge(It),fe(It,n)}var _n=null,_u=!1,Fc=!1;function k0(t){_n===null?_n=[t]:_n.push(t)}function jP(t){_u=!0,k0(t)}function _r(){if(!Fc&&_n!==null){Fc=!0;var t=0,e=ae;try{var n=_n;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_n=null,_u=!1}catch(i){throw _n!==null&&(_n=_n.slice(t+1)),Zw(Xd,_r),i}finally{ae=e,Fc=!1}}return null}var $i=[],Fi=0,Ll=null,Al=0,Bt=[],Ut=0,Qr=null,wn=1,Sn="";function Ir(t,e){$i[Fi++]=Al,$i[Fi++]=Ll,Ll=t,Al=e}function N0(t,e,n){Bt[Ut++]=wn,Bt[Ut++]=Sn,Bt[Ut++]=Qr,Qr=t;var r=wn;t=Sn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wn=1<<32-Jt(e)+i|n<<i|r,Sn=s+t}else wn=1<<s|n<<i|r,Sn=t}function af(t){t.return!==null&&(Ir(t,1),N0(t,1,0))}function lf(t){for(;t===Ll;)Ll=$i[--Fi],$i[Fi]=null,Al=$i[--Fi],$i[Fi]=null;for(;t===Qr;)Qr=Bt[--Ut],Bt[Ut]=null,Sn=Bt[--Ut],Bt[Ut]=null,wn=Bt[--Ut],Bt[Ut]=null}var Pt=null,bt=null,ve=!1,Yt=null;function L0(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,bt=Xn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qr!==null?{id:wn,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,bt=null,!0):!1;default:return!1}}function Fh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rh(t){if(ve){var e=bt;if(e){var n=e;if(!pv(t,e)){if(Fh(t))throw Error(k(418));e=Xn(n.nextSibling);var r=Pt;e&&pv(t,e)?L0(r,n):(t.flags=t.flags&-4097|2,ve=!1,Pt=t)}}else{if(Fh(t))throw Error(k(418));t.flags=t.flags&-4097|2,ve=!1,Pt=t}}}function mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function Ba(t){if(t!==Pt)return!1;if(!ve)return mv(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=bt)){if(Fh(t))throw A0(),Error(k(418));for(;e;)L0(t,e),e=Xn(e.nextSibling)}if(mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=Xn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=Pt?Xn(t.stateNode.nextSibling):null;return!0}function A0(){for(var t=bt;t;)t=Xn(t.nextSibling)}function Xi(){bt=Pt=null,ve=!1}function uf(t){Yt===null?Yt=[t]:Yt.push(t)}var qP=An.ReactCurrentBatchConfig;function Wt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var bl=vr(null),Pl=null,Ri=null,cf=null;function hf(){cf=Ri=Pl=null}function df(t){var e=bl.current;ge(bl),t._currentValue=e}function Mh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gi(t,e){Pl=t,cf=Ri=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Et=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(cf!==t)if(t={context:t,memoizedValue:e,next:null},Ri===null){if(Pl===null)throw Error(k(308));Ri=t,Pl.dependencies={lanes:0,firstContext:t}}else Ri=Ri.next=t;return e}var Or=null;function ff(t){Or===null?Or=[t]:Or.push(t)}function b0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ff(e)):(n.next=i.next,i.next=n),e.interleaved=n,In(t,r)}function In(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(re&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,In(t,n)}return i=r.interleaved,i===null?(e.next=e,ff(r)):(e.next=i.next,i.next=e),r.interleaved=e,In(t,n)}function ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jd(t,n)}}function gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $l(t,e,n,r){var i=t.updateQueue;Bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,C=a;switch(m=e,y=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){h=S.call(y,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,m=typeof S=="function"?S.call(y,h,m):S,m==null)break e;h=Ee({},h,m);break e;case 2:Bn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xr|=o,t.lanes=o,t.memoizedState=h}}function yv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var $0=new bw.Component().refs;function Oh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wu={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=er(t),s=Cn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jn(t,s,i),e!==null&&(Zt(e,t,i,r),ol(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=er(t),s=Cn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jn(t,s,i),e!==null&&(Zt(e,t,i,r),ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=er(t),i=Cn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jn(t,i,r),e!==null&&(Zt(e,t,r,n),ol(e,t,r))}};function vv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Eo(n,r)||!Eo(i,s):!0}function F0(t,e,n){var r=!1,i=or,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=kt(e)?Wr:ht.current,r=e.contextTypes,s=(r=r!=null)?Yi(t,i):or),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wu.enqueueReplaceState(e,e.state,null)}function Vh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=$0,pf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=kt(e)?Wr:ht.current,i.context=Yi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Oh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wu.enqueueReplaceState(i,i.state,null),$l(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===$0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function Ua(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function R0(t){function e(_,g){if(t){var w=_.deletions;w===null?(_.deletions=[g],_.flags|=16):w.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function i(_,g){return _=tr(_,g),_.index=0,_.sibling=null,_}function s(_,g,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<g?(_.flags|=2,g):w):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,w,T){return g===null||g.tag!==6?(g=zc(w,_.mode,T),g.return=_,g):(g=i(g,w),g.return=_,g)}function l(_,g,w,T){var N=w.type;return N===ki?c(_,g,w.props.children,T,w.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vn&&wv(N)===g.type)?(T=i(g,w.props),T.ref=Rs(_,g,w),T.return=_,T):(T=dl(w.type,w.key,w.props,null,_.mode,T),T.ref=Rs(_,g,w),T.return=_,T)}function u(_,g,w,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=jc(w,_.mode,T),g.return=_,g):(g=i(g,w.children||[]),g.return=_,g)}function c(_,g,w,T,N){return g===null||g.tag!==7?(g=Gr(w,_.mode,T,N),g.return=_,g):(g=i(g,w),g.return=_,g)}function h(_,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zc(""+g,_.mode,w),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case La:return w=dl(g.type,g.key,g.props,null,_.mode,w),w.ref=Rs(_,null,g),w.return=_,w;case Ii:return g=jc(g,_.mode,w),g.return=_,g;case Vn:var T=g._init;return h(_,T(g._payload),w)}if(Hs(g)||As(g))return g=Gr(g,_.mode,w,null),g.return=_,g;Ua(_,g)}return null}function m(_,g,w,T){var N=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:a(_,g,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case La:return w.key===N?l(_,g,w,T):null;case Ii:return w.key===N?u(_,g,w,T):null;case Vn:return N=w._init,m(_,g,N(w._payload),T)}if(Hs(w)||As(w))return N!==null?null:c(_,g,w,T,null);Ua(_,w)}return null}function y(_,g,w,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(w)||null,a(g,_,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case La:return _=_.get(T.key===null?w:T.key)||null,l(g,_,T,N);case Ii:return _=_.get(T.key===null?w:T.key)||null,u(g,_,T,N);case Vn:var L=T._init;return y(_,g,w,L(T._payload),N)}if(Hs(T)||As(T))return _=_.get(w)||null,c(g,_,T,N,null);Ua(g,T)}return null}function S(_,g,w,T){for(var N=null,L=null,A=g,R=g=0,ue=null;A!==null&&R<w.length;R++){A.index>R?(ue=A,A=null):ue=A.sibling;var J=m(_,A,w[R],T);if(J===null){A===null&&(A=ue);break}t&&A&&J.alternate===null&&e(_,A),g=s(J,g,R),L===null?N=J:L.sibling=J,L=J,A=ue}if(R===w.length)return n(_,A),ve&&Ir(_,R),N;if(A===null){for(;R<w.length;R++)A=h(_,w[R],T),A!==null&&(g=s(A,g,R),L===null?N=A:L.sibling=A,L=A);return ve&&Ir(_,R),N}for(A=r(_,A);R<w.length;R++)ue=y(A,_,R,w[R],T),ue!==null&&(t&&ue.alternate!==null&&A.delete(ue.key===null?R:ue.key),g=s(ue,g,R),L===null?N=ue:L.sibling=ue,L=ue);return t&&A.forEach(function(rt){return e(_,rt)}),ve&&Ir(_,R),N}function C(_,g,w,T){var N=As(w);if(typeof N!="function")throw Error(k(150));if(w=N.call(w),w==null)throw Error(k(151));for(var L=N=null,A=g,R=g=0,ue=null,J=w.next();A!==null&&!J.done;R++,J=w.next()){A.index>R?(ue=A,A=null):ue=A.sibling;var rt=m(_,A,J.value,T);if(rt===null){A===null&&(A=ue);break}t&&A&&rt.alternate===null&&e(_,A),g=s(rt,g,R),L===null?N=rt:L.sibling=rt,L=rt,A=ue}if(J.done)return n(_,A),ve&&Ir(_,R),N;if(A===null){for(;!J.done;R++,J=w.next())J=h(_,J.value,T),J!==null&&(g=s(J,g,R),L===null?N=J:L.sibling=J,L=J);return ve&&Ir(_,R),N}for(A=r(_,A);!J.done;R++,J=w.next())J=y(A,_,R,J.value,T),J!==null&&(t&&J.alternate!==null&&A.delete(J.key===null?R:J.key),g=s(J,g,R),L===null?N=J:L.sibling=J,L=J);return t&&A.forEach(function(de){return e(_,de)}),ve&&Ir(_,R),N}function P(_,g,w,T){if(typeof w=="object"&&w!==null&&w.type===ki&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case La:e:{for(var N=w.key,L=g;L!==null;){if(L.key===N){if(N=w.type,N===ki){if(L.tag===7){n(_,L.sibling),g=i(L,w.props.children),g.return=_,_=g;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vn&&wv(N)===L.type){n(_,L.sibling),g=i(L,w.props),g.ref=Rs(_,L,w),g.return=_,_=g;break e}n(_,L);break}else e(_,L);L=L.sibling}w.type===ki?(g=Gr(w.props.children,_.mode,T,w.key),g.return=_,_=g):(T=dl(w.type,w.key,w.props,null,_.mode,T),T.ref=Rs(_,g,w),T.return=_,_=T)}return o(_);case Ii:e:{for(L=w.key;g!==null;){if(g.key===L)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(_,g.sibling),g=i(g,w.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=jc(w,_.mode,T),g.return=_,_=g}return o(_);case Vn:return L=w._init,P(_,g,L(w._payload),T)}if(Hs(w))return S(_,g,w,T);if(As(w))return C(_,g,w,T);Ua(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(_,g.sibling),g=i(g,w),g.return=_,_=g):(n(_,g),g=zc(w,_.mode,T),g.return=_,_=g),o(_)):n(_,g)}return P}var Ji=R0(!0),M0=R0(!1),sa={},fn=vr(sa),ko=vr(sa),No=vr(sa);function Vr(t){if(t===sa)throw Error(k(174));return t}function mf(t,e){switch(fe(No,e),fe(ko,t),fe(fn,sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yh(e,t)}ge(fn),fe(fn,e)}function Zi(){ge(fn),ge(ko),ge(No)}function O0(t){Vr(No.current);var e=Vr(fn.current),n=yh(e,t.type);e!==n&&(fe(ko,t),fe(fn,n))}function gf(t){ko.current===t&&(ge(fn),ge(ko))}var xe=vr(0);function Fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rc=[];function yf(){for(var t=0;t<Rc.length;t++)Rc[t]._workInProgressVersionPrimary=null;Rc.length=0}var al=An.ReactCurrentDispatcher,Mc=An.ReactCurrentBatchConfig,Yr=0,Ce=null,Oe=null,ze=null,Rl=!1,so=!1,Lo=0,GP=0;function ot(){throw Error(k(321))}function vf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function _f(t,e,n,r,i,s){if(Yr=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,al.current=t===null||t.memoizedState===null?QP:YP,t=n(r,i),so){s=0;do{if(so=!1,Lo=0,25<=s)throw Error(k(301));s+=1,ze=Oe=null,e.updateQueue=null,al.current=XP,t=n(r,i)}while(so)}if(al.current=Ml,e=Oe!==null&&Oe.next!==null,Yr=0,ze=Oe=Ce=null,Rl=!1,e)throw Error(k(300));return t}function wf(){var t=Lo!==0;return Lo=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ce.memoizedState=ze=t:ze=ze.next=t,ze}function Kt(){if(Oe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=ze===null?Ce.memoizedState:ze.next;if(e!==null)ze=e,Oe=t;else{if(t===null)throw Error(k(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},ze===null?Ce.memoizedState=ze=t:ze=ze.next=t}return ze}function Ao(t,e){return typeof e=="function"?e(t):e}function Oc(t){var e=Kt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Yr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ce.lanes|=c,Xr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,en(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ce.lanes|=s,Xr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vc(t){var e=Kt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);en(s,e.memoizedState)||(Et=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function V0(){}function B0(t,e){var n=Ce,r=Kt(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,Sf(j0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,bo(9,z0.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(k(349));(Yr&30)!==0||U0(n,e,i)}return i}function U0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z0(t,e,n,r){e.value=n,e.getSnapshot=r,q0(e)&&G0(t)}function j0(t,e,n){return n(function(){q0(e)&&G0(t)})}function q0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function G0(t){var e=In(t,1);e!==null&&Zt(e,t,1,-1)}function Sv(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:t},e.queue=t,t=t.dispatch=WP.bind(null,Ce,t),[e.memoizedState,t]}function bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K0(){return Kt().memoizedState}function ll(t,e,n,r){var i=an();Ce.flags|=t,i.memoizedState=bo(1|e,n,void 0,r===void 0?null:r)}function Su(t,e,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(Oe!==null){var o=Oe.memoizedState;if(s=o.destroy,r!==null&&vf(r,o.deps)){i.memoizedState=bo(e,n,s,r);return}}Ce.flags|=t,i.memoizedState=bo(1|e,n,s,r)}function xv(t,e){return ll(8390656,8,t,e)}function Sf(t,e){return Su(2048,8,t,e)}function H0(t,e){return Su(4,2,t,e)}function W0(t,e){return Su(4,4,t,e)}function Q0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y0(t,e,n){return n=n!=null?n.concat([t]):null,Su(4,4,Q0.bind(null,e,t),n)}function xf(){}function X0(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J0(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z0(t,e,n){return(Yr&21)===0?(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n):(en(n,e)||(n=n0(),Ce.lanes|=n,Xr|=n,t.baseState=!0),e)}function KP(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Mc.transition;Mc.transition={};try{t(!1),e()}finally{ae=n,Mc.transition=r}}function e1(){return Kt().memoizedState}function HP(t,e,n){var r=er(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t1(t))n1(e,n);else if(n=b0(t,e,n,r),n!==null){var i=gt();Zt(n,t,r,i),r1(n,e,r)}}function WP(t,e,n){var r=er(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t1(t))n1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,o)){var l=e.interleaved;l===null?(i.next=i,ff(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=b0(t,e,i,r),n!==null&&(i=gt(),Zt(n,t,r,i),r1(n,e,r))}}function t1(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function n1(t,e){so=Rl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r1(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jd(t,n)}}var Ml={readContext:Gt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},QP={readContext:Gt,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ll(4194308,4,Q0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ll(4194308,4,t,e)},useInsertionEffect:function(t,e){return ll(4,2,t,e)},useMemo:function(t,e){var n=an();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=an();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HP.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:xf,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=KP.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=an();if(ve){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),qe===null)throw Error(k(349));(Yr&30)!==0||U0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xv(j0.bind(null,r,s,t),[t]),r.flags|=2048,bo(9,z0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=an(),e=qe.identifierPrefix;if(ve){var n=Sn,r=wn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YP={readContext:Gt,useCallback:X0,useContext:Gt,useEffect:Sf,useImperativeHandle:Y0,useInsertionEffect:H0,useLayoutEffect:W0,useMemo:J0,useReducer:Oc,useRef:K0,useState:function(){return Oc(Ao)},useDebugValue:xf,useDeferredValue:function(t){var e=Kt();return Z0(e,Oe.memoizedState,t)},useTransition:function(){var t=Oc(Ao)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:V0,useSyncExternalStore:B0,useId:e1,unstable_isNewReconciler:!1},XP={readContext:Gt,useCallback:X0,useContext:Gt,useEffect:Sf,useImperativeHandle:Y0,useInsertionEffect:H0,useLayoutEffect:W0,useMemo:J0,useReducer:Vc,useRef:K0,useState:function(){return Vc(Ao)},useDebugValue:xf,useDeferredValue:function(t){var e=Kt();return Oe===null?e.memoizedState=t:Z0(e,Oe.memoizedState,t)},useTransition:function(){var t=Vc(Ao)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:V0,useSyncExternalStore:B0,useId:e1,unstable_isNewReconciler:!1};function es(t,e){try{var n="",r=e;do n+=Tb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bc(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Bh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JP=typeof WeakMap=="function"?WeakMap:Map;function i1(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vl||(Vl=!0,Yh=r),Bh(t,e)},n}function s1(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bh(t,e),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=d$.bind(null,t,e,n),e.then(t,t))}function Ev(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tv(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cn(-1,1),e.tag=2,Jn(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ZP=An.ReactCurrentOwner,Et=!1;function dt(t,e,n,r){e.child=t===null?M0(e,null,n,r):Ji(e,t.child,n,r)}function Dv(t,e,n,r,i){n=n.render;var s=e.ref;return Gi(e,i),r=_f(t,e,n,r,s,i),n=wf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kn(t,e,i)):(ve&&n&&af(e),e.flags|=1,dt(t,e,r,i),e.child)}function Iv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,o1(t,e,s,r,i)):(t=dl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(o,r)&&t.ref===e.ref)return kn(t,e,i)}return e.flags|=1,t=tr(s,r),t.ref=e.ref,t.return=e,e.child=t}function o1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Eo(s,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Et=!0);else return e.lanes=t.lanes,kn(t,e,i)}return Uh(t,e,n,r,i)}function a1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Oi,At),At|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Oi,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Oi,At),At|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Oi,At),At|=r;return dt(t,e,i,n),e.child}function l1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uh(t,e,n,r,i){var s=kt(n)?Wr:ht.current;return s=Yi(e,s),Gi(e,i),n=_f(t,e,n,r,s,i),r=wf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kn(t,e,i)):(ve&&r&&af(e),e.flags|=1,dt(t,e,n,i),e.child)}function kv(t,e,n,r,i){if(kt(n)){var s=!0;Nl(e)}else s=!1;if(Gi(e,i),e.stateNode===null)ul(t,e),F0(e,n,r),Vh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=kt(n)?Wr:ht.current,u=Yi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_v(e,o,r,u),Bn=!1;var m=e.memoizedState;o.state=m,$l(e,r,o,i),l=e.memoizedState,a!==r||m!==l||It.current||Bn?(typeof c=="function"&&(Oh(e,n,c,r),l=e.memoizedState),(a=Bn||vv(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,P0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wt(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=kt(n)?Wr:ht.current,l=Yi(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&_v(e,o,r,l),Bn=!1,m=e.memoizedState,o.state=m,$l(e,r,o,i);var S=e.memoizedState;a!==h||m!==S||It.current||Bn?(typeof y=="function"&&(Oh(e,n,y,r),S=e.memoizedState),(u=Bn||vv(e,n,u,r,m,S,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return zh(t,e,n,r,s,i)}function zh(t,e,n,r,i,s){l1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fv(e,n,!1),kn(t,e,s);r=e.stateNode,ZP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ji(e,t.child,null,s),e.child=Ji(e,null,a,s)):dt(t,e,a,s),e.memoizedState=r.state,i&&fv(e,n,!0),e.child}function u1(t){var e=t.stateNode;e.pendingContext?dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dv(t,e.context,!1),mf(t,e.containerInfo)}function Nv(t,e,n,r,i){return Xi(),uf(i),e.flags|=256,dt(t,e,n,r),e.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function c1(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(xe,i&1),t===null)return Rh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Eu(o,r,0,null),t=Gr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qh(n),e.memoizedState=jh,t):Cf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return e$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=tr(a,s):(s=Gr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jh,r}return s=t.child,t=s.sibling,r=tr(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cf(t,e){return e=Eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function za(t,e,n,r){return r!==null&&uf(r),Ji(e,t.child,null,n),t=Cf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Bc(Error(k(422))),za(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Eu({mode:"visible",children:r.children},i,0,null),s=Gr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Ji(e,t.child,null,o),e.child.memoizedState=qh(o),e.memoizedState=jh,s);if((e.mode&1)===0)return za(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=Bc(s,r,void 0),za(t,e,o,r)}if(a=(o&t.childLanes)!==0,Et||a){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,In(t,i),Zt(r,t,i,-1))}return Nf(),r=Bc(Error(k(421))),za(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bt=Xn(i.nextSibling),Pt=e,ve=!0,Yt=null,t!==null&&(Bt[Ut++]=wn,Bt[Ut++]=Sn,Bt[Ut++]=Qr,wn=t.id,Sn=t.overflow,Qr=e),e=Cf(e,r.children),e.flags|=4096,e)}function Lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mh(t.return,e,n)}function Uc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function h1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=xe.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lv(t,n,e);else if(t.tag===19)Lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(xe,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Uc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Uc(e,!0,n,null,s);break;case"together":Uc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ul(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xr|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function t$(t,e,n){switch(e.tag){case 3:u1(e),Xi();break;case 5:O0(e);break;case 1:kt(e.type)&&Nl(e);break;case 4:mf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(xe,xe.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?c1(t,e,n):(fe(xe,xe.current&1),t=kn(t,e,n),t!==null?t.sibling:null);fe(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return h1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,a1(t,e,n)}return kn(t,e,n)}var d1,Gh,f1,p1;d1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gh=function(){};f1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vr(fn.current);var s=null;switch(n){case"input":i=fh(t,i),r=fh(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=gh(t,i),r=gh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Il)}vh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};p1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ms(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function n$(t,e,n){var r=e.pendingProps;switch(lf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return kt(e.type)&&kl(),at(e),null;case 3:return r=e.stateNode,Zi(),ge(It),ge(ht),yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Yt!==null&&(Zh(Yt),Yt=null))),Gh(t,e),at(e),null;case 5:gf(e);var i=Vr(No.current);if(n=e.type,t!==null&&e.stateNode!=null)f1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return at(e),null}if(t=Vr(fn.current),Ba(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ln]=e,r[Io]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Qs.length;i++)pe(Qs[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Vy(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Uy(r,s),pe("invalid",r)}vh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Va(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Va(r.textContent,a,t),i=["children",""+a]):yo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Aa(r),By(r,s,!0);break;case"textarea":Aa(r),zy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Il)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ln]=e,t[Io]=r,d1(t,e,!1,!1),e.stateNode=t;e:{switch(o=_h(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qs.length;i++)pe(Qs[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Vy(t,r),i=fh(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Uy(t,r),i=gh(t,r),pe("invalid",t);break;default:i=r}vh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vo(t,l):typeof l=="number"&&vo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",t):l!=null&&Kd(t,s,l,o))}switch(n){case"input":Aa(t),By(t,r,!1);break;case"textarea":Aa(t),zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ui(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ui(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)p1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Vr(No.current),Vr(fn.current),Ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[ln]=e,(s=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:Va(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Va(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=e,e.stateNode=r}return at(e),null;case 13:if(ge(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&bt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)A0(),Xi(),e.flags|=98560,s=!1;else if(s=Ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(k(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[ln]=e}else Xi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;at(e),s=!1}else Yt!==null&&(Zh(Yt),Yt=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(xe.current&1)!==0?Ve===0&&(Ve=3):Nf())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Zi(),Gh(t,e),t===null&&To(e.stateNode.containerInfo),at(e),null;case 10:return df(e.type._context),at(e),null;case 17:return kt(e.type)&&kl(),at(e),null;case 19:if(ge(xe),s=e.memoizedState,s===null)return at(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ms(s,!1);else{if(Ve!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Fl(t),o!==null){for(e.flags|=128,Ms(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>ts&&(e.flags|=128,r=!0,Ms(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return at(e),null}else 2*Ae()-s.renderingStartTime>ts&&n!==1073741824&&(e.flags|=128,r=!0,Ms(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=xe.current,fe(xe,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return kf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(At&1073741824)!==0&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function r$(t,e){switch(lf(e),e.tag){case 1:return kt(e.type)&&kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zi(),ge(It),ge(ht),yf(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return gf(e),null;case 13:if(ge(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(xe),null;case 4:return Zi(),null;case 10:return df(e.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var ja=!1,lt=!1,i$=typeof WeakSet=="function"?WeakSet:Set,O=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function Kh(t,e,n){try{n()}catch(r){Te(t,e,r)}}var Av=!1;function s$(t,e){if(Nh=El,t=v0(),of(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,m=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lh={focusedElem:t,selectionRange:n},El=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var S=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,P=S.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?C:Wt(e.type,C),P);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(T){Te(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return S=Av,Av=!1,S}function oo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kh(e,n,s)}i=i.next}while(i!==r)}}function xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m1(t){var e=t.alternate;e!==null&&(t.alternate=null,m1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ln],delete e[Io],delete e[Ph],delete e[UP],delete e[zP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g1(t){return t.tag===5||t.tag===3||t.tag===4}function bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Il));else if(r!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}function Qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qh(t,e,n),t=t.sibling;t!==null;)Qh(t,e,n),t=t.sibling}var Qe=null,Qt=!1;function Fn(t,e,n){for(n=n.child;n!==null;)y1(t,e,n),n=n.sibling}function y1(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(pu,n)}catch{}switch(n.tag){case 5:lt||Mi(n,e);case 6:var r=Qe,i=Qt;Qe=null,Fn(t,e,n),Qe=r,Qt=i,Qe!==null&&(Qt?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Qt?(t=Qe,n=n.stateNode,t.nodeType===8?$c(t.parentNode,n):t.nodeType===1&&$c(t,n),xo(t)):$c(Qe,n.stateNode));break;case 4:r=Qe,i=Qt,Qe=n.stateNode.containerInfo,Qt=!0,Fn(t,e,n),Qe=r,Qt=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Kh(n,e,o),i=i.next}while(i!==r)}Fn(t,e,n);break;case 1:if(!lt&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}Fn(t,e,n);break;case 21:Fn(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Fn(t,e,n),lt=r):Fn(t,e,n);break;default:Fn(t,e,n)}}function Pv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new i$),e.forEach(function(r){var i=p$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,Qt=!1;break e;case 3:Qe=a.stateNode.containerInfo,Qt=!0;break e;case 4:Qe=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Qe===null)throw Error(k(160));y1(s,o,i),Qe=null,Qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v1(e,t),e=e.sibling}function v1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),on(t),r&4){try{oo(3,t,t.return),xu(3,t)}catch(C){Te(t,t.return,C)}try{oo(5,t,t.return)}catch(C){Te(t,t.return,C)}}break;case 1:Ht(e,t),on(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Ht(e,t),on(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var i=t.stateNode;try{vo(i,"")}catch(C){Te(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Vw(i,s),_h(a,o);var u=_h(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?qw(i,h):c==="dangerouslySetInnerHTML"?zw(i,h):c==="children"?vo(i,h):Kd(i,c,h,u)}switch(a){case"input":ph(i,s);break;case"textarea":Bw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ui(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ui(i,!!s.multiple,s.defaultValue,!0):Ui(i,!!s.multiple,s.multiple?[]:"",!1))}i[Io]=s}catch(C){Te(t,t.return,C)}}break;case 6:if(Ht(e,t),on(t),r&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){Te(t,t.return,C)}}break;case 3:if(Ht(e,t),on(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(e.containerInfo)}catch(C){Te(t,t.return,C)}break;case 4:Ht(e,t),on(t);break;case 13:Ht(e,t),on(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Df=Ae())),r&4&&Pv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(u=lt)||c,Ht(e,t),lt=u):Ht(e,t),on(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(m=O,y=m.child,m.tag){case 0:case 11:case 14:case 15:oo(4,m,m.return);break;case 1:Mi(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){Te(r,n,C)}}break;case 5:Mi(m,m.return);break;case 22:if(m.memoizedState!==null){Fv(h);continue}}y!==null?(y.return=m,O=y):Fv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jw("display",o))}catch(C){Te(t,t.return,C)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(C){Te(t,t.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(e,t),on(t),r&4&&Pv(t);break;case 21:break;default:Ht(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g1(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vo(i,""),r.flags&=-33);var s=bv(t);Qh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bv(t);Wh(t,a,o);break;default:throw Error(k(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o$(t,e,n){O=t,_1(t)}function _1(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ja;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=ja;var u=lt;if(ja=o,(lt=l)&&!u)for(O=i;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Rv(i):l!==null?(l.return=o,O=l):Rv(i);for(;s!==null;)O=s,_1(s),s=s.sibling;O=i,ja=a,lt=u}$v(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,O=s):$v(t)}}function $v(t){for(;O!==null;){var e=O;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:lt||xu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&xo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}lt||e.flags&512&&Hh(e)}catch(m){Te(e,e.return,m)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Fv(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Rv(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xu(4,e)}catch(l){Te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Te(e,i,l)}}var s=e.return;try{Hh(e)}catch(l){Te(e,s,l)}break;case 5:var o=e.return;try{Hh(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var a$=Math.ceil,Ol=An.ReactCurrentDispatcher,Ef=An.ReactCurrentOwner,qt=An.ReactCurrentBatchConfig,re=0,qe=null,Re=null,Je=0,At=0,Oi=vr(0),Ve=0,Po=null,Xr=0,Cu=0,Tf=0,ao=null,Ct=null,Df=0,ts=1/0,vn=null,Vl=!1,Yh=null,Zn=null,qa=!1,Kn=null,Bl=0,lo=0,Xh=null,cl=-1,hl=0;function gt(){return(re&6)!==0?Ae():cl!==-1?cl:cl=Ae()}function er(t){return(t.mode&1)===0?1:(re&2)!==0&&Je!==0?Je&-Je:qP.transition!==null?(hl===0&&(hl=n0()),hl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:u0(t.type)),t)}function Zt(t,e,n,r){if(50<lo)throw lo=0,Xh=null,Error(k(185));na(t,n,r),((re&2)===0||t!==qe)&&(t===qe&&((re&2)===0&&(Cu|=n),Ve===4&&zn(t,Je)),Nt(t,r),n===1&&re===0&&(e.mode&1)===0&&(ts=Ae()+500,_u&&_r()))}function Nt(t,e){var n=t.callbackNode;qb(t,e);var r=Cl(t,t===qe?Je:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?jP(Mv.bind(null,t)):k0(Mv.bind(null,t)),VP(function(){(re&6)===0&&_r()}),n=null;else{switch(r0(r)){case 1:n=Xd;break;case 4:n=e0;break;case 16:n=xl;break;case 536870912:n=t0;break;default:n=xl}n=I1(n,w1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w1(t,e){if(cl=-1,hl=0,(re&6)!==0)throw Error(k(327));var n=t.callbackNode;if(Ki()&&t.callbackNode!==n)return null;var r=Cl(t,t===qe?Je:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Ul(t,r);else{e=r;var i=re;re|=2;var s=x1();(qe!==t||Je!==e)&&(vn=null,ts=Ae()+500,qr(t,e));do try{c$();break}catch(a){S1(t,a)}while(1);hf(),Ol.current=s,re=i,Re!==null?e=0:(qe=null,Je=0,e=Ve)}if(e!==0){if(e===2&&(i=Eh(t),i!==0&&(r=i,e=Jh(t,i))),e===1)throw n=Po,qr(t,0),zn(t,r),Nt(t,Ae()),n;if(e===6)zn(t,r);else{if(i=t.current.alternate,(r&30)===0&&!l$(i)&&(e=Ul(t,r),e===2&&(s=Eh(t),s!==0&&(r=s,e=Jh(t,s))),e===1))throw n=Po,qr(t,0),zn(t,r),Nt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:kr(t,Ct,vn);break;case 3:if(zn(t,r),(r&130023424)===r&&(e=Df+500-Ae(),10<e)){if(Cl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bh(kr.bind(null,t,Ct,vn),e);break}kr(t,Ct,vn);break;case 4:if(zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a$(r/1960))-r,10<r){t.timeoutHandle=bh(kr.bind(null,t,Ct,vn),r);break}kr(t,Ct,vn);break;case 5:kr(t,Ct,vn);break;default:throw Error(k(329))}}}return Nt(t,Ae()),t.callbackNode===n?w1.bind(null,t):null}function Jh(t,e){var n=ao;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=Ul(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&Zh(e)),t}function Zh(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function l$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e){for(e&=~Tf,e&=~Cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Mv(t){if((re&6)!==0)throw Error(k(327));Ki();var e=Cl(t,0);if((e&1)===0)return Nt(t,Ae()),null;var n=Ul(t,e);if(t.tag!==0&&n===2){var r=Eh(t);r!==0&&(e=r,n=Jh(t,r))}if(n===1)throw n=Po,qr(t,0),zn(t,e),Nt(t,Ae()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,Ct,vn),Nt(t,Ae()),null}function If(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(ts=Ae()+500,_u&&_r())}}function Jr(t){Kn!==null&&Kn.tag===0&&(re&6)===0&&Ki();var e=re;re|=1;var n=qt.transition,r=ae;try{if(qt.transition=null,ae=1,t)return t()}finally{ae=r,qt.transition=n,re=e,(re&6)===0&&_r()}}function kf(){At=Oi.current,ge(Oi)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OP(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:Zi(),ge(It),ge(ht),yf();break;case 5:gf(r);break;case 4:Zi();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:df(r.type._context);break;case 22:case 23:kf()}n=n.return}if(qe=t,Re=t=tr(t.current,null),Je=At=e,Ve=0,Po=null,Tf=Cu=Xr=0,Ct=ao=null,Or!==null){for(e=0;e<Or.length;e++)if(n=Or[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Or=null}return t}function S1(t,e){do{var n=Re;try{if(hf(),al.current=Ml,Rl){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rl=!1}if(Yr=0,ze=Oe=Ce=null,so=!1,Lo=0,Ef.current=null,n===null||n.return===null){Ve=1,Po=e,Re=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Ev(o);if(y!==null){y.flags&=-257,Tv(y,o,a,s,e),y.mode&1&&Cv(s,u,e),e=y,l=u;var S=e.updateQueue;if(S===null){var C=new Set;C.add(l),e.updateQueue=C}else S.add(l);break e}else{if((e&1)===0){Cv(s,u,e),Nf();break e}l=Error(k(426))}}else if(ve&&a.mode&1){var P=Ev(o);if(P!==null){(P.flags&65536)===0&&(P.flags|=256),Tv(P,o,a,s,e),uf(es(l,a));break e}}s=l=es(l,a),Ve!==4&&(Ve=2),ao===null?ao=[s]:ao.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=i1(s,l,e);gv(s,_);break e;case 1:a=l;var g=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zn===null||!Zn.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=s1(s,a,e);gv(s,T);break e}}s=s.return}while(s!==null)}E1(n)}catch(N){e=N,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(1)}function x1(){var t=Ol.current;return Ol.current=Ml,t===null?Ml:t}function Nf(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),qe===null||(Xr&268435455)===0&&(Cu&268435455)===0||zn(qe,Je)}function Ul(t,e){var n=re;re|=2;var r=x1();(qe!==t||Je!==e)&&(vn=null,qr(t,e));do try{u$();break}catch(i){S1(t,i)}while(1);if(hf(),re=n,Ol.current=r,Re!==null)throw Error(k(261));return qe=null,Je=0,Ve}function u$(){for(;Re!==null;)C1(Re)}function c$(){for(;Re!==null&&!Fb();)C1(Re)}function C1(t){var e=D1(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?E1(t):Re=e,Ef.current=null}function E1(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=n$(n,e,At),n!==null){Re=n;return}}else{if(n=r$(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Re=null;return}}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Ve===0&&(Ve=5)}function kr(t,e,n){var r=ae,i=qt.transition;try{qt.transition=null,ae=1,h$(t,e,n,r)}finally{qt.transition=i,ae=r}return null}function h$(t,e,n,r){do Ki();while(Kn!==null);if((re&6)!==0)throw Error(k(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Gb(t,s),t===qe&&(Re=qe=null,Je=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||qa||(qa=!0,I1(xl,function(){return Ki(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=qt.transition,qt.transition=null;var o=ae;ae=1;var a=re;re|=4,Ef.current=null,s$(t,n),v1(n,t),AP(Lh),El=!!Nh,Lh=Nh=null,t.current=n,o$(n),Rb(),re=a,ae=o,qt.transition=s}else t.current=n;if(qa&&(qa=!1,Kn=t,Bl=i),s=t.pendingLanes,s===0&&(Zn=null),Vb(n.stateNode),Nt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,t=Yh,Yh=null,t;return(Bl&1)!==0&&t.tag!==0&&Ki(),s=t.pendingLanes,(s&1)!==0?t===Xh?lo++:(lo=0,Xh=t):lo=0,_r(),null}function Ki(){if(Kn!==null){var t=r0(Bl),e=qt.transition,n=ae;try{if(qt.transition=null,ae=16>t?16:t,Kn===null)var r=!1;else{if(t=Kn,Kn=null,Bl=0,(re&6)!==0)throw Error(k(331));var i=re;for(re|=4,O=t.current;O!==null;){var s=O,o=s.child;if((O.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:oo(8,c,s)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var m=c.sibling,y=c.return;if(m1(c),c===u){O=null;break}if(m!==null){m.return=y,O=m;break}O=y}}}var S=s.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}O=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:oo(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,O=_;break e}O=s.return}}var g=t.current;for(O=g;O!==null;){o=O;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,O=w;else e:for(o=g;O!==null;){if(a=O,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:xu(9,a)}}catch(N){Te(a,a.return,N)}if(a===o){O=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,O=T;break e}O=a.return}}if(re=i,_r(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(pu,t)}catch{}r=!0}return r}finally{ae=n,qt.transition=e}}return!1}function Ov(t,e,n){e=es(n,e),e=i1(t,e,1),t=Jn(t,e,1),e=gt(),t!==null&&(na(t,1,e),Nt(t,e))}function Te(t,e,n){if(t.tag===3)Ov(t,t,n);else for(;e!==null;){if(e.tag===3){Ov(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){t=es(n,t),t=s1(e,t,1),e=Jn(e,t,1),t=gt(),e!==null&&(na(e,1,t),Nt(e,t));break}}e=e.return}}function d$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Je&n)===n&&(Ve===4||Ve===3&&(Je&130023424)===Je&&500>Ae()-Df?qr(t,0):Tf|=n),Nt(t,e)}function T1(t,e){e===0&&((t.mode&1)===0?e=1:(e=$a,$a<<=1,($a&130023424)===0&&($a=4194304)));var n=gt();t=In(t,e),t!==null&&(na(t,e,n),Nt(t,n))}function f$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T1(t,n)}function p$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),T1(t,n)}var D1;D1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)Et=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Et=!1,t$(t,e,n);Et=(t.flags&131072)!==0}else Et=!1,ve&&(e.flags&1048576)!==0&&N0(e,Al,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ul(t,e),t=e.pendingProps;var i=Yi(e,ht.current);Gi(e,n),i=_f(null,e,r,t,i,n);var s=wf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,Nl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pf(e),i.updater=wu,e.stateNode=i,i._reactInternals=e,Vh(e,r,t,n),e=zh(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&af(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ul(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=g$(r),t=Wt(r,t),i){case 0:e=Uh(null,e,r,t,n);break e;case 1:e=kv(null,e,r,t,n);break e;case 11:e=Dv(null,e,r,t,n);break e;case 14:e=Iv(null,e,r,Wt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),Uh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),kv(t,e,r,i,n);case 3:e:{if(u1(e),t===null)throw Error(k(387));r=e.pendingProps,s=e.memoizedState,i=s.element,P0(t,e),$l(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=es(Error(k(423)),e),e=Nv(t,e,r,n,i);break e}else if(r!==i){i=es(Error(k(424)),e),e=Nv(t,e,r,n,i);break e}else for(bt=Xn(e.stateNode.containerInfo.firstChild),Pt=e,ve=!0,Yt=null,n=M0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===i){e=kn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return O0(e),t===null&&Rh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ah(r,i)?o=null:s!==null&&Ah(r,s)&&(e.flags|=32),l1(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Rh(e),null;case 13:return c1(t,e,n);case 4:return mf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ji(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),Dv(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(bl,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!It.current){e=kn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Cn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Mh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Mh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gi(e,n),i=Gt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Wt(r,e.pendingProps),i=Wt(r.type,i),Iv(t,e,r,i,n);case 15:return o1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),ul(t,e),e.tag=1,kt(r)?(t=!0,Nl(e)):t=!1,Gi(e,n),F0(e,r,i),Vh(e,r,i,n),zh(null,e,r,!0,t,n);case 19:return h1(t,e,n);case 22:return a1(t,e,n)}throw Error(k(156,e.tag))};function I1(t,e){return Zw(t,e)}function m$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new m$(t,e,n,r)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g$(t){if(typeof t=="function")return Lf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wd)return 11;if(t===Qd)return 14}return 2}function tr(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ki:return Gr(n.children,i,s,e);case Hd:o=8,i|=8;break;case uh:return t=zt(12,n,e,i|2),t.elementType=uh,t.lanes=s,t;case ch:return t=zt(13,n,e,i),t.elementType=ch,t.lanes=s,t;case hh:return t=zt(19,n,e,i),t.elementType=hh,t.lanes=s,t;case Rw:return Eu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $w:o=10;break e;case Fw:o=9;break e;case Wd:o=11;break e;case Qd:o=14;break e;case Vn:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Gr(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function Eu(t,e,n,r){return t=zt(22,t,r,e),t.elementType=Rw,t.lanes=n,t.stateNode={isHidden:!1},t}function zc(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function jc(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function y$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cc(0),this.expirationTimes=Cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Af(t,e,n,r,i,s,o,a,l){return t=new y$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pf(s),t}function v$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function k1(t){if(!t)return or;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(kt(n))return I0(t,n,e)}return e}function N1(t,e,n,r,i,s,o,a,l){return t=Af(n,r,!0,t,i,s,o,a,l),t.context=k1(null),n=t.current,r=gt(),i=er(n),s=Cn(r,i),s.callback=e!=null?e:null,Jn(n,s,i),t.current.lanes=i,na(t,i,r),Nt(t,r),t}function Tu(t,e,n,r){var i=e.current,s=gt(),o=er(i);return n=k1(n),e.context===null?e.context=n:e.pendingContext=n,e=Cn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jn(i,e,o),t!==null&&(Zt(t,i,o,s),ol(t,i,o)),o}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bf(t,e){Vv(t,e),(t=t.alternate)&&Vv(t,e)}function _$(){return null}var L1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}Du.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Tu(t,e,null,null)};Du.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jr(function(){Tu(null,t,null,null)}),e[Dn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=o0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Un.length&&e!==0&&e<Un[n].priority;n++);Un.splice(n,0,t),n===0&&l0(t)}};function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function w$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=zl(o);s.call(u)}}var o=N1(e,r,t,0,null,!1,!1,"",Bv);return t._reactRootContainer=o,t[Dn]=o.current,To(t.nodeType===8?t.parentNode:t),Jr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zl(l);a.call(u)}}var l=Af(t,0,!1,null,null,!1,!1,"",Bv);return t._reactRootContainer=l,t[Dn]=l.current,To(t.nodeType===8?t.parentNode:t),Jr(function(){Tu(e,l,n,r)}),l}function ku(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zl(o);a.call(l)}}Tu(e,o,t,i)}else o=w$(n,e,t,i,r);return zl(o)}i0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ws(e.pendingLanes);n!==0&&(Jd(e,n|1),Nt(e,Ae()),(re&6)===0&&(ts=Ae()+500,_r()))}break;case 13:Jr(function(){var r=In(t,1);if(r!==null){var i=gt();Zt(r,t,1,i)}}),bf(t,1)}};Zd=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var n=gt();Zt(e,t,134217728,n)}bf(t,134217728)}};s0=function(t){if(t.tag===13){var e=er(t),n=In(t,e);if(n!==null){var r=gt();Zt(n,t,e,r)}bf(t,e)}};o0=function(){return ae};a0=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Sh=function(t,e,n){switch(e){case"input":if(ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vu(r);if(!i)throw Error(k(90));Ow(r),ph(r,i)}}}break;case"textarea":Bw(t,n);break;case"select":e=n.value,e!=null&&Ui(t,!!n.multiple,e,!1)}};Hw=If;Ww=Jr;var S$={usingClientEntryPoint:!1,Events:[ia,bi,vu,Gw,Kw,If]},Os={findFiberByHostInstance:Mr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},x$={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xw(t),t===null?null:t.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||_$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{pu=Ga.inject(x$),dn=Ga}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S$;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(e))throw Error(k(200));return v$(t,e,null,n)};Ot.createRoot=function(t,e){if(!$f(t))throw Error(k(299));var n=!1,r="",i=L1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Af(t,1,!1,null,null,n,!1,r,i),t[Dn]=e.current,To(t.nodeType===8?t.parentNode:t),new Pf(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Xw(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return Jr(t)};Ot.hydrate=function(t,e,n){if(!Iu(e))throw Error(k(200));return ku(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!$f(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=L1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=N1(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Dn]=e.current,To(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Du(e)};Ot.render=function(t,e,n){if(!Iu(e))throw Error(k(200));return ku(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!Iu(t))throw Error(k(40));return t._reactRootContainer?(Jr(function(){ku(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};Ot.unstable_batchedUpdates=If;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Iu(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return ku(t,e,n,!1,r)};Ot.version="18.2.0-next-9e3b772b8-20220608";function A1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A1)}catch(t){console.error(t)}}A1(),jd.exports=Ot;var Uv=jd.exports;ah.createRoot=Uv.createRoot,ah.hydrateRoot=Uv.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),r.push(n[c],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const m=s<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},E$=function(t){const e=b1(t);return P1.encodeByteArray(e,!0)},jl=function(t){return E$(t).replace(/\./g,"")},T$=function(t){try{return P1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ql(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!D$(n)||(t[n]=ql(t[n],e[n]));return t}function D$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I$(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k$(){return typeof self=="object"&&self.self===self}function N$(){return!I$()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function L$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function A$(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=()=>A$().__FIREBASE_DEFAULTS__,P$=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$$=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T$(t[1]);return e&&JSON.parse(e)},F$=()=>{try{return b$()||P$()||$$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R$=()=>{var t;return(t=F$())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jl(JSON.stringify(n)),jl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V$,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?B$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fi(i,a,r)}}function B$(t,e){return t.replace(U$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jv(s)&&jv(o)){if(!td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jv(t){return t!==null&&typeof t=="object"}function z$(t,e){const n=new j$(t,e);return n.subscribe.bind(n)}class j${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qc),i.error===void 0&&(i.error=qc),i.complete===void 0&&(i.complete=qc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H$(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K$(t){return t===Nr?void 0:t}function H$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=[];var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const F1={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Q$=se.INFO,Y$={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},X$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rf{constructor(e){this.name=e,this._logLevel=Q$,this._logHandler=X$,this._userLogHandler=null,Ff.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}function J$(t){Ff.forEach(e=>{e.setLogLevel(t)})}function Z$(t,e){for(const n of Ff){let r=null;e&&e.level&&(r=F1[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:se[s].toLowerCase(),message:a,args:o,type:i.name})}}}const eF=(t,e)=>e.some(n=>t instanceof n);let qv,Gv;function tF(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nF(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R1=new WeakMap,nd=new WeakMap,M1=new WeakMap,Gc=new WeakMap,Mf=new WeakMap;function rF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R1.set(n,t)}).catch(()=>{}),Mf.set(e,t),e}function iF(t){if(nd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nd.set(t,e)}let rd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sF(t){rd=t(rd)}function oF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kc(this),e,...n);return M1.set(r,e.sort?e.sort():[e]),nr(r)}:nF().includes(t)?function(...e){return t.apply(Kc(this),e),nr(R1.get(this))}:function(...e){return nr(t.apply(Kc(this),e))}}function aF(t){return typeof t=="function"?oF(t):(t instanceof IDBTransaction&&iF(t),eF(t,tF())?new Proxy(t,rd):t)}function nr(t){if(t instanceof IDBRequest)return rF(t);if(Gc.has(t))return Gc.get(t);const e=aF(t);return e!==t&&(Gc.set(t,e),Mf.set(e,t)),e}const Kc=t=>Mf.get(t);function lF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=nr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(nr(o.result),l.oldVersion,l.newVersion,nr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const uF=["get","getKey","getAll","getAllKeys","count"],cF=["put","add","delete","clear"],Hc=new Map;function Kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Hc.set(e,s),s}sF(t=>({...t,get:(e,n,r)=>Kv(e,n)||t.get(e,n,r),has:(e,n)=>!!Kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const id="@firebase/app",Hv="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Rf("@firebase/app"),fF="@firebase/app-compat",pF="@firebase/analytics-compat",mF="@firebase/analytics",gF="@firebase/app-check-compat",yF="@firebase/app-check",vF="@firebase/auth",_F="@firebase/auth-compat",wF="@firebase/database",SF="@firebase/database-compat",xF="@firebase/functions",CF="@firebase/functions-compat",EF="@firebase/installations",TF="@firebase/installations-compat",DF="@firebase/messaging",IF="@firebase/messaging-compat",kF="@firebase/performance",NF="@firebase/performance-compat",LF="@firebase/remote-config",AF="@firebase/remote-config-compat",bF="@firebase/storage",PF="@firebase/storage-compat",$F="@firebase/firestore",FF="@firebase/firestore-compat",RF="firebase",MF="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]",OF={[id]:"fire-core",[fF]:"fire-core-compat",[mF]:"fire-analytics",[pF]:"fire-analytics-compat",[yF]:"fire-app-check",[gF]:"fire-app-check-compat",[vF]:"fire-auth",[_F]:"fire-auth-compat",[wF]:"fire-rtdb",[SF]:"fire-rtdb-compat",[xF]:"fire-fn",[CF]:"fire-fn-compat",[EF]:"fire-iid",[TF]:"fire-iid-compat",[DF]:"fire-fcm",[IF]:"fire-fcm-compat",[kF]:"fire-perf",[NF]:"fire-perf-compat",[LF]:"fire-rc",[AF]:"fire-rc-compat",[bF]:"fire-gcs",[PF]:"fire-gcs-compat",[$F]:"fire-fst",[FF]:"fire-fst-compat","fire-js":"fire-js",[RF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Map,$o=new Map;function Gl(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function O1(t,e){t.container.addOrOverwriteComponent(e)}function ns(t){const e=t.name;if($o.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;$o.set(e,t);for(const n of lr.values())Gl(n,t);return!0}function V1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VF(t,e,n=ar){V1(t,e).clearInstance(n)}function BF(){$o.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},En=new Nu("app","Firebase",UF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=MF;function Vf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ar,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw En.create("bad-app-name",{appName:String(i)});if(n||(n=R$()),!n)throw En.create("no-options");const s=lr.get(i);if(s){if(td(n,s.options)&&td(r,s.config))return s;throw En.create("duplicate-app",{appName:i})}const o=new W$(i);for(const l of $o.values())o.addComponent(l);const a=new zF(n,r,o);return lr.set(i,a),a}function jF(t=ar){const e=lr.get(t);if(!e&&t===ar)return Vf();if(!e)throw En.create("no-app",{appName:t});return e}function qF(){return Array.from(lr.values())}async function B1(t){const e=t.name;lr.has(e)&&(lr.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function rr(t,e,n){var r;let i=(r=OF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}ns(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function U1(t,e){if(t!==null&&typeof t!="function")throw En.create("invalid-log-argument");Z$(t,e)}function z1(t){J$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="firebase-heartbeat-database",KF=1,Fo="firebase-heartbeat-store";let Wc=null;function j1(){return Wc||(Wc=lF(GF,KF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fo)}}}).catch(t=>{throw En.create("idb-open",{originalErrorMessage:t.message})})),Wc}async function HF(t){try{return(await j1()).transaction(Fo).objectStore(Fo).get(q1(t))}catch(e){if(e instanceof fi)ei.warn(e.message);else{const n=En.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function Wv(t,e){try{const r=(await j1()).transaction(Fo,"readwrite");return await r.objectStore(Fo).put(e,q1(t)),r.done}catch(n){if(n instanceof fi)ei.warn(n.message);else{const r=En.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function q1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=1024,QF=30*24*60*60*1e3;class YF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=QF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qv(),{heartbeatsToSend:n,unsentEntries:r}=XF(this._heartbeatsCache.heartbeats),i=jl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Qv(){return new Date().toISOString().substring(0,10)}function XF(t,e=WF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?L$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await HF(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Yv(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){ns(new Zr("platform-logger",e=>new hF(e),"PRIVATE")),ns(new Zr("heartbeat",e=>new YF(e),"PRIVATE")),rr(id,Hv,t),rr(id,Hv,"esm2017"),rr("fire-js","")}ZF("");var e2=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:Of,_DEFAULT_ENTRY_NAME:ar,_addComponent:Gl,_addOrOverwriteComponent:O1,_apps:lr,_clearComponents:BF,_components:$o,_getProvider:V1,_registerComponent:ns,_removeServiceInstance:VF,deleteApp:B1,getApp:jF,getApps:qF,initializeApp:Vf,onLog:U1,registerVersion:rr,setLogLevel:z1,FirebaseError:fi},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this._delegate=e,this.firebase=n,Gl(e,new Zr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),B1(this._delegate)))}_getService(e,n=ar){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ar){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Gl(this._delegate,e)}_addOrOverwriteComponent(e){O1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Xv=new Nu("app-compat","Firebase",n2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:rr,setLogLevel:z1,onLog:U1,apps:null,SDK_VERSION:Of,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:e2}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ar,!zv(e,u))throw Xv.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const h=Vf(u,c);if(zv(e,h.name))return e[h.name];const m=new t(h,n);return e[h.name]=m,m}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,h=c.replace("-compat","");if(ns(u)&&u.type==="PUBLIC"){const m=(y=i())=>{if(typeof y[h]!="function")throw Xv.create("invalid-app-argument",{appName:c});return y[h]()};u.serviceProps!==void 0&&ql(m,u.serviceProps),n[h]=m,t.prototype[h]=function(...y){return this._getService.bind(this,c).apply(this,u.multipleInstances?y:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){const t=r2(t2);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:G1,extendNamespace:e,createSubscribe:z$,ErrorFactory:Nu,deepExtend:ql});function e(n){ql(t,n)}return t}const i2=G1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Rf("@firebase/app-compat"),s2="@firebase/app-compat",o2="0.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){rr(s2,o2,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(k$()&&self.firebase!==void 0){Jv.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Jv.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Kl=i2;a2();var l2="firebase",u2="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kl.registerVersion(l2,u2,"app-compat");var c2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},B,Bf=Bf||{},Q=c2||self;function Hl(){}function Lu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function oa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function h2(t){return Object.prototype.hasOwnProperty.call(t,Qc)&&t[Qc]||(t[Qc]=++d2)}var Qc="closure_uid_"+(1e9*Math.random()>>>0),d2=0;function f2(t,e,n){return t.call.apply(t.bind,arguments)}function p2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=f2:ut=p2,ut.apply(null,arguments)}function Ka(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function wr(){this.s=this.s,this.o=this.o}var m2=0;wr.prototype.s=!1;wr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),m2!=0)&&h2(this)};wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Uf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Lu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var g2=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",Hl,e),Q.removeEventListener("test",Hl,e)}catch{}return t}();function Wl(t){return/^[\s\xa0]*$/.test(t)}var e_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Yc(t,e){return t<e?-1:t>e?1:0}function Au(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function un(t){return Au().indexOf(t)!=-1}function zf(t){return zf[" "](t),t}zf[" "]=Hl;function y2(t){var e=w2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var v2=un("Opera"),rs=un("Trident")||un("MSIE"),H1=un("Edge"),sd=H1||rs,W1=un("Gecko")&&!(Au().toLowerCase().indexOf("webkit")!=-1&&!un("Edge"))&&!(un("Trident")||un("MSIE"))&&!un("Edge"),_2=Au().toLowerCase().indexOf("webkit")!=-1&&!un("Edge");function Q1(){var t=Q.document;return t?t.documentMode:void 0}var Ql;e:{var Xc="",Jc=function(){var t=Au();if(W1)return/rv:([^\);]+)(\)|;)/.exec(t);if(H1)return/Edge\/([\d\.]+)/.exec(t);if(rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_2)return/WebKit\/(\S+)/.exec(t);if(v2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jc&&(Xc=Jc?Jc[1]:""),rs){var Zc=Q1();if(Zc!=null&&Zc>parseFloat(Xc)){Ql=String(Zc);break e}}Ql=Xc}var w2={};function S2(){return y2(function(){let t=0;const e=e_(String(Ql)).split("."),n=e_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Yc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Yc(i[2].length==0,s[2].length==0)||Yc(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var od;if(Q.document&&rs){var t_=Q1();od=t_||parseInt(Ql,10)||void 0}else od=void 0;var x2=od;function Ro(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W1){e:{try{zf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ro.X.h.call(this)}}nt(Ro,ct);var C2={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),E2=0;function T2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++E2,this.ba=this.ea=!1}function bu(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function jf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Y1(t){const e={};for(const n in t)e[n]=t[n];return e}const n_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<n_.length;s++)n=n_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pu(t){this.src=t,this.g={},this.h=0}Pu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ld(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new T2(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function ad(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=K1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ld(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var qf="closure_lm_"+(1e6*Math.random()|0),eh={};function J1(t,e,n,r,i){if(r&&r.once)return eS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)J1(t,e[s],n,r,i);return null}return n=Hf(n),t&&t[aa]?t.N(e,n,oa(r)?!!r.capture:!!r,i):Z1(t,e,n,!1,r,i)}function Z1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=oa(i)?!!i.capture:!!i,a=Kf(t);if(a||(t[qf]=a=new Pu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=D2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)g2||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function D2(){function t(n){return e.call(t.src,t.listener,n)}const e=I2;return t}function eS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eS(t,e[s],n,r,i);return null}return n=Hf(n),t&&t[aa]?t.O(e,n,oa(r)?!!r.capture:!!r,i):Z1(t,e,n,!0,r,i)}function tS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)tS(t,e[s],n,r,i);else r=oa(r)?!!r.capture:!!r,n=Hf(n),t&&t[aa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ld(s,n,r,i),-1<n&&(bu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Kf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ld(e,n,r,i)),(n=-1<t?e[t]:null)&&Gf(n))}function Gf(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[aa])ad(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kf(e))?(ad(n,t),n.h==0&&(n.src=null,e[qf]=null)):bu(t)}}}function nS(t){return t in eh?eh[t]:eh[t]="on"+t}function I2(t,e){if(t.ba)t=!0;else{e=new Ro(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Gf(t),t=n.call(r,e)}return t}function Kf(t){return t=t[qf],t instanceof Pu?t:null}var th="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hf(t){return typeof t=="function"?t:(t[th]||(t[th]=function(e){return t.handleEvent(e)}),t[th])}function Ke(){wr.call(this),this.i=new Pu(this),this.P=this,this.I=null}nt(Ke,wr);Ke.prototype[aa]=!0;Ke.prototype.removeEventListener=function(t,e,n,r){tS(this,t,e,n,r)};function Ze(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var i=e;e=new ct(r,t),X1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ha(o,r,!0,e)&&i}if(o=e.g=t,i=Ha(o,r,!0,e)&&i,i=Ha(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ha(o,r,!1,e)&&i}Ke.prototype.M=function(){if(Ke.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bu(n[r]);delete t.g[e],t.h--}}this.I=null};Ke.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ke.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ha(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ad(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Wf=Q.JSON.stringify;function k2(){var t=sS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class N2{constructor(){this.h=this.g=null}add(e,n){const r=rS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var rS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new L2,t=>t.reset());class L2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function A2(t){Q.setTimeout(()=>{throw t},0)}function iS(t,e){ud||b2(),cd||(ud(),cd=!0),sS.add(t,e)}var ud;function b2(){var t=Q.Promise.resolve(void 0);ud=function(){t.then(P2)}}var cd=!1,sS=new N2;function P2(){for(var t;t=k2();){try{t.h.call(t.g)}catch(n){A2(n)}var e=rS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cd=!1}function $u(t,e){Ke.call(this),this.h=t||1,this.g=e||Q,this.j=ut(this.lb,this),this.l=Date.now()}nt($u,Ke);B=$u.prototype;B.ca=!1;B.R=null;B.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ze(this,"tick"),this.ca&&(Qf(this),this.start()))}};B.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qf(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}B.M=function(){$u.X.M.call(this),Qf(this),delete this.g};function Yf(t,e,n){if(typeof t=="function")n&&(t=ut(t,n));else if(t&&typeof t.handleEvent=="function")t=ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function oS(t){t.g=Yf(()=>{t.g=null,t.i&&(t.i=!1,oS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $2 extends wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oS(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(t){wr.call(this),this.h=t,this.g={}}nt(Mo,wr);var r_=[];function aS(t,e,n,r){Array.isArray(n)||(n&&(r_[0]=n.toString()),n=r_);for(var i=0;i<n.length;i++){var s=J1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function lS(t){jf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Gf(e)},t),t.g={}}Mo.prototype.M=function(){Mo.X.M.call(this),lS(this)};Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fu(){this.g=!0}Fu.prototype.Aa=function(){this.g=!1};function F2(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function R2(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Vi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+O2(t,n)+(r?" "+r:"")})}function M2(t,e){t.info(function(){return"TIMEOUT: "+e})}Fu.prototype.info=function(){};function O2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Wf(n)}catch{return e}}var pi={},i_=null;function Ru(){return i_=i_||new Ke}pi.Pa="serverreachability";function uS(t){ct.call(this,pi.Pa,t)}nt(uS,ct);function Oo(t){const e=Ru();Ze(e,new uS(e))}pi.STAT_EVENT="statevent";function cS(t,e){ct.call(this,pi.STAT_EVENT,t),this.stat=e}nt(cS,ct);function mt(t){const e=Ru();Ze(e,new cS(e,t))}pi.Qa="timingevent";function hS(t,e){ct.call(this,pi.Qa,t),this.size=e}nt(hS,ct);function la(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Mu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xf(){}Xf.prototype.h=null;function s_(t){return t.h||(t.h=t.i())}function fS(){}var ua={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Jf(){ct.call(this,"d")}nt(Jf,ct);function Zf(){ct.call(this,"c")}nt(Zf,ct);var hd;function Ou(){}nt(Ou,Xf);Ou.prototype.g=function(){return new XMLHttpRequest};Ou.prototype.i=function(){return{}};hd=new Ou;function ca(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Mo(this),this.O=V2,t=sd?125:void 0,this.T=new $u(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new pS}function pS(){this.i=null,this.g="",this.h=!1}var V2=45e3,dd={},Yl={};B=ca.prototype;B.setTimeout=function(t){this.O=t};function fd(t,e,n){t.K=1,t.v=Bu(Nn(e)),t.s=n,t.P=!0,mS(t,null)}function mS(t,e){t.F=Date.now(),ha(t),t.A=Nn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),CS(n.i,"t",r),t.C=0,n=t.l.H,t.h=new pS,t.g=qS(t.l,n?e:null,!t.s),0<t.N&&(t.L=new $2(ut(t.La,t,t.g),t.N)),aS(t.S,t.g,"readystatechange",t.ib),e=t.H?Y1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Oo(),F2(t.j,t.u,t.A,t.m,t.U,t.s)}B.ib=function(t){t=t.target;const e=this.L;e&&xn(t)==3?e.l():this.La(t)};B.La=function(t){try{if(t==this.g)e:{const c=xn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||sd||this.g&&(this.h.h||this.g.fa()||u_(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Oo(3):Oo(2)),Vu(this);var n=this.g.aa();this.Y=n;t:if(gS(this)){var r=u_(this.g);t="";var i=r.length,s=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Br(this),uo(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,R2(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(a)){var u=a;break t}}u=null}if(n=u)Vi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pd(this,n);else{this.i=!1,this.o=3,mt(12),Br(this),uo(this);break e}}this.P?(yS(this,c,o),sd&&this.i&&c==3&&(aS(this.S,this.T,"tick",this.hb),this.T.start())):(Vi(this.j,this.m,o,null),pd(this,o)),c==4&&Br(this),this.i&&!this.I&&(c==4?BS(this.l,this):(this.i=!1,ha(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),Br(this),uo(this)}}}catch{}finally{}};function gS(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function yS(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=B2(t,n),i==Yl){e==4&&(t.o=4,mt(14),r=!1),Vi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dd){t.o=4,mt(15),Vi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Vi(t.j,t.m,i,null),pd(t,i);gS(t)&&i!=Yl&&i!=dd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),op(e),e.K=!0,mt(11))):(Vi(t.j,t.m,n,"[Invalid Chunked Response]"),Br(t),uo(t))}B.hb=function(){if(this.g){var t=xn(this.g),e=this.g.fa();this.C<e.length&&(Vu(this),yS(this,t,e),this.i&&t!=4&&ha(this))}};function B2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yl:(n=Number(e.substring(n,r)),isNaN(n)?dd:(r+=1,r+n>e.length?Yl:(e=e.substr(r,n),t.C=r+n,e)))}B.cancel=function(){this.I=!0,Br(this)};function ha(t){t.V=Date.now()+t.O,vS(t,t.O)}function vS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=la(ut(t.gb,t),e)}function Vu(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}B.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(M2(this.j,this.A),this.K!=2&&(Oo(),mt(17)),Br(this),this.o=2,uo(this)):vS(this,this.V-t)};function uo(t){t.l.G==0||t.I||BS(t.l,t)}function Br(t){Vu(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Qf(t.T),lS(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function pd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||md(n.h,t))){if(!t.J&&md(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Zl(n),ju(n);else break e;sp(n),mt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=la(ut(n.cb,n),6e3));if(1>=DS(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ur(n,11)}else if((t.J||n.g==t)&&Zl(n),!Wl(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const S=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.h;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ep(s,s.h),s.h=null))}if(r.D){const C=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.za=C,_e(r.F,r.D,C))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=jS(r,r.H?r.ka:null,r.V),o.J){IS(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Vu(a),ha(a)),r.g=o}else OS(r);0<n.i.length&&qu(n)}else u[0]!="stop"&&u[0]!="close"||Ur(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ur(n,7):ip(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Oo(4)}catch{}}function U2(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map!="undefined"&&t instanceof Map||typeof Set!="undefined"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Lu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function z2(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map!="undefined"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set!="undefined"&&t instanceof Set)){if(Lu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _S(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Lu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=z2(t),r=U2(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var wS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Kr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Kr){this.h=e!==void 0?e:t.h,Xl(this,t.j),this.s=t.s,this.g=t.g,Jl(this,t.m),this.l=t.l,e=t.i;var n=new Vo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),o_(this,n),this.o=t.o}else t&&(n=String(t).match(wS))?(this.h=!!e,Xl(this,n[1]||"",!0),this.s=Ys(n[2]||""),this.g=Ys(n[3]||"",!0),Jl(this,n[4]),this.l=Ys(n[5]||"",!0),o_(this,n[6]||"",!0),this.o=Ys(n[7]||"")):(this.h=!!e,this.i=new Vo(null,this.h))}Kr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xs(e,a_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xs(e,a_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Xs(n,n.charAt(0)=="/"?K2:G2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xs(n,W2)),t.join("")};function Nn(t){return new Kr(t)}function Xl(t,e,n){t.j=n?Ys(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function o_(t,e,n){e instanceof Vo?(t.i=e,Q2(t.i,t.h)):(n||(e=Xs(e,H2)),t.i=new Vo(e,t.h))}function _e(t,e,n){t.i.set(e,n)}function Bu(t){return _e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ys(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,q2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function q2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var a_=/[#\/\?@]/g,G2=/[#\?:]/g,K2=/[#\?]/g,H2=/[#\?@]/g,W2=/#/g;function Vo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sr(t){t.g||(t.g=new Map,t.h=0,t.i&&j2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=Vo.prototype;B.add=function(t,e){Sr(this),this.i=null,t=ws(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function SS(t,e){Sr(t),e=ws(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xS(t,e){return Sr(t),e=ws(t,e),t.g.has(e)}B.forEach=function(t,e){Sr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.oa=function(){Sr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};B.W=function(t){Sr(this);let e=[];if(typeof t=="string")xS(this,t)&&(e=e.concat(this.g.get(ws(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return Sr(this),this.i=null,t=ws(this,t),xS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function CS(t,e,n){SS(t,e),0<n.length&&(t.i=null,t.g.set(ws(t,e),Uf(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ws(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Q2(t,e){e&&!t.j&&(Sr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SS(this,r),CS(this,i,n))},t)),t.j=e}var Y2=class{constructor(t,e){this.h=t,this.g=e}};function ES(t){this.l=t||X2,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var X2=10;function TS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DS(t){return t.h?1:t.g?t.g.size:0}function md(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ep(t,e){t.g?t.g.add(e):t.h=e}function IS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ES.prototype.cancel=function(){if(this.i=kS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kS(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Uf(t.i)}function tp(){}tp.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)};tp.prototype.parse=function(t){return Q.JSON.parse(t,void 0)};function J2(){this.g=new tp}function Z2(t,e,n){const r=n||"";try{_S(t,function(i,s){let o=i;oa(i)&&(o=Wf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eR(t,e){const n=new Fu;if(Q.Image){const r=new Image;r.onload=Ka(Wa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ka(Wa,n,r,"TestLoadImage: error",!1,e),r.onabort=Ka(Wa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ka(Wa,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function da(t){this.l=t.ac||null,this.j=t.jb||!1}nt(da,Xf);da.prototype.g=function(){return new Uu(this.l,this.j)};da.prototype.i=function(t){return function(){return t}}({});function Uu(t,e){Ke.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=np,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Uu,Ke);var np=0;B=Uu.prototype;B.open=function(t,e){if(this.readyState!=np)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bo(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=np};B.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NS(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function NS(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}B.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fa(this):Bo(this),this.readyState==3&&NS(this)}};B.Va=function(t){this.g&&(this.response=this.responseText=t,fa(this))};B.Ua=function(t){this.g&&(this.response=t,fa(this))};B.ga=function(){this.g&&fa(this)};function fa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bo(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Bo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tR=Q.JSON.parse;function Ie(t){Ke.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LS,this.K=this.L=!1}nt(Ie,Ke);var LS="",nR=/^https?$/i,rR=["POST","PUT"];B=Ie.prototype;B.Ka=function(t){this.L=t};B.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hd.g(),this.C=this.u?s_(this.u):s_(hd),this.g.onreadystatechange=ut(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){l_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=K1(rR,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PS(this),0<this.B&&((this.K=iR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.qa,this)):this.A=Yf(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){l_(this,s)}};function iR(t){return rs&&S2()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.qa=function(){typeof Bf!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function l_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AS(t),zu(t)}function AS(t){t.D||(t.D=!0,Ze(t,"complete"),Ze(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ze(this,"complete"),Ze(this,"abort"),zu(this))};B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),Ie.X.M.call(this)};B.Ha=function(){this.s||(this.F||this.v||this.l?bS(this):this.fb())};B.fb=function(){bS(this)};function bS(t){if(t.h&&typeof Bf!="undefined"&&(!t.C[1]||xn(t)!=4||t.aa()!=2)){if(t.v&&xn(t)==4)Yf(t.Ha,0,t);else if(Ze(t,"readystatechange"),xn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(wS)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!nR.test(i?i.toLowerCase():"")}n=r}if(n)Ze(t,"complete"),Ze(t,"success");else{t.m=6;try{var o=2<xn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",AS(t)}}finally{zu(t)}}}}function zu(t,e){if(t.g){PS(t);const n=t.g,r=t.C[0]?Hl:null;t.g=null,t.C=null,e||Ze(t,"ready");try{n.onreadystatechange=r}catch{}}}function PS(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function xn(t){return t.g?t.g.readyState:0}B.aa=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}};B.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tR(e)}};function u_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case LS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}B.Ea=function(){return this.m};B.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function $S(t){let e="";return jf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$S(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_e(t,e,n))}function Vs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FS(t){this.Ca=0,this.i=[],this.j=new Fu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vs("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vs("baseRetryDelayMs",5e3,t),this.bb=Vs("retryDelaySeedMs",1e4,t),this.$a=Vs("forwardChannelMaxRetries",2,t),this.ta=Vs("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new ES(t&&t.concurrentRequestLimit),this.Fa=new J2,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}B=FS.prototype;B.ma=8;B.G=1;function ip(t){if(RS(t),t.G==3){var e=t.U++,n=Nn(t.F);_e(n,"SID",t.I),_e(n,"RID",e),_e(n,"TYPE","terminate"),pa(t,n),e=new ca(t,t.j,e,void 0),e.K=2,e.v=Bu(Nn(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&(new Image().src=e.v,n=!0),n||(e.g=qS(e.l,null),e.g.da(e.v)),e.F=Date.now(),ha(e)}zS(t)}function ju(t){t.g&&(op(t),t.g.cancel(),t.g=null)}function RS(t){ju(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Zl(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function qu(t){TS(t.h)||t.m||(t.m=!0,iS(t.Ja,t),t.C=0)}function sR(t,e){return DS(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=la(ut(t.Ja,t,e),US(t,t.C)),t.C++,!0)}B.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ca(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Y1(s),X1(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MS(this,i,e),n=Nn(this.F),_e(n,"RID",t),_e(n,"CVER",22),this.D&&_e(n,"X-HTTP-Session-Id",this.D),pa(this,n),s&&(this.N?e="headers="+encodeURIComponent(String($S(s)))+"&"+e:this.o&&rp(n,this.o,s)),ep(this.h,i),this.Ya&&_e(n,"TYPE","init"),this.O?(_e(n,"$req",e),_e(n,"SID","null"),i.Z=!0,fd(i,n,null)):fd(i,n,e),this.G=2}}else this.G==3&&(t?c_(this,t):this.i.length==0||TS(this.h)||c_(this))};function c_(t,e){var n;e?n=e.m:n=t.U++;const r=Nn(t.F);_e(r,"SID",t.I),_e(r,"RID",n),_e(r,"AID",t.T),pa(t,r),t.o&&t.s&&rp(r,t.o,t.s),n=new ca(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=MS(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ep(t.h,n),fd(n,r,e)}function pa(t,e){t.ia&&jf(t.ia,function(n,r){_e(e,r,n)}),t.l&&_S({},function(n,r){_e(e,r,n)})}function MS(t,e,n){n=Math.min(t.i.length,n);var r=t.l?ut(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{Z2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function OS(t){t.g||t.u||(t.Z=1,iS(t.Ia,t),t.A=0)}function sp(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=la(ut(t.Ia,t),US(t,t.A)),t.A++,!0)}B.Ia=function(){if(this.u=null,VS(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=la(ut(this.eb,this),t)}};B.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mt(10),ju(this),VS(this))};function op(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function VS(t){t.g=new ca(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Nn(t.sa);_e(e,"RID","rpc"),_e(e,"SID",t.I),_e(e,"CI",t.L?"0":"1"),_e(e,"AID",t.T),_e(e,"TYPE","xmlhttp"),pa(t,e),t.o&&t.s&&rp(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Bu(Nn(e)),n.s=null,n.P=!0,mS(n,t)}B.cb=function(){this.v!=null&&(this.v=null,ju(this),sp(this),mt(19))};function Zl(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function BS(t,e){var n=null;if(t.g==e){Zl(t),op(t),t.g=null;var r=2}else if(md(t.h,e))n=e.D,IS(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Ru(),Ze(r,new hS(r,n)),qu(t)}else OS(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&sR(t,e)||r==2&&sp(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ur(t,5);break;case 4:Ur(t,10);break;case 3:Ur(t,6);break;default:Ur(t,2)}}}function US(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ur(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=ut(t.kb,t);n||(n=new Kr("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Xl(n,"https"),Bu(n)),eR(n.toString(),r)}else mt(2);t.G=0,t.l&&t.l.va(e),zS(t),RS(t)}B.kb=function(t){t?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function zS(t){if(t.G=0,t.la=[],t.l){const e=kS(t.h);(e.length!=0||t.i.length!=0)&&(Zv(t.la,e),Zv(t.la,t.i),t.h.i.length=0,Uf(t.i),t.i.length=0),t.l.ua()}}function jS(t,e,n){var r=n instanceof Kr?Nn(n):new Kr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Jl(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Kr(null,void 0);r&&Xl(s,r),e&&(s.g=e),i&&Jl(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&_e(r,n,e),_e(r,"VER",t.ma),pa(t,r),r}function qS(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ie(new da({jb:!0})):new Ie(t.ra),e.Ka(t.H),e}function GS(){}B=GS.prototype;B.xa=function(){};B.wa=function(){};B.va=function(){};B.ua=function(){};B.Ra=function(){};function eu(){if(rs&&!(10<=Number(x2)))throw Error("Environmental error: no available transport.")}eu.prototype.g=function(t,e){return new Rt(t,e)};function Rt(t,e){Ke.call(this),this.g=new FS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ss(this)}nt(Rt,Ke);Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;mt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=jS(t,null,t.V),qu(t)};Rt.prototype.close=function(){ip(this.g)};Rt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Wf(t),t=n);e.i.push(new Y2(e.ab++,t)),e.G==3&&qu(e)};Rt.prototype.M=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,Rt.X.M.call(this)};function KS(t){Jf.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(KS,Jf);function HS(){Zf.call(this),this.status=1}nt(HS,Zf);function Ss(t){this.g=t}nt(Ss,GS);Ss.prototype.xa=function(){Ze(this.g,"a")};Ss.prototype.wa=function(t){Ze(this.g,new KS(t))};Ss.prototype.va=function(t){Ze(this.g,new HS)};Ss.prototype.ua=function(){Ze(this.g,"b")};eu.prototype.createWebChannel=eu.prototype.g;Rt.prototype.send=Rt.prototype.u;Rt.prototype.open=Rt.prototype.m;Rt.prototype.close=Rt.prototype.close;Mu.NO_ERROR=0;Mu.TIMEOUT=8;Mu.HTTP_ERROR=6;dS.COMPLETE="complete";fS.EventType=ua;ua.OPEN="a";ua.CLOSE="b";ua.ERROR="c";ua.MESSAGE="d";Ke.prototype.listen=Ke.prototype.N;Ie.prototype.listenOnce=Ie.prototype.O;Ie.prototype.getLastError=Ie.prototype.Oa;Ie.prototype.getLastErrorCode=Ie.prototype.Ea;Ie.prototype.getStatus=Ie.prototype.aa;Ie.prototype.getResponseJson=Ie.prototype.Sa;Ie.prototype.getResponseText=Ie.prototype.fa;Ie.prototype.send=Ie.prototype.da;Ie.prototype.setWithCredentials=Ie.prototype.Ka;var oR=function(){return new eu},aR=function(){return Ru()},nh=Mu,lR=dS,uR=pi,h_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cR=da,Qa=fS,hR=Ie;const d_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Rf("@firebase/firestore");function gd(){return ur.logLevel}function dR(t){ur.setLogLevel(t)}function I(t,...e){if(ur.logLevel<=se.DEBUG){const n=e.map(ap);ur.debug(`Firestore (${xs}): ${t}`,...n)}}function be(t,...e){if(ur.logLevel<=se.ERROR){const n=e.map(ap);ur.error(`Firestore (${xs}): ${t}`,...n)}}function is(t,...e){if(ur.logLevel<=se.WARN){const n=e.map(ap);ur.warn(`Firestore (${xs}): ${t}`,...n)}}function ap(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t="Unexpected state"){const e=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+t;throw be(e),new Error(e)}function z(t,e){t||M()}function fR(t,e){t||M()}function F(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(je.UNAUTHENTICATED))}shutdown(){}}class mR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gR{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ge;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ge,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ge)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(z(typeof r.accessToken=="string"),new WS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return z(e===null||typeof e=="string"),new je(e)}}class yR{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=je.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(z(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class vR{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new yR(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _R{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wR{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(z(typeof n.token=="string"),this.A=n.token,new _R(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function YS(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Se(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Se(0,0))}static max(){return new j(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r){n===void 0?n=0:n>e.length&&M(),r===void 0?r=e.length-n:r>e.length-n&&M(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ne extends Uo{construct(e,n,r){return new ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Uo{construct(e,n,r){return new Pe(e,n,r)}static isValidIdentifier(e){return xR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new D(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new D(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(n)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.path=e}static fromPath(e){return new b(ne.fromString(e))}static fromName(e){return new b(ne.fromString(e).popFirst(5))}static empty(){return new b(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new b(new ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function yd(t){return t.fields.find(e=>e.kind===2)}function Lr(t){return t.fields.filter(e=>e.kind!==2)}XS.UNKNOWN_ID=-1;class CR{constructor(e,n){this.fieldPath=e,this.kind=n}}class tu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new tu(0,Mt.min())}}function JS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(r===1e9?new Se(n+1,0):new Se(n,r));return new Mt(i,b.empty(),e)}function ZS(t){return new Mt(t.readTime,t.key,-1)}class Mt{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mt(j.min(),b.empty(),-1)}static max(){return new Mt(j.max(),b.empty(),-1)}}function lp(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=b.comparator(t.documentKey,e.documentKey),n!==0?n:Y(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xr(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==ex)throw t;I("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Ge,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new co(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=up(r.target.error);this.P.reject(new co(e,i))}}static open(e,n,r,i){try{return new Gu(n,e.transaction(i,r))}catch(s){throw new co(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TR(n)}}class Xt{constructor(e,n,r){this.name=e,this.version=n,this.S=r,Xt.D(ed())===12.2&&be("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),br(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!$1())return!1;if(Xt.N())return!0;const e=ed(),n=Xt.D(e),r=0<n&&n<10,i=Xt.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new co(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new D(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new D(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new co(e,o))},i.onupgradeneeded=s=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=Gu.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.V(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(I("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ER{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return br(this.q.delete())}}class co extends D{constructor(e,n){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Cr(t){return t.name==="IndexedDbTransactionError"}class TR{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(I("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),br(r)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),br(this.store.add(e))}get(e){return br(this.store.get(e)).next(n=>(n===void 0&&(n=null),I("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),br(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),br(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new x((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){I("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{const o=up(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new ER(a),u=n(a.primaryKey,a.value,l);if(u instanceof x){const c=u.catch(h=>(l.done(),x.reject(h)));r.push(c)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function br(t){return new x((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=up(r.target.error);n(i)}})}let f_=!1;function up(t){const e=Xt.D(ed());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f_||(f_=!0,setTimeout(()=>{throw r},0)),r}}return t}class DR{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){I("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{I("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Cr(n)?I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await xr(n)}await this.nt(6e4)})}}class IR{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return I("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(I("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=ZS(s);lp(o,r)>0&&(r=o)}),new Mt(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Tt.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class cr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return t==null}function zo(t){return t===0&&1/t==-1/0}function rx(t){return typeof t=="number"&&Number.isInteger(t)&&!zo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Be(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Be(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const LR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(z(!!t),typeof t=="string"){let e=0;const n=LR.exec(t);if(z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?Be.fromBase64String(t):Be.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ix(t){const e=t.mapValue.fields.__previous_value__;return cp(e)?ix(e):e}function jo(t){const e=hr(t.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fl={nullValue:"NULL_VALUE"};function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cp(t)?4:sx(t)?9007199254740991:10:M()}function gn(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hr(r.timestampValue),o=hr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ti(r.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return De(r.geoPointValue.latitude)===De(i.geoPointValue.latitude)&&De(r.geoPointValue.longitude)===De(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return De(r.integerValue)===De(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=De(r.doubleValue),o=De(i.doubleValue);return s===o?zo(s)===zo(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ss(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(p_(s)!==p_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!gn(s[a],o[a])))return!1;return!0}(t,e);default:return M()}}function qo(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function dr(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=De(i.integerValue||i.doubleValue),a=De(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return m_(t.timestampValue,e.timestampValue);case 4:return m_(jo(t),jo(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ti(i),a=ti(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Y(o[l],a[l]);if(u!==0)return u}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(De(i.latitude),De(s.latitude));return o!==0?o:Y(De(i.longitude),De(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=dr(o[l],a[l]);if(u)return u}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Hn.mapValue&&s===Hn.mapValue)return 0;if(i===Hn.mapValue)return 1;if(s===Hn.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Y(a[c],u[c]);if(h!==0)return h;const m=dr(o[a[c]],l[u[c]]);if(m!==0)return m}return Y(a.length,u.length)}(t.mapValue,e.mapValue);default:throw M()}}function m_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Y(t,e);const n=hr(t),r=hr(e),i=Y(n.seconds,r.seconds);return i!==0?i:Y(n.nanos,r.nanos)}function os(t){return vd(t)}function vd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=hr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ti(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,b.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=vd(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${vd(r.fields[a])}`;return s+"}"}(t.mapValue):M();var e,n}function ri(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _d(t){return!!t&&"integerValue"in t}function Go(t){return!!t&&"arrayValue"in t}function g_(t){return!!t&&"nullValue"in t}function y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pl(t){return!!t&&"mapValue"in t}function ho(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ho(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ho(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function AR(t){return"nullValue"in t?fl:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ri(cr.empty(),b.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:M()}function bR(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ri(cr.empty(),b.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Hn:M()}function v_(t,e){const n=dr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function __(t,e){const n=dr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.position=e,this.inclusive=n}}function w_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=b.comparator(b.fromName(o.referenceValue),n.key):r=dr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{}class Z extends ox{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PR(e,n,r):n==="array-contains"?new RR(e,r):n==="in"?new px(e,r):n==="not-in"?new MR(e,r):n==="array-contains-any"?new OR(e,r):new Z(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $R(e,r):new FR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dr(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(dr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return M()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class oe extends ox{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new oe(e,n)}matches(e){return as(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function as(t){return t.op==="and"}function wd(t){return t.op==="or"}function ax(t){return lx(t)&&as(t)}function lx(t){for(const e of t.filters)if(e instanceof oe)return!1;return!0}function ux(t){if(t instanceof Z)return t.field.canonicalString()+t.op.toString()+os(t.value);{const e=t.filters.map(n=>ux(n)).join(",");return`${t.op}(${e})`}}function cx(t,e){return t instanceof Z?function(n,r){return r instanceof Z&&n.op===r.op&&n.field.isEqual(r.field)&&gn(n.value,r.value)}(t,e):t instanceof oe?function(n,r){return r instanceof oe&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&cx(s,r.filters[o]),!0):!1}(t,e):void M()}function hx(t,e){const n=t.filters.concat(e);return oe.create(n,t.op)}function dx(t){return t instanceof Z?function(e){return`${e.field.canonicalString()} ${e.op} ${os(e.value)}`}(t):t instanceof oe?function(e){return e.op.toString()+" {"+e.getFilters().map(dx).join(" ,")+"}"}(t):"Filter"}class PR extends Z{constructor(e,n,r){super(e,n,r),this.key=b.fromName(r.referenceValue)}matches(e){const n=b.comparator(e.key,this.key);return this.matchesComparison(n)}}class $R extends Z{constructor(e,n){super(e,"in",n),this.keys=fx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FR extends Z{constructor(e,n){super(e,"not-in",n),this.keys=fx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>b.fromName(r.referenceValue))}class RR extends Z{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Go(n)&&qo(n.arrayValue,this.value)}}class px extends Z{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qo(this.value.arrayValue,n)}}class MR extends Z{constructor(e,n){super(e,"not-in",n)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qo(this.value.arrayValue,n)}}class OR extends Z{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Go(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n="asc"){this.field=e,this.dir=n}}function VR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ya(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ya(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ya(this.root,e,this.comparator,!0)}}class Ya{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ye.RED,this.left=i!=null?i:Ye.EMPTY,this.right=s!=null?s:Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();const e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ye(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new le(this.comparator);return n.data=e,n}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xi(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new $t([])}unionWith(e){let n=new le(Pe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.value=e}static empty(){return new Xe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(n)}setAll(e){let n=Pe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ho(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xe(ho(this.value))}}function mx(t){const e=[];return mi(t.fields,(n,r)=>{const i=new Pe([n]);if(pl(r)){const s=mx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new me(e,0,j.min(),j.min(),j.min(),Xe.empty(),0)}static newFoundDocument(e,n,r,i){return new me(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new me(e,2,n,j.min(),j.min(),Xe.empty(),0)}static newUnknownDocument(e,n){return new me(e,3,n,j.min(),j.min(),Xe.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Sd(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BR(t,e,n,r,i,s,o)}function ii(t){const e=F(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ux(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ma(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>os(r)).join(",")),e.ft=n}return e.ft}function ga(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function nu(t){return b.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ru(t,e){return t.filters.filter(n=>n instanceof Z&&n.field.isEqual(e))}function C_(t,e,n){let r=fl,i=!0;for(const s of ru(t,e)){let o=fl,a=!0;switch(s.op){case"<":case"<=":o=AR(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=fl}v_({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];v_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function E_(t,e,n){let r=Hn,i=!0;for(const s of ru(t,e)){let o=Hn,a=!0;switch(s.op){case">=":case">":o=bR(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Hn}__({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];__({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function gx(t,e,n,r,i,s,o,a){return new bn(t,e,n,r,i,s,o,a)}function Cs(t){return new bn(t)}function T_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ku(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function dp(t){return t.collectionGroup!==null}function Hr(t){const e=F(t);if(e.dt===null){e.dt=[];const n=Ku(e),r=hp(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Hi(n)),e.dt.push(new Hi(Pe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Hi(Pe.keyField(),s))}}}return e.dt}function Lt(t){const e=F(t);if(!e._t)if(e.limitType==="F")e._t=Sd(e.path,e.collectionGroup,Hr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Hr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Hi(s.field,o))}const r=e.endAt?new fr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fr(e.startAt.position,e.startAt.inclusive):null;e._t=Sd(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xd(t,e){e.getFirstInequalityField(),Ku(t);const n=t.filters.concat([e]);return new bn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iu(t,e,n){return new bn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ya(t,e){return ga(Lt(t),Lt(e))&&t.limitType===e.limitType}function yx(t){return`${ii(Lt(t))}|lt:${t.limitType}`}function Cd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>dx(r)).join(", ")}]`),ma(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>os(r)).join(",")),`Target(${n})`}(Lt(t))}; limitType=${t.limitType})`}function fp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):b.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Hr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=w_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Hr(n),r)||n.endAt&&!function(i,s,o){const a=w_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Hr(n),r))}(t,e)}function vx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _x(t){return(e,n)=>{let r=!1;for(const i of Hr(t)){const s=UR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UR(t,e,n){const r=t.field.isKeyField()?b.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?dr(a,l):M()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return M()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(e)?"-0":e}}function Sx(t){return{integerValue:""+t}}function xx(t,e){return rx(e)?Sx(e):wx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function zR(t,e,n){return t instanceof ls?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof si?Ex(t,e):t instanceof oi?Tx(t,e):function(r,i){const s=Cx(r,i),o=D_(s)+D_(r.gt);return _d(s)&&_d(r.gt)?Sx(o):wx(r.yt,o)}(t,e)}function jR(t,e,n){return t instanceof si?Ex(t,e):t instanceof oi?Tx(t,e):n}function Cx(t,e){return t instanceof us?_d(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ls extends Hu{}class si extends Hu{constructor(e){super(),this.elements=e}}function Ex(t,e){const n=Dx(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class oi extends Hu{constructor(e){super(),this.elements=e}}function Tx(t,e){let n=Dx(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class us extends Hu{constructor(e,n){super(),this.yt=e,this.gt=n}}function D_(t){return De(t.integerValue||t.doubleValue)}function Dx(t){return Go(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.field=e,this.transform=n}}function qR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof si&&r instanceof si||n instanceof oi&&r instanceof oi?ss(n.elements,r.elements,gn):n instanceof us&&r instanceof us?gn(n.gt,r.gt):n instanceof ls&&r instanceof ls}(t.transform,e.transform)}class GR{constructor(e,n){this.version=e,this.transformResults=n}}class we{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new we}static exists(e){return new we(void 0,e)}static updateTime(e){return new we(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ml(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wu{}function Ix(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ts(t.key,we.none()):new Es(t.key,t.data,we.none());{const n=t.data,r=Xe.empty();let i=new le(Pe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pn(t.key,r,new $t(i.toArray()),we.none())}}function KR(t,e,n){t instanceof Es?function(r,i,s){const o=r.value.clone(),a=k_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Pn?function(r,i,s){if(!ml(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=k_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(kx(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fo(t,e,n,r){return t instanceof Es?function(i,s,o,a){if(!ml(i.precondition,s))return o;const l=i.value.clone(),u=N_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pn?function(i,s,o,a){if(!ml(i.precondition,s))return o;const l=N_(i.fieldTransforms,a,s),u=s.data;return u.setAll(kx(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return ml(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function HR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Cx(r.transform,i||null);s!=null&&(n===null&&(n=Xe.empty()),n.set(r.field,s))}return n||null}function I_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ss(n,r,(i,s)=>qR(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Es extends Wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pn extends Wu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function k_(t,e,n){const r=new Map;z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jR(o,a,n[i]))}return r}function N_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zR(s,o,e))}return r}class Ts extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pp extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,te;function Nx(t){switch(t){default:return M();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function Lx(t){if(t===void 0)return be("GRPC error has no .code"),E.UNKNOWN;switch(t){case Fe.OK:return E.OK;case Fe.CANCELLED:return E.CANCELLED;case Fe.UNKNOWN:return E.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return E.INTERNAL;case Fe.UNAVAILABLE:return E.UNAVAILABLE;case Fe.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Fe.NOT_FOUND:return E.NOT_FOUND;case Fe.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Fe.ABORTED:return E.ABORTED;case Fe.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Fe.DATA_LOSS:return E.DATA_LOSS;default:return M()}}(te=Fe||(Fe={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new ke(b.comparator);function Dt(){return QR}const Ax=new ke(b.comparator);function Js(...t){let e=Ax;for(const n of t)e=e.insert(n.key,n);return e}function bx(t){let e=Ax;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cn(){return po()}function Px(){return po()}function po(){return new Er(t=>t.toString(),(t,e)=>t.isEqual(e))}const YR=new ke(b.comparator),XR=new le(b.comparator);function X(...t){let e=XR;for(const n of t)e=e.add(n);return e}const JR=new le(Y);function Qu(){return JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _a(j.min(),i,Qu(),Dt(),X())}}class wa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wa(r,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class $x{constructor(e,n){this.targetId=e,this.Et=n}}class Fx{constructor(e,n,r=Be.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L_{constructor(){this.At=0,this.Rt=b_(),this.bt=Be.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=X(),n=X(),r=X();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:M()}}),new wa(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=b_()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class ZR{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Dt(),this.qt=A_(),this.Ut=new le(Y)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:M()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(nu(s))if(r===0){const o=new b(s.path);this.Qt(n,o,me.newNoDocument(o,j.min()))}else z(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&nu(a.target)){const l=new b(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,me.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=X();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new _a(e,n,this.Ut,this.Lt,r);return this.Lt=Dt(),this.qt=A_(),this.Ut=new le(Y),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new L_,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new le(Y),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||I("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new L_),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function A_(){return new ke(b.comparator)}function b_(){return new ke(b.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),t3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),n3=(()=>({and:"AND",or:"OR"}))();class r3{constructor(e,n){this.databaseId=e,this.wt=n}}function cs(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rx(t,e){return t.wt?e.toBase64():e.toUint8Array()}function i3(t,e){return cs(t,e.toTimestamp())}function $e(t){return z(!!t),j.fromTimestamp(function(e){const n=hr(e);return new Se(n.seconds,n.nanos)}(t))}function mp(t,e){return function(n){return new ne(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Mx(t){const e=ne.fromString(t);return z(Kx(e)),e}function Ko(t,e){return mp(t.databaseId,e.path)}function pn(t,e){const n=Mx(e);if(n.get(1)!==t.databaseId.projectId)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new b(Vx(n))}function Ed(t,e){return mp(t.databaseId,e)}function Ox(t){const e=Mx(t);return e.length===4?ne.emptyPath():Vx(e)}function Ho(t){return new ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vx(t){return z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P_(t,e,n){return{name:Ko(t,e),fields:n.value.mapValue.fields}}function Bx(t,e,n){const r=pn(t,e.name),i=$e(e.updateTime),s=e.createTime?$e(e.createTime):j.min(),o=new Xe({mapValue:{fields:e.fields}}),a=me.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function s3(t,e){return"found"in e?function(n,r){z(!!r.found),r.found.name,r.found.updateTime;const i=pn(n,r.found.name),s=$e(r.found.updateTime),o=r.found.createTime?$e(r.found.createTime):j.min(),a=new Xe({mapValue:{fields:r.found.fields}});return me.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){z(!!r.missing),z(!!r.readTime);const i=pn(n,r.missing),s=$e(r.readTime);return me.newNoDocument(i,s)}(t,e):M()}function o3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:M()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(z(u===void 0||typeof u=="string"),Be.fromBase64String(u||"")):(z(u===void 0||u instanceof Uint8Array),Be.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?E.UNKNOWN:Lx(l.code);return new D(u,l.message||"")}(o);n=new Fx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pn(t,r.document.name),s=$e(r.document.updateTime),o=r.document.createTime?$e(r.document.createTime):j.min(),a=new Xe({mapValue:{fields:r.document.fields}}),l=me.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new gl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pn(t,r.document),s=r.readTime?$e(r.readTime):j.min(),o=me.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pn(t,r.document),s=r.removedTargetIds||[];n=new gl([],s,i,null)}else{if(!("filter"in e))return M();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new WR(i),o=r.targetId;n=new $x(o,s)}}return n}function Wo(t,e){let n;if(e instanceof Es)n={update:P_(t,e.key,e.value)};else if(e instanceof Ts)n={delete:Ko(t,e.key)};else if(e instanceof Pn)n={update:P_(t,e.key,e.data),updateMask:d3(e.fieldMask)};else{if(!(e instanceof pp))return M();n={verify:Ko(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ls)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof si)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof oi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof us)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw M()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:i3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:M()}(t,e.precondition)),n}function Td(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?we.updateTime($e(i.updateTime)):i.exists!==void 0?we.exists(i.exists):we.none()}(e.currentDocument):we.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)z(o.setToServerValue==="REQUEST_TIME"),a=new ls;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new si(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new oi(u)}else"increment"in o?a=new us(s,o.increment):M();const l=Pe.fromServerFormat(o.fieldPath);return new va(l,a)}(t,i)):[];if(e.update){e.update.name;const i=pn(t,e.update.name),s=new Xe({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new $t(l.map(u=>Pe.fromServerFormat(u)))}(e.updateMask);return new Pn(i,s,o,n,r)}return new Es(i,s,n,r)}if(e.delete){const i=pn(t,e.delete);return new Ts(i,n)}if(e.verify){const i=pn(t,e.verify);return new pp(i,n)}return M()}function a3(t,e){return t&&t.length>0?(z(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?$e(r.updateTime):$e(i);return s.isEqual(j.min())&&(s=$e(i)),new GR(s,r.transformResults||[])}(n,e))):[]}function Ux(t,e){return{documents:[Ed(t,e.path)]}}function zx(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ed(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ed(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Gx(oe.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ei(c.field),direction:u3(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||ma(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function jx(t){let e=Ox(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){z(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=qx(c);return h instanceof oe&&ax(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Hi(Ti(h.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,ma(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,m=c.values||[];return new fr(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,m=c.values||[];return new fr(m,h)}(n.endAt)),gx(e,i,o,s,a,"F",l,u)}function l3(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return M()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function qx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ti(e.unaryFilter.field);return Z.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ti(e.unaryFilter.field);return Z.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ti(e.unaryFilter.field);return Z.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ti(e.unaryFilter.field);return Z.create(s,"!=",{nullValue:"NULL_VALUE"});default:return M()}}(t):t.fieldFilter!==void 0?function(e){return Z.create(Ti(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return oe.create(e.compositeFilter.filters.map(n=>qx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return M()}}(e.compositeFilter.op))}(t):M()}function u3(t){return e3[t]}function c3(t){return t3[t]}function h3(t){return n3[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function Ti(t){return Pe.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof Z?function(e){if(e.op==="=="){if(y_(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NAN"}};if(g_(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(y_(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NOT_NAN"}};if(g_(e.value))return{unaryFilter:{field:Ei(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(e.field),op:c3(e.op),value:e.value}}}(t):t instanceof oe?function(e){const n=e.getFilters().map(r=>Gx(r));return n.length===1?n[0]:{compositeFilter:{op:h3(e.op),filters:n}}}(t):M()}function d3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$_(e)),e=f3(t.get(n),e);return $_(e)}function f3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function $_(t){return t+""}function hn(t){const e=t.length;if(z(e>=2),e===2)return z(t.charAt(0)===""&&t.charAt(1)===""),ne.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&M(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:M()}s=o+2}return new ne(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){return[t,yt(e)]}function Hx(t,e,n){return[t,yt(e),n]}const p3={},m3=["prefixPath","collectionGroup","readTime","documentId"],g3=["prefixPath","collectionGroup","documentId"],y3=["collectionGroup","readTime","prefixPath","documentId"],v3=["canonicalId","targetId"],_3=["targetId","path"],w3=["path","targetId"],S3=["collectionId","parent"],x3=["indexId","uid"],C3=["uid","sequenceNumber"],E3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],T3=["indexId","uid","orderedDocumentKey"],D3=["userId","collectionPath","documentId"],I3=["userId","collectionPath","largestBatchId"],k3=["userId","collectionGroup","largestBatchId"],Wx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],N3=[...Wx,"documentOverlays"],Qx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yx=Qx,L3=[...Yx,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends tx{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function He(t,e){const n=F(t);return Xt.M(n.se,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Px();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ix(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(n,r)=>I_(n,r))&&ss(this.baseMutations,e.baseMutations,(n,r)=>I_(n,r))}}class yp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){z(e.mutations.length===r.length);let i=YR;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,i,s=j.min(),o=j.min(),a=Be.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.ie=e}}function A3(t,e){let n;if(e.document)n=Bx(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=b.fromSegments(e.noDocument.path),i=li(e.noDocument.readTime);n=me.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return M();{const r=b.fromSegments(e.unknownDocument.path),i=li(e.unknownDocument.version);n=me.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Se(r[0],r[1]);return j.fromTimestamp(i)}(e.readTime)),n}function R_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:su(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Ko(i,s.key),fields:s.data.value.mapValue.fields,updateTime:cs(i,s.version.toTimestamp()),createTime:cs(i,s.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ai(e.version)};else{if(!e.isUnknownDocument())return M();r.unknownDocument={path:n.path.toArray(),version:ai(e.version)}}return r}function su(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ai(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function li(t){const e=new Se(t.seconds,t.nanoseconds);return j.fromTimestamp(e)}function Pr(t,e){const n=(e.baseMutations||[]).map(s=>Td(t.ie,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Td(t.ie,s)),i=Se.fromMillis(e.localWriteTimeMs);return new gp(e.batchId,i,n,r)}function Zs(t){const e=li(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?li(t.lastLimboFreeSnapshotVersion):j.min();let r;var i;return t.query.documents!==void 0?(z((i=t.query).documents.length===1),r=Lt(Cs(Ox(i.documents[0])))):r=function(s){return Lt(jx(s))}(t.query),new ir(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Be.fromBase64String(t.resumeToken))}function Jx(t,e){const n=ai(e.snapshotVersion),r=ai(e.lastLimboFreeSnapshotVersion);let i;i=nu(e.target)?Ux(t.ie,e.target):zx(t.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ii(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function _p(t){const e=jx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iu(e,e.limit,"L"):e}function rh(t,e){return new vp(e.largestBatchId,Td(t.ie,e.overlayMutation))}function M_(t,e){const n=e.path.lastSegment();return[t,yt(e.path.popLast()),n]}function O_(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:ai(r.readTime),documentKey:yt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{getBundleMetadata(e,n){return V_(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:li(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return V_(e).put({bundleId:(r=n).id,createTime:ai($e(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return B_(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:_p(i.bundledQuery),readTime:li(i.readTime)};var i})}saveNamedQuery(e,n){return B_(e).put(function(r){return{name:r.name,readTime:ai($e(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function V_(t){return He(t,"bundles")}function B_(t){return He(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){const r=n.uid||"";return new Yu(e,r)}getOverlay(e,n){return Bs(e).get(M_(this.userId,n)).next(r=>r?rh(this.yt,r):null)}getOverlays(e,n){const r=cn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new vp(n,o);i.push(this.oe(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(yt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Bs(e).Y("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){const i=cn(),s=yt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Bs(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=rh(this.yt,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=cn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Bs(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const h=rh(this.yt,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}oe(e,n){return Bs(e).put(function(r,i,s){const[o,a,l]=M_(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Wo(r.ie,s.mutation)}}(this.yt,this.userId,n))}}function Bs(t){return He(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(De(e.integerValue));else if("doubleValue"in e){const r=De(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),zo(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),typeof r=="string"?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(ti(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?sx(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):M()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),b.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}$r.Ie=new $r;function P3(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function U_(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=P3(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class $3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ee(r.value),r=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Pe()}ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=n.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const n=this.De(e),r=U_(n);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}xe(e){const n=this.De(e),r=U_(n);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ee(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class F3{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class R3{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Us{constructor(){this.$e=new $3,this.Be=new F3(this.$e),this.Le=new R3(this.$e)}seed(e){this.$e.seed(e)}qe(e){return e===0?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fr(this.indexId,this.documentKey,this.arrayValue,r)}}function Rn(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=z_(t.arrayValue,e.arrayValue),n!==0?n:(n=z_(t.directionalValue,e.directionalValue),n!==0?n:b.comparator(t.documentKey,e.documentKey)))}function z_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const r=n;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){z(e.collectionGroup===this.collectionId);const n=yd(e);if(n!==void 0&&!this.We(n))return!1;const r=Lr(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(this.Qe!==void 0){const o=r[i];if(!this.ze(this.Qe,o)||!this.He(this.Ke[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],o))return!1}return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){var e,n;if(z(t instanceof Z||t instanceof oe),t instanceof Z){if(t instanceof px){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Z.create(t.field,"==",s)))||[];return oe.create(i,"or")}return t}const r=t.filters.map(i=>Zx(i));return oe.create(r,t.op)}function O3(t){if(t.getFilters().length===0)return[];const e=Nd(Zx(t));return z(eC(e)),Id(e)||kd(e)?[e]:e.getFilters()}function Id(t){return t instanceof Z}function kd(t){return t instanceof oe&&ax(t)}function eC(t){return Id(t)||kd(t)||function(e){if(e instanceof oe&&wd(e)){for(const n of e.getFilters())if(!Id(n)&&!kd(n))return!1;return!0}return!1}(t)}function Nd(t){if(z(t instanceof Z||t instanceof oe),t instanceof Z)return t;if(t.filters.length===1)return Nd(t.filters[0]);const e=t.filters.map(r=>Nd(r));let n=oe.create(e,t.op);return n=ou(n),eC(n)?n:(z(n instanceof oe),z(as(n)),z(n.filters.length>1),n.filters.reduce((r,i)=>wp(r,i)))}function wp(t,e){let n;return z(t instanceof Z||t instanceof oe),z(e instanceof Z||e instanceof oe),n=t instanceof Z?e instanceof Z?function(r,i){return oe.create([r,i],"and")}(t,e):j_(t,e):e instanceof Z?j_(e,t):function(r,i){if(z(r.filters.length>0&&i.filters.length>0),as(r)&&as(i))return hx(r,i.getFilters());const s=wd(r)?r:i,o=wd(r)?i:r,a=s.filters.map(l=>wp(l,o));return oe.create(a,"or")}(t,e),ou(n)}function j_(t,e){if(as(e))return hx(e,t.getFilters());{const n=e.filters.map(r=>wp(t,r));return oe.create(n,"or")}}function ou(t){if(z(t instanceof Z||t instanceof oe),t instanceof Z)return t;const e=t.getFilters();if(e.length===1)return ou(e[0]);if(lx(t))return t;const n=e.map(i=>ou(i)),r=[];return n.forEach(i=>{i instanceof Z?r.push(i):i instanceof oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:oe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.Je=new Sp}addToCollectionParentIndex(e,n){return this.Je.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Mt.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Mt.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class Sp{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new le(ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new le(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Uint8Array(0);class B3{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new Sp,this.Xe=new Er(r=>ii(r),(r,i)=>ga(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const s={collectionId:r,parent:yt(i)};return q_(e).put(s)}return x.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[YS(n),""],!1,!0);return q_(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(hn(o.parent))}return r})}addFieldIndex(e,n){const r=Ja(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=js(e);return s.next(a=>{o.put(O_(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Ja(e),i=js(e),s=zs(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=zs(e);let i=!0;const s=new Map;return x.forEach(this.Ze(n),o=>this.tn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=X();const a=[];return x.forEach(s,(l,u)=>{var c;I("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`} to execute ${ii(n)}`);const h=function(w,T){const N=yd(T);if(N===void 0)return null;for(const L of ru(w,N.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null}(u,l),m=function(w,T){const N=new Map;for(const L of Lr(T))for(const A of ru(w,L.fieldPath))switch(A.op){case"==":case"in":N.set(L.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return N.set(L.fieldPath.canonicalString(),A.value),Array.from(N.values())}return null}(u,l),y=function(w,T){const N=[];let L=!0;for(const A of Lr(T)){const R=A.kind===0?C_(w,A.fieldPath,w.startAt):E_(w,A.fieldPath,w.startAt);N.push(R.value),L&&(L=R.inclusive)}return new fr(N,L)}(u,l),S=function(w,T){const N=[];let L=!0;for(const A of Lr(T)){const R=A.kind===0?E_(w,A.fieldPath,w.endAt):C_(w,A.fieldPath,w.endAt);N.push(R.value),L&&(L=R.inclusive)}return new fr(N,L)}(u,l),C=this.en(l,u,y),P=this.en(l,u,S),_=this.nn(l,u,m),g=this.sn(l.indexId,h,C,y.inclusive,P,S.inclusive,_);return x.forEach(g,w=>r.J(w,n.limit).next(T=>{T.forEach(N=>{const L=b.fromSegments(N.documentKey);o.has(L)||(o=o.add(L),a.push(L))})}))}).next(()=>a)}return x.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(e.filters.length===0?n=[e]:n=O3(oe.create(e.filters,"and")).map(r=>Sd(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let h=0;h<l;++h){const m=n?this.rn(n[h/u]):Xa,y=this.on(e,m,r[h%u],i),S=this.un(e,m,s[h%u],o),C=a.map(P=>this.on(e,m,P,!0));c.push(...this.createRange(y,S,C))}return c}on(e,n,r,i){const s=new Fr(e,b.empty(),n,r);return i?s:s.Ue()}un(e,n,r,i){const s=new Fr(e,b.empty(),n,r);return i?s.Ue():s}tn(e,n){const r=new M3(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.je(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return x.forEach(i,s=>this.tn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new le(Pe.comparator),u=!1;for(const c of a.filters)for(const h of c.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:l=l.add(h.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}cn(e,n){const r=new Us;for(const i of Lr(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.qe(i.kind);$r.Ie.ue(s,o)}return r.Fe()}rn(e){const n=new Us;return $r.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const r=new Us;return $r.Ie.ue(ri(this.databaseId,n),r.qe(function(i){const s=Lr(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,n,r){if(r===null)return[];let i=[];i.push(new Us);let s=0;for(const o of Lr(e)){const a=r[s++];for(const l of i)if(this.hn(n,o.fieldPath)&&Go(a))i=this.ln(i,o,a);else{const u=l.qe(o.kind);$r.Ie.ue(a,u)}}return this.fn(i)}en(e,n,r){return this.nn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Fe();return n}ln(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Us;l.seed(a.Fe()),$r.Ie.ue(o,l.qe(n.kind)),s.push(l)}return s}hn(e,n){return!!e.filters.find(r=>r instanceof Z&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Ja(e),i=js(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const h=c?new tu(c.sequenceNumber,new Mt(li(c.readTime),new b(hn(c.documentKey)),c.largestBatchId)):tu.empty(),m=u.fields.map(([y,S])=>new CR(Pe.fromServerFormat(y),S));return new XS(u.indexId,u.collectionGroup,m,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Y(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ja(e),s=js(e);return this.dn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,l=>s.put(O_(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return x.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,l=>this._n(e,i,l).next(u=>{const c=this.wn(s,l);return u.isEqual(c)?x.resolve():this.mn(e,s,l,u,c)}))))})}gn(e,n,r,i){return zs(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,n.key),documentKey:n.key.path.toArray()})}yn(e,n,r,i){return zs(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,n.key),n.key.path.toArray()])}_n(e,n,r){const i=zs(e);let s=new le(Rn);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,n)])},(o,a)=>{s=s.add(new Fr(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new le(Rn);const i=this.cn(n,e);if(i==null)return r;const s=yd(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Go(o))for(const a of o.arrayValue.values||[])r=r.add(new Fr(n.indexId,e.key,this.rn(a),i))}else r=r.add(new Fr(n.indexId,e.key,Xa,i));return r}mn(e,n,r,i,s){I("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,h){const m=a.getIterator(),y=l.getIterator();let S=xi(m),C=xi(y);for(;S||C;){let P=!1,_=!1;if(S&&C){const g=u(S,C);g<0?_=!0:g>0&&(P=!0)}else S!=null?_=!0:P=!0;P?(c(C),C=xi(y)):_?(h(S),S=xi(m)):(S=xi(m),C=xi(y))}}(i,s,Rn,a=>{o.push(this.gn(e,n,r,a))},a=>{o.push(this.yn(e,n,r,a))}),x.waitFor(o)}dn(e){let n=1;return js(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Rn(o,a)).filter((o,a,l)=>!a||Rn(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Rn(o,e),l=Rn(o,n);if(a===0)i[0]=e.Ue();else if(a>0&&l<0)i.push(o),i.push(o.Ue());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Xa,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Xa,[]];s.push(IDBKeyRange.bound(a,l))}return s}pn(e,n){return Rn(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(G_)}getMinOffset(e,n){return x.mapArray(this.Ze(n),r=>this.tn(e,r).next(i=>i||M())).next(G_)}}function q_(t){return He(t,"collectionParents")}function zs(t){return He(t,"indexEntries")}function Ja(t){return He(t,"indexConfiguration")}function js(t){return He(t,"indexState")}function G_(t){z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;lp(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mt(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,h,m)=>(a++,m.delete()));s.push(l.next(()=>{z(a===1)}));const u=[];for(const c of n.mutations){const h=Hx(e,c.key.path,n.batchId);s.push(i.delete(h)),u.push(c.key)}return x.waitFor(s).next(()=>u)}function au(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw M();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(41943040,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);class Xu{constructor(e,n,r,i){this.userId=e,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,n,r,i){z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Xu(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mn(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Di(e),o=Mn(e);return o.add({}).next(a=>{z(typeof a=="number");const l=new gp(a,n,r,i),u=function(m,y,S){const C=S.baseMutations.map(_=>Wo(m.ie,_)),P=S.mutations.map(_=>Wo(m.ie,_));return{userId:y,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:C,mutations:P}}(this.yt,this.userId,l),c=[];let h=new le((m,y)=>Y(m.canonicalString(),y.canonicalString()));for(const m of i){const y=Hx(this.userId,m.key.path,a);h=h.add(m.key.path.popLast()),c.push(o.put(u)),c.push(s.put(y,p3))}return h.forEach(m=>{c.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.In[a]=l.keys()}),x.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Mn(e).get(n).next(r=>r?(z(r.userId===this.userId),Pr(this.yt,r)):null)}Tn(e,n){return this.In[n]?x.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Mn(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(z(a.batchId>=r),s=Pr(this.yt,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mn(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mn(e).W("userMutationsIndex",n).next(r=>r.map(i=>Pr(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=yl(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Di(e).Z({range:i},(o,a,l)=>{const[u,c,h]=o,m=hn(c);if(u===this.userId&&n.path.isEqual(m))return Mn(e).get(h).next(y=>{if(!y)throw M();z(y.userId===this.userId),s.push(Pr(this.yt,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new le(Y);const i=[];return n.forEach(s=>{const o=yl(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Di(e).Z({range:a},(u,c,h)=>{const[m,y,S]=u,C=hn(y);m===this.userId&&s.path.isEqual(C)?r=r.add(S):h.done()});i.push(l)}),x.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=yl(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new le(Y);return Di(e).Z({range:o},(l,u,c)=>{const[h,m,y]=l,S=hn(m);h===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(y)):c.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Mn(e).get(s).next(o=>{if(o===null)throw M();z(o.userId===this.userId),r.push(Pr(this.yt,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return tC(e.se,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Di(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=hn(s[1]);i.push(l)}else a.done()}).next(()=>{z(i.length===0)})})}containsKey(e,n){return nC(e,this.userId,n)}Rn(e){return rC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nC(t,e,n){const r=yl(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Di(t).Z({range:s,X:!0},(a,l,u)=>{const[c,h,m]=a;c===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function Mn(t){return He(t,"mutations")}function Di(t){return He(t,"documentMutations")}function rC(t){return He(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ui(0)}static vn(){return new ui(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new ui(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>j.fromTimestamp(new Se(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ci(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(z(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ci(e).Z((o,a)=>{const l=Zs(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ci(e).Z((r,i)=>{const s=Zs(i);n(s)})}Vn(e){return H_(e).get("targetGlobalKey").next(n=>(z(n!==null),n))}Sn(e,n){return H_(e).put("targetGlobalKey",n)}Dn(e,n){return Ci(e).put(Jx(this.yt,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ii(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ci(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Zs(a);ga(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=jn(e);return n.forEach(o=>{const a=yt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){const i=jn(e);return x.forEach(n,s=>{const o=yt(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=jn(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=jn(e);let s=X();return i.Z({range:r,X:!0},(o,a,l)=>{const u=hn(o[1]),c=new b(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=yt(n.path),i=IDBKeyRange.bound([r],[YS(r)],!1,!0);let s=0;return jn(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ne(e,n){return Ci(e).get(n).next(r=>r?Zs(r):null)}}function Ci(t){return He(t,"targets")}function H_(t){return He(t,"targetGlobal")}function jn(t){return He(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_([t,e],[n,r]){const i=Y(t,n);return i===0?Y(e,r):i}class z3{constructor(e){this.xn=e,this.buffer=new le(W_),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();W_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){I("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cr(n)?I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await xr(n)}await this.Fn(3e5)})}}class q3{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(Tt.at);const r=new z3(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(I("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(K_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),gd()<=se.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new q3(r,i)}(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Un(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return Za(e,r)}removeReference(e,n,r){return Za(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Za(e,n)}Gn(e,n){return function(r,i){let s=!1;return rC(r).tt(o=>nC(r,o,i).next(a=>(a&&(s=!0),x.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=n){const l=this.Gn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,j.min()),jn(e).delete([0,yt(o.path)])))});i.push(l)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Za(e,n)}Kn(e,n){const r=jn(e);let i,s=Tt.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Tt.at&&n(new b(hn(i)),s),s=u,i=l):s=Tt.at}).next(()=>{s!==Tt.at&&n(new b(hn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Za(t,e){return jn(t).put(function(n,r){return{targetId:0,path:yt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.changes=new Er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Dr(e).put(r)}removeEntry(e,n,r){return Dr(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],su(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=me.newInvalidDocument(n);return Dr(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qs(n))},(i,s)=>{r=this.jn(n,s)}).next(()=>r)}Wn(e,n){let r={size:0,document:me.newInvalidDocument(n)};return Dr(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qs(n))},(i,s)=>{r={document:this.jn(n,s),size:au(s)}}).next(()=>r)}getEntries(e,n){let r=Dt();return this.zn(e,n,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,n){let r=Dt(),i=new ke(b.comparator);return this.zn(e,n,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,au(o))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return x.resolve();let i=new le(X_);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(qs(i.first()),qs(i.last())),o=i.getIterator();let a=o.getNext();return Dr(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const h=b.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&X_(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.j(qs(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),su(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dr(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=Dt();for(const l of o){const u=this.jn(b.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(u.key,u)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=Dt();const o=Y_(n,r),a=Y_(n,Mt.max());return Dr(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const h=this.jn(b.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new H3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Q_(e).get("remoteDocumentGlobalKey").next(n=>(z(!!n),n))}Qn(e,n){return Q_(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=A3(this.yt,n);if(!(r.isNoDocument()&&r.version.isEqual(j.min())))return r}return me.newInvalidDocument(e)}}function sC(t){return new K3(t)}class H3 extends iC{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Er(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new le((s,o)=>Y(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(n.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=R_(this.Yn.yt,o);i=i.add(s.path.popLast()),r+=au(l)-a.size,n.push(this.Yn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=R_(this.Yn.yt,o.convertToNoDocument(j.min()));n.push(this.Yn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Yn.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Q_(t){return He(t,"remoteDocumentGlobal")}function Dr(t){return He(t,"remoteDocumentsV14")}function qs(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Y_(t,e){const n=e.documentKey.path.toArray();return[t,su(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function X_(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Y(n[s],r[s]),i)return i;return i=Y(n.length,r.length),i||(i=Y(n[n.length-2],r[r.length-2]),i||Y(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fo(r.mutation,i,$t.empty(),Se.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){const i=cn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Js();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dt();const o=po(),a=po();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Pn)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),fo(c.mutation,u,c.mutation.getFieldMask(),Se.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new W3(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=po();let i=new ke((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||$t.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||X()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Px();c.forEach(m=>{if(!s.has(m)){const y=Ix(n.get(m),r.get(m));y!==null&&h.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return b.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(cn());let a=-1,l=s;return o.next(u=>x.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,X())).next(c=>({batchId:a,changes:bx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new b(n)).next(r=>{let i=Js();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Js();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const l=function(u,c){return new bn(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,me.newInvalidDocument(u)))});let o=Js();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&fo(u.mutation,l,$t.empty(),Se.now()),fp(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:$e(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:_p(r.bundledQuery),readTime:$e(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.overlays=new ke(b.comparator),this.es=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=cn(),s=n.length+1,o=new b(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=cn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=cn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vp(n,r));let s=this.es.get(n);s===void 0&&(s=X(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.ns=new le(Ue.ss),this.rs=new le(Ue.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ue(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ue(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new b(new ne([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new b(new ne([])),r=new Ue(n,e),i=new Ue(n,e+1);let s=X();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ue(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return b.comparator(e.key,n.key)||Y(e._s,n._s)}static os(e,n){return Y(e._s,n._s)||b.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new le(Ue.ss)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gp(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ue(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new le(Y);return n.forEach(i=>{const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),x.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;b.isDocumentKey(s)||(s=s.child(""));const o=new Ue(new b(s),0);let a=new le(Y);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),x.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){z(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return x.forEach(n.mutations,i=>{const s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ue(n,0),i=this.gs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.Es=e,this.docs=new ke(b.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():me.newInvalidDocument(n))}getEntries(e,n){let r=Dt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():me.newInvalidDocument(i))}),x.resolve(r)}getAllFromCollection(e,n,r){let i=Dt();const s=new b(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||lp(ZS(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return x.resolve(i)}getAllFromCollectionGroup(e,n,r,i){M()}As(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z3(this)}getSize(e){return x.resolve(this.size)}}class Z3 extends iC{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.persistence=e,this.Rs=new Er(n=>ii(n),ga),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.bs=0,this.Ps=new xp,this.targetCount=0,this.vs=ui.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),x.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ui(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Dn(n),x.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Tt(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new eM(this),this.indexManager=new V3,this.remoteDocumentCache=function(r){return new J3(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new Xx(n),this.Ns=new Q3(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new X3(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);const i=new tM(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return x.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class tM extends tx{constructor(e){super(),this.currentSequenceNumber=e}}class Ju{constructor(e){this.persistence=e,this.Fs=new xp,this.$s=null}static Bs(e){return new Ju(e)}get Ls(){if(this.$s)return this.$s;throw M()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),x.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ls,r=>{const i=b.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return x.or([()=>x.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.yt=e}$(e,n,r,i){const s=new Gu("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",F_,{unique:!0}),a.createObjectStore("documentMutations")}(e),J_(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),J_(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:j.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",F_,{unique:!0});const c=l.store("mutations"),h=u.map(m=>c.put(m));return x.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Us(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:D3});l.createIndex("collectionPathOverlayIndex",I3,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",k3,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:m3});l.createIndex("documentKeyIndex",g3),l.createIndex("collectionGroupIndex",y3)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:x3}).createIndex("sequenceNumberIndex",C3,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:E3}).createIndex("documentKeyIndex",T3,{unique:!1})}(e))),o}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=au(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>x.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>x.forEach(a,l=>{z(l.userId===s.userId);const u=Pr(this.yt,l);return tC(e,s.userId,u).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new ne(o),u=function(c){return[0,yt(c)]}(l);s.push(n.get(u).next(c=>c?x.resolve():(h=>n.put({targetId:0,path:yt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>x.waitFor(s))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:S3});const r=n.store("collectionParents"),i=new Sp,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:yt(l)})}};return n.store("remoteDocuments").Z({X:!0},(o,a)=>{const l=new ne(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([o,a,l],u)=>{const c=hn(a);return s(c.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Zs(i),o=Jx(this.yt,s);return n.put(o)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new b(ne.fromString(u.document.name).popFirst(5)):u.noDocument?b.fromSegments(u.noDocument.path):u.unknownDocument?b.fromSegments(u.unknownDocument.path):M()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>x.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=sC(this.yt),s=new aC(Ju.Bs,this.yt.ie);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:X();Pr(this.yt,l).keys().forEach(h=>c=c.add(h)),a.set(l.userId,c)}),x.forEach(a,(l,u)=>{const c=new je(u),h=Yu.re(this.yt,c),m=s.getIndexManager(c),y=Xu.re(c,this.yt,m,s.referenceDelegate);return new oC(i,y,h,m).recalculateAndSaveOverlaysForDocumentKeys(new Dd(n,Tt.at),l).next()})})}}function J_(t){t.createObjectStore("targetDocuments",{keyPath:_3}).createIndex("documentTargetsIndex",w3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",v3,{unique:!0}),t.createObjectStore("targetGlobal")}const ih="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cp{constructor(e,n,r,i,s,o,a,l,u,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=u,this.Ys=c,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=m=>Promise.resolve(),!Cp.C())throw new D(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new G3(this,i),this.ii=n+"main",this.yt=new Xx(l),this.ri=new Xt(this.ii,this.Xs,new nM(this.yt)),this.Cs=new U3(this.referenceDelegate,this.yt),this.remoteDocumentCache=sC(this.yt),this.Ns=new b3,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,c===!1&&be("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new D(E.FAILED_PRECONDITION,ih);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Tt(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>el(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Cr(e))return I("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Gs(e).get("owner").next(n=>x.resolve(this.mi(n)))}gi(e){return el(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=He(n,"clientMetadata");return r.W().next(i=>{const s=this.Ii(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?x.resolve(!0):Gs(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new D(E.FAILED_PRECONDITION,ih);return!1}}return!(!this.networkEnabled||!this.inForeground)||el(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&I("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Dd(e,Tt.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>el(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Xu.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new B3(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Yu.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){I("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Xs)===15?L3:o===14?Yx:o===13?Qx:o===12?N3:o===11?Wx:void M();var o;let a;return this.ri.runTransaction(e,i,s,l=>(a=new Dd(l,this.Ss?this.Ss.next():Tt.at),n==="readwrite-primary"?this.fi(a).next(u=>!!u||this.di(a)).next(u=>{if(!u)throw be(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new D(E.FAILED_PRECONDITION,ex);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Vi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Vi(e){return Gs(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new D(E.FAILED_PRECONDITION,ih)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gs(e).put("owner",n)}static C(){return Xt.C()}_i(e){const n=Gs(e);return n.get("owner").next(r=>this.mi(r)?(I("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(be(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),N$()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return I("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return be("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){be("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gs(t){return He(t,"owner")}function el(t){return He(t,"clientMetadata")}function Ep(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(T_(n))return x.resolve(null);let r=Lt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iu(n,null,"F"),r=Lt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=X(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,iu(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return T_(n)||i.isEqual(j.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(gd()<=se.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cd(n)),this.Bi(e,o,n,JS(i,-1)))})}Fi(e,n){let r=new le(_x(e));return n.forEach((i,s)=>{fp(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return gd()<=se.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Cd(n)),this.Ni.getDocumentsMatchingQuery(e,n,Mt.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new ke(Y),this.Ui=new Er(s=>ii(s),ga),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oC(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function uC(t,e,n,r){return new rM(t,e,n,r)}async function cC(t,e){const n=F(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=X();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function iM(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let m=x.resolve();return h.forEach(y=>{m=m.next(()=>u.getEntry(a,y)).next(S=>{const C=l.docVersions.get(y);z(C!==null),S.version.compareTo(C)<0&&(c.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),u.addEntry(S)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=X();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hC(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function sM(t,e){const n=F(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,h)=>{const m=i.get(h);if(!m)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?y=y.withResumeToken(Be.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(h,y),function(S,C,P){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,y,c)&&a.push(n.Cs.updateTargetData(s,y))});let l=Dt(),u=X();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(dC(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(j.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function dC(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dt();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(j.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function oM(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hs(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new ir(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function ds(t,e,n){const r=F(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Cr(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function lu(t,e,n){const r=F(t);let i=j.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=F(a),h=c.Ui.get(u);return h!==void 0?x.resolve(c.qi.get(h)):c.Cs.getTargetData(l,u)}(r,o,Lt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:X())).next(a=>(mC(r,vx(e),a),{documents:a,Hi:s})))}function fC(t,e){const n=F(t),r=F(n.Cs),i=n.qi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function pC(t,e){const n=F(t),r=n.Ki.get(e)||j.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,JS(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mC(n,e,i),i))}function mC(t,e,n){let r=t.Ki.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}async function aM(t,e,n,r){const i=F(t);let s=X(),o=Dt();for(const u of n){const c=e.Ji(u.metadata.name);u.document&&(s=s.add(c));const h=e.Yi(u);h.setReadTime(e.Xi(u.metadata.readTime)),o=o.insert(c,h)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),l=await hs(i,function(u){return Lt(Cs(ne.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>dC(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Cs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Cs.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Wi,c.zi)).next(()=>c.Wi)))}async function lM(t,e,n=X()){const r=await hs(t,Lt(_p(e.bundledQuery))),i=F(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=$e(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(Be.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}function Z_(t,e){return`firestore_clients_${t}_${e}`}function ew(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sh(t,e){return`firestore_targets_${t}_${e}`}class uu{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new D(i.error.code,i.error.message))),o?new uu(e,n,i.state,s):(be("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mo{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new D(r.error.code,r.error.message))),s?new mo(e,r.state,i):(be("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cu{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Qu();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=rx(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new cu(e,s):(be("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Dp{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Dp(n.clientId,n.onlineState):(be("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ld{constructor(){this.activeTargetIds=Qu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oh{constructor(e,n,r,i,s){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ke(Y),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=Z_(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Ld),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(Z_(this.persistenceKey,r));if(i){const s=cu.Zi(r,i);s&&(this.ur=this.ur.insert(s.clientId,s))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sh(this.persistenceKey,e));if(r){const i=mo.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sh(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return I("SharedClientState","READ",e,n),n}setItem(e,n){I("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if(I("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void be("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let s=Tt.at;if(i!=null)try{const o=JSON.parse(i);z(typeof o=="number"),s=o}catch(o){be("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Tt.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Mr(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new uu(this.currentUser,e,n,r),s=ew(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const n=ew(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=sh(this.persistenceKey,e),s=new mo(e,n,r);this.setItem(i,s.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return cu.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return uu.Zi(new je(s),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return mo.Zi(i,n)}yr(e){return Dp.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);I("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Qu();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class gC{constructor(){this.Lr=new Ld,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ld,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);I("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(I("RestConnection","Received: ",l),l),l=>{throw is("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=cM[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new hR;a.setWithCredentials(!0),a.listenOnce(lR.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nh.NO_ERROR:const u=a.getResponseJson();I("Connection","XHR received:",JSON.stringify(u)),s(u);break;case nh.TIMEOUT:I("Connection",'RPC "'+e+'" timed out'),o(new D(E.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const c=a.getStatus();if(I("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(C)>=0?C:E.UNKNOWN}(m.status);o(new D(y,m.message))}else o(new D(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(E.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{I("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oR(),o=aR(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new cR({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");I("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const m=new hM({Hr:S=>{h?I("Connection","Not sending because WebChannel is closed:",S):(c||(I("Connection","Opening WebChannel transport."),u.open(),c=!0),I("Connection","WebChannel sending:",S),u.send(S))},Jr:()=>u.close()}),y=(S,C,P)=>{S.listen(C,_=>{try{P(_)}catch(g){setTimeout(()=>{throw g},0)}})};return y(u,Qa.EventType.OPEN,()=>{h||I("Connection","WebChannel transport opened.")}),y(u,Qa.EventType.CLOSE,()=>{h||(h=!0,I("Connection","WebChannel transport closed"),m.io())}),y(u,Qa.EventType.ERROR,S=>{h||(h=!0,is("Connection","WebChannel transport errored:",S),m.io(new D(E.UNAVAILABLE,"The operation could not be completed")))}),y(u,Qa.EventType.MESSAGE,S=>{var C;if(!h){const P=S.data[0];z(!!P);const _=P,g=_.error||((C=_[0])===null||C===void 0?void 0:C.error);if(g){I("Connection","WebChannel received error:",g);const w=g.status;let T=function(L){const A=Fe[L];if(A!==void 0)return Lx(A)}(w),N=g.message;T===void 0&&(T=E.INTERNAL,N="Unknown error status: "+w+" with message "+g.message),h=!0,m.io(new D(T,N)),u.close()}else I("Connection","WebChannel received:",P),m.ro(P)}}),y(o,uR.STAT_EVENT,S=>{S.stat===h_.PROXY?I("Connection","Detected buffering proxy"):S.stat===h_.NOPROXY&&I("Connection","Detected no buffering proxy")}),setTimeout(()=>{m.so()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return typeof window!="undefined"?window:null}function vl(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){return new r3(t,!0)}class Ip{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ip(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(be(n.toString()),be("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new D(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fM extends vC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=o3(this.yt,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?$e(s.readTime):j.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Ho(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=nu(a)?{documents:Ux(i,a)}:{query:zx(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Rx(i,s.resumeToken):s.snapshotVersion.compareTo(j.min())>0&&(o.readTime=cs(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=l3(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Ho(this.yt),n.removeTarget=e,this.Bo(n)}}class pM extends vC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=a3(e.writeResults,e.commitTime),r=$e(e.commitTime);return this.listener.Zo(r,n)}return z(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ho(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wo(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(E.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class gM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(be(n),this.ou=!1):I("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Tr(this)&&(I("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=F(a);l._u.add(4),await Ds(l),l.gu.set("Unknown"),l._u.delete(4),await xa(l)}(this))})}),this.gu=new gM(r,i)}}async function xa(t){if(Tr(t))for(const e of t.wu)await e(!0)}async function Ds(t){for(const e of t.wu)await e(!1)}function Zu(t,e){const n=F(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Lp(n)?Np(n):ks(n).ko()&&kp(n,e))}function Qo(t,e){const n=F(t),r=ks(n);n.du.delete(e),r.ko()&&_C(n,e),n.du.size===0&&(r.ko()?r.Fo():Tr(n)&&n.gu.set("Unknown"))}function kp(t,e){t.yu.Ot(e.targetId),ks(t).zo(e)}function _C(t,e){t.yu.Ot(e),ks(t).Ho(e)}function Np(t){t.yu=new ZR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ks(t).start(),t.gu.uu()}function Lp(t){return Tr(t)&&!ks(t).No()&&t.du.size>0}function Tr(t){return F(t)._u.size===0}function wC(t){t.yu=void 0}async function vM(t){t.du.forEach((e,n)=>{kp(t,e)})}async function _M(t,e){wC(t),Lp(t)?(t.gu.hu(e),Np(t)):t.gu.set("Unknown")}async function wM(t,e,n){if(t.gu.set("Online"),e instanceof Fx&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hu(t,r)}else if(e instanceof gl?t.yu.Kt(e):e instanceof $x?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(j.min()))try{const r=await hC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Be.EMPTY_BYTE_STRING,l.snapshotVersion)),_C(i,a);const u=new ir(l.target,a,1,l.sequenceNumber);kp(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){I("RemoteStore","Failed to raise snapshot:",r),await hu(t,r)}}async function hu(t,e,n){if(!Cr(e))throw e;t._u.add(1),await Ds(t),t.gu.set("Offline"),n||(n=()=>hC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{I("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await xa(t)})}function SC(t,e){return e().catch(n=>hu(t,n,e))}async function Is(t){const e=F(t),n=pr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;SM(e);)try{const i=await oM(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,xM(e,i)}catch(i){await hu(e,i)}xC(e)&&CC(e)}function SM(t){return Tr(t)&&t.fu.length<10}function xM(t,e){t.fu.push(e);const n=pr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function xC(t){return Tr(t)&&!pr(t).No()&&t.fu.length>0}function CC(t){pr(t).start()}async function CM(t){pr(t).eu()}async function EM(t){const e=pr(t);for(const n of t.fu)e.Xo(n.mutations)}async function TM(t,e,n){const r=t.fu.shift(),i=yp.from(r,e,n);await SC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Is(t)}async function DM(t,e){e&&pr(t).Yo&&await async function(n,r){if(i=r.code,Nx(i)&&i!==E.ABORTED){const s=n.fu.shift();pr(n).Mo(),await SC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Is(n)}var i}(t,e),xC(t)&&CC(t)}async function nw(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=Tr(n);n._u.add(3),await Ds(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await xa(n)}async function Ad(t,e){const n=F(t);e?(n._u.delete(2),await xa(n)):e||(n._u.add(2),await Ds(n),n.gu.set("Unknown"))}function ks(t){return t.pu||(t.pu=function(e,n,r){const i=F(e);return i.su(),new fM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:vM.bind(null,t),Zr:_M.bind(null,t),Wo:wM.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Lp(t)?Np(t):t.gu.set("Unknown")):(await t.pu.stop(),wC(t))})),t.pu}function pr(t){return t.Iu||(t.Iu=function(e,n,r){const i=F(e);return i.su(),new pM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:CM.bind(null,t),Zr:DM.bind(null,t),tu:EM.bind(null,t),Zo:TM.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Is(t)):(await t.Iu.stop(),t.fu.length>0&&(I("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ge,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ap(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ns(t,e){if(be("AsyncQueue",`${e}: ${t}`),Cr(t))return new D(E.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||b.comparator(n.key,r.key):(n,r)=>b.comparator(n.key,r.key),this.keyedMap=Js(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new Wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.Tu=new ke(b.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):M():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class fs{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fs(e,n,Wi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.Au=void 0,this.listeners=[]}}class kM{constructor(){this.queries=new Er(e=>yx(e),ya),this.onlineState="Unknown",this.Ru=new Set}}async function bp(t,e){const n=F(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new IM),i)try{s.Au=await n.onListen(r)}catch(o){const a=Ns(o,`Initialization of query '${Cd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&$p(n)}async function Pp(t,e){const n=F(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function NM(t,e){const n=F(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&$p(n)}function LM(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $p(t){t.Ru.forEach(e=>{e.next()})}class Fp{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.yt=e}Ji(e){return pn(this.yt,e)}Yi(e){return e.metadata.exists?Bx(this.yt,e.document,!1):me.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return $e(e)}}class bM{constructor(e,n,r){this.Mu=e,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EC(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=ne.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new iw(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||X()).add(s);n.set(o,a)}}return n}async complete(){const e=await aM(this.localStore,new iw(this.yt),this.documents,this.Mu.id),n=this.$u(this.documents);for(const r of this.queries)await lM(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function EC(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.key=e}}class DC{constructor(e){this.key=e}}class IC{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=X(),this.mutatedKeys=X(),this.Gu=_x(e),this.Qu=new Wi(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new rw,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const m=i.get(c),y=fp(this.query,h)?h:null,S=!!m&&this.mutatedKeys.has(m.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;m&&y?m.data.isEqual(y.data)?S!==C&&(r.track({type:3,doc:y}),P=!0):this.Hu(m,y)||(r.track({type:2,doc:y}),P=!0,(l&&this.Gu(y,l)>0||u&&this.Gu(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),P=!0):m&&!y&&(r.track({type:1,doc:m}),P=!0,(l||u)&&(a=!0)),P&&(y?(o=o.add(y),s=C?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(h,m){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return y(h)-y(m)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new fs(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new rw,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=X(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new DC(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new TC(r))}),n}tc(e){this.qu=e.Hi,this.Ku=X();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return fs.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class PM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $M{constructor(e){this.key=e,this.nc=!1}}class FM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Er(a=>yx(a),ya),this.rc=new Map,this.oc=new Set,this.uc=new ke(b.comparator),this.cc=new Map,this.ac=new xp,this.hc={},this.lc=new Map,this.fc=ui.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function RM(t,e){const n=Bp(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await hs(n.localStore,Lt(e));n.isPrimaryClient&&Zu(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Rp(n,e,r,a==="current",o.resumeToken)}return i}async function Rp(t,e,n,r,i){t._c=(h,m,y)=>async function(S,C,P,_){let g=C.view.Wu(P);g.$i&&(g=await lu(S.localStore,C.query,!1).then(({documents:N})=>C.view.Wu(N,g)));const w=_&&_.targetChanges.get(C.targetId),T=C.view.applyChanges(g,S.isPrimaryClient,w);return bd(S,C.targetId,T.Xu),T.snapshot}(t,h,m,y);const s=await lu(t.localStore,e,!0),o=new IC(e,s.Hi),a=o.Wu(s.documents),l=wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);bd(t,n,u.Xu);const c=new PM(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function MM(t,e){const n=F(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!ya(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ds(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qo(n.remoteStore,r.targetId),ps(n,r.targetId)}).catch(xr)):(ps(n,r.targetId),await ds(n.localStore,r.targetId,!0))}async function OM(t,e,n){const r=Up(t);try{const i=await function(s,o){const a=F(s),l=Se.now(),u=o.reduce((m,y)=>m.add(y.key),X());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Dt(),S=X();return a.Gi.getEntries(m,u).next(C=>{y=C,y.forEach((P,_)=>{_.isValidDocument()||(S=S.add(P))})}).next(()=>a.localDocuments.getOverlayedDocuments(m,y)).next(C=>{c=C;const P=[];for(const _ of o){const g=HR(_,c.get(_.key).overlayedDocument);g!=null&&P.push(new Pn(_.key,g,mx(g.value.mapValue),we.exists(!0)))}return a.mutationQueue.addMutationBatch(m,l,P,o)}).next(C=>{h=C;const P=C.applyToLocalDocumentSet(c,S);return a.documentOverlayCache.saveOverlays(m,C.batchId,P)})}).then(()=>({batchId:h.batchId,changes:bx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new ke(Y)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await $n(r,i.changes),await Is(r.remoteStore)}catch(i){const s=Ns(i,"Failed to persist write");n.reject(s)}}async function kC(t,e){const n=F(t);try{const r=await sM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?z(o.nc):i.removedDocuments.size>0&&(z(o.nc),o.nc=!1))}),await $n(n,r,e)}catch(r){await xr(r)}}function sw(t,e,n){const r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&$p(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VM(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new ke(b.comparator);o=o.insert(s,me.newNoDocument(s,j.min()));const a=X().add(s),l=new _a(j.min(),new Map,new le(Y),o,a);await kC(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Vp(r)}else await ds(r.localStore,e,!1).then(()=>ps(r,e,n)).catch(xr)}async function BM(t,e){const n=F(t),r=e.batch.batchId;try{const i=await iM(n.localStore,e);Op(n,r,null),Mp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $n(n,i)}catch(i){await xr(i)}}async function UM(t,e,n){const r=F(t);try{const i=await function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(z(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Op(r,e,n),Mp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $n(r,i)}catch(i){await xr(i)}}async function zM(t,e){const n=F(t);Tr(n.remoteStore)||I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=F(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=Ns(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Mp(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Op(t,e,n){const r=F(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ps(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||NC(t,r)})}function NC(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Qo(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Vp(t))}function bd(t,e,n){for(const r of n)r instanceof TC?(t.ac.addReference(r.key,e),jM(t,r)):r instanceof DC?(I("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||NC(t,r.key)):M()}function jM(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(I("SyncEngine","New document in limbo: "+n),t.oc.add(r),Vp(t))}function Vp(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new b(ne.fromString(e)),r=t.fc.next();t.cc.set(r,new $M(n)),t.uc=t.uc.insert(n,r),Zu(t.remoteStore,new ir(Lt(Cs(n.path)),r,2,Tt.at))}}async function $n(t,e,n){const r=F(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Tp.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=F(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(l,h=>x.forEach(h.Si,m=>u.persistence.referenceDelegate.addReference(c,h.targetId,m)).next(()=>x.forEach(h.Di,m=>u.persistence.referenceDelegate.removeReference(c,h.targetId,m)))))}catch(c){if(!Cr(c))throw c;I("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const m=u.qi.get(h),y=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(y);u.qi=u.qi.insert(h,S)}}}(r.localStore,s))}async function qM(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=await cC(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new D(E.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $n(n,r.ji)}}function GM(t,e){const n=F(t),r=n.cc.get(e);if(r&&r.nc)return X().add(r.key);{let i=X();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}async function KM(t,e){const n=F(t),r=await lu(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&bd(n,e.targetId,i.Xu),i}async function HM(t,e){const n=F(t);return pC(n.localStore,e).then(r=>$n(n,r))}async function WM(t,e,n,r){const i=F(t),s=await function(o,a){const l=F(o),u=F(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Tn(c,a).next(h=>h?l.localDocuments.getDocuments(c,h):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Is(i.remoteStore):n==="acknowledged"||n==="rejected"?(Op(i,e,r||null),Mp(i,e),function(o,a){F(F(o).mutationQueue).An(a)}(i.localStore,e)):M(),await $n(i,s)):I("SyncEngine","Cannot apply mutation batch with id: "+e)}async function QM(t,e){const n=F(t);if(Bp(n),Up(n),e===!0&&n.dc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await ow(n,r.toArray());n.dc=!0,await Ad(n.remoteStore,!0);for(const s of i)Zu(n.remoteStore,s)}else if(e===!1&&n.dc!==!1){const r=[];let i=Promise.resolve();n.rc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ps(n,o),ds(n.localStore,o,!0))),Qo(n.remoteStore,o)}),await i,await ow(n,r),function(s){const o=F(s);o.cc.forEach((a,l)=>{Qo(o.remoteStore,l)}),o.ac.fs(),o.cc=new Map,o.uc=new ke(b.comparator)}(n),n.dc=!1,await Ad(n.remoteStore,!1)}}async function ow(t,e,n){const r=F(t),i=[],s=[];for(const o of e){let a;const l=r.rc.get(o);if(l&&l.length!==0){a=await hs(r.localStore,Lt(l[0]));for(const u of l){const c=r.ic.get(u),h=await KM(r,c);h.snapshot&&s.push(h.snapshot)}}else{const u=await fC(r.localStore,o);a=await hs(r.localStore,u),await Rp(r,LC(u),o,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(s),i}function LC(t){return gx(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function YM(t){const e=F(t);return F(F(e.localStore).persistence).vi()}async function XM(t,e,n,r){const i=F(t);if(i.dc)return void I("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await pC(i.localStore,vx(s[0])),a=_a.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Be.EMPTY_BYTE_STRING);await $n(i,o,a);break}case"rejected":await ds(i.localStore,e,!0),ps(i,e,r);break;default:M()}}async function JM(t,e,n){const r=Bp(t);if(r.dc){for(const i of e){if(r.rc.has(i)){I("SyncEngine","Adding an already active target "+i);continue}const s=await fC(r.localStore,i),o=await hs(r.localStore,s);await Rp(r,LC(s),o.targetId,!1,o.resumeToken),Zu(r.remoteStore,o)}for(const i of n)r.rc.has(i)&&await ds(r.localStore,i,!1).then(()=>{Qo(r.remoteStore,i),ps(r,i)}).catch(xr)}}function Bp(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VM.bind(null,e),e.sc.Wo=NM.bind(null,e.eventManager),e.sc.wc=LM.bind(null,e.eventManager),e}function Up(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UM.bind(null,e),e}function ZM(t,e,n){const r=F(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(h,m){const y=F(h),S=$e(m.createTime);return y.persistence.runTransaction("hasNewerBundle","readonly",C=>y.Ns.getBundleMetadata(C,m.id)).then(C=>!!C&&C.createTime.compareTo(S)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(EC(a));const l=new bM(a,i.localStore,s.yt);let u=await s.mc();for(;u;){const h=await l.Fu(u);h&&o._updateProgress(h),u=await s.mc()}const c=await l.complete();return await $n(i,c.Lu,void 0),await function(h,m){const y=F(h);return y.persistence.runTransaction("Save bundle","readwrite",S=>y.Ns.saveBundleMetadata(S,m))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Bu)}catch(a){return is("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class AC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Sa(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return uC(this.persistence,new lC,e.initialUser,this.yt)}yc(e){return new aC(Ju.Bs,this.yt)}gc(e){return new gC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bC extends AC{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await Up(this.Ac.syncEngine),await Is(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return uC(this.persistence,new lC,e.initialUser,this.yt)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new j3(r,e.asyncQueue,n)}Ec(e,n){const r=new IR(n,this.persistence);return new DR(e.asyncQueue,r)}yc(e){const n=Ep(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new Cp(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,yC(),vl(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new gC}}class eO extends bC{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ac.syncEngine;this.sharedClientState instanceof oh&&(this.sharedClientState.syncEngine={Fr:WM.bind(null,n),$r:XM.bind(null,n),Br:JM.bind(null,n),vi:YM.bind(null,n),Mr:HM.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await QM(this.Ac.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}gc(e){const n=yC();if(!oh.C(n))throw new D(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ep(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oh(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await Ad(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kM}createDatastore(e){const n=Sa(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new dM(i));var i;return function(s,o,a,l){return new mM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>sw(this.syncEngine,a,0),o=tw.C()?new tw:new uM,new yM(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new FM(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=F(e);I("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Ds(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e,n){if(!n)throw new D(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PC(t,e,n,r){if(e===!0&&r===!0)throw new D(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aw(t){if(!b.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lw(t){if(b.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ec(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":M()}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ec(t);throw new D(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $C(t,e){if(e<=0)throw new D(E.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;class cw{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new D(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,PC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pR;switch(n.type){case"gapi":const r=n.client;return new vR(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uw.get(e);n&&(I("ComponentProvider","Removing Datastore"),uw.delete(e),n.terminate())}(this),Promise.resolve()}}function tO(t,e,n,r={}){var i;const s=(t=ie(t,Ca))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&is("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=je.MOCK_USER;else{o=O$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new D(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new je(l)}t._authCredentials=new mR(new WS(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ye(this.firestore,e,this._key)}}class tt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tt(this.firestore,e,this._query)}}class mn extends tt{constructor(e,n,r){super(e,n,Cs(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ye(this.firestore,null,new b(e))}withConverter(e){return new mn(this.firestore,e,this._path)}}function FC(t,e,...n){if(t=Me(t),jp("collection","path",e),t instanceof Ca){const r=ne.fromString(e,...n);return lw(r),new mn(t,null,r)}{if(!(t instanceof ye||t instanceof mn))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return lw(r),new mn(t.firestore,null,r)}}function nO(t,e){if(t=ie(t,Ca),jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new D(E.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new tt(t,null,function(n){return new bn(ne.emptyPath(),n)}(e))}function du(t,e,...n){if(t=Me(t),arguments.length===1&&(e=QS.R()),jp("doc","path",e),t instanceof Ca){const r=ne.fromString(e,...n);return aw(r),new ye(t,null,new b(r))}{if(!(t instanceof ye||t instanceof mn))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return aw(r),new ye(t.firestore,t instanceof mn?t.converter:null,new b(r))}}function RC(t,e){return t=Me(t),e=Me(e),(t instanceof ye||t instanceof mn)&&(e instanceof ye||e instanceof mn)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function MC(t,e){return t=Me(t),e=Me(e),t instanceof tt&&e instanceof tt&&t.firestore===e.firestore&&ya(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):be("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new Ge,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const n=this.vc.decode(e),r=Number(n);isNaN(r)&&this.Dc(`length string (${n}) is not valid number`);const i=await this.Cc(r);return new AM(JSON.parse(i),e.length+r)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const n=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new D(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=F(r),o=Ho(s.yt)+"/documents",a={documents:i.map(h=>Ko(s.yt,h))},l=await s._o("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(h=>{const m=s3(s.yt,h);u.set(m.key.toString(),m)});const c=[];return i.forEach(h=>{const m=u.get(h.toString());z(!!m),c.push(m)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ts(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=b.fromPath(r);this.mutations.push(new pp(i,this.precondition(i)))}),await async function(n,r){const i=F(n),s=Ho(i.yt)+"/documents",o={writes:r.map(a=>Wo(i.yt,a))};await i.ao("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw M();n=j.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new D(E.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(j.min())?we.exists(!1):we.updateTime(n):we.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(j.min()))throw new D(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return we.updateTime(n)}return we.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new Ip(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new iO(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!ma(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Nx(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=je.UNAUTHENTICATED,this.clientId=QS.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{I("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ge;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ns(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function OC(t,e){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function VC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qp(t);I("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>nw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nw(e.remoteStore,s)),t.onlineComponents=e}async function qp(t){return t.offlineComponents||(I("FirestoreClient","Using default OfflineComponentProvider"),await OC(t,new AC)),t.offlineComponents}async function nc(t){return t.onlineComponents||(I("FirestoreClient","Using default OnlineComponentProvider"),await VC(t,new zp)),t.onlineComponents}function BC(t){return qp(t).then(e=>e.persistence)}function Gp(t){return qp(t).then(e=>e.localStore)}function UC(t){return nc(t).then(e=>e.remoteStore)}function Kp(t){return nc(t).then(e=>e.syncEngine)}function aO(t){return nc(t).then(e=>e.datastore)}async function ms(t){const e=await nc(t),n=e.eventManager;return n.onListen=RM.bind(null,e.syncEngine),n.onUnlisten=MM.bind(null,e.syncEngine),n}function lO(t){return t.asyncQueue.enqueue(async()=>{const e=await BC(t),n=await UC(t);return e.setNetworkEnabled(!0),function(r){const i=F(r);return i._u.delete(0),xa(i)}(n)})}function uO(t){return t.asyncQueue.enqueue(async()=>{const e=await BC(t),n=await UC(t);return e.setNetworkEnabled(!1),async function(r){const i=F(r);i._u.add(0),await Ds(i),i.gu.set("Offline")}(n)})}function cO(t,e){const n=new Ge;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=F(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new D(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Ns(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await Gp(t),e,n)),n.promise}function zC(t,e,n={}){const r=new Ge;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new tc({next:h=>{s.enqueueAndForget(()=>Pp(i,c));const m=h.docs.has(o);!m&&h.fromCache?l.reject(new D(E.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&a&&a.source==="server"?l.reject(new D(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Fp(Cs(o.path),u,{includeMetadataChanges:!0,Nu:!0});return bp(i,c)}(await ms(t),t.asyncQueue,e,n,r)),r.promise}function hO(t,e){const n=new Ge;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await lu(r,i,!0),a=new IC(i,o.Hi),l=a.Wu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=Ns(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await Gp(t),e,n)),n.promise}function jC(t,e,n={}){const r=new Ge;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new tc({next:h=>{s.enqueueAndForget(()=>Pp(i,c)),h.fromCache&&a.source==="server"?l.reject(new D(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Fp(o,u,{includeMetadataChanges:!0,Nu:!0});return bp(i,c)}(await ms(t),t.asyncQueue,e,n,r)),r.promise}function dO(t,e){const n=new tc(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){F(r).Ru.add(i),i.next()}(await ms(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){F(r).Ru.delete(i)}(await ms(t),n))}}function fO(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new rO(l,u)}(function(l,u){if(l instanceof Uint8Array)return hw(l,u);if(l instanceof ArrayBuffer)return hw(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Sa(e));t.asyncQueue.enqueueAndForget(async()=>{ZM(await Kp(t),i,r)})}function pO(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=F(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(await Gp(t),e))}class mO{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ip(this,"async_queue_retry"),this.Wc=()=>{const n=vl();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=vl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=vl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Ge;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Cr(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw be("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Ap.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&M()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Pd(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ge,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=-1;class Ne extends Ca{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qC(this),this._firestoreClient.terminate()}}function We(t){return t._firestoreClient||qC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qC(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new kR(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new oO(t._authCredentials,t._appCheckCredentials,t._queue,r)}function vO(t,e){KC(t=ie(t,Ne));const n=We(t),r=t._freezeSettings(),i=new zp;return GC(n,i,new bC(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function _O(t){KC(t=ie(t,Ne));const e=We(t),n=t._freezeSettings(),r=new zp;return GC(e,r,new eO(r,n.cacheSizeBytes))}function GC(t,e,n){const r=new Ge;return t.asyncQueue.enqueue(async()=>{try{await OC(t,n),await VC(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===E.FAILED_PRECONDITION||o.code===E.UNIMPLEMENTED:typeof DOMException!="undefined"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;is("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function wO(t){if(t._initialized&&!t._terminated)throw new D(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ge;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!Xt.C())return Promise.resolve();const r=n+"main";await Xt.delete(r)}(Ep(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function SO(t){return function(e){const n=new Ge;return e.asyncQueue.enqueueAndForget(async()=>zM(await Kp(e),n)),n.promise}(We(t=ie(t,Ne)))}function xO(t){return lO(We(t=ie(t,Ne)))}function CO(t){return uO(We(t=ie(t,Ne)))}function EO(t,e){const n=We(t=ie(t,Ne)),r=new gO;return fO(n,t._databaseId,e,r),r}function TO(t,e){return pO(We(t=ie(t,Ne)),e).then(n=>n?new tt(t,null,n.query):null)}function KC(t){if(t._initialized||t._terminated)throw new D(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(Be.fromBase64String(e))}catch(n){throw new D(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=/^__.*__$/;class IO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Es(e,this.data,n,this.fieldTransforms)}}class HC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}class ic{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ic(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return fu(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(WC(this.sa)&&DO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class kO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||Sa(e)}da(e,n,r,i=!1){return new ic({sa:e,methodName:n,fa:r,path:Pe.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function yi(t){const e=t._freezeSettings(),n=Sa(t._databaseId);return new kO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sc(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);Yp("Data must be an object, but it was:",o,r);const a=XC(r,o);let l,u;if(s.merge)l=new $t(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const m=$d(e,h,n);if(!o.contains(m))throw new D(E.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZC(c,m)||c.push(m)}l=new $t(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new IO(new Xe(a),l,u)}class Ea extends gi{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ea}}function QC(t,e,n){return new ic({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Hp extends gi{_toFieldTransform(e){return new va(e.path,new ls)}isEqual(e){return e instanceof Hp}}class NO extends gi{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=QC(this,e,!0),r=this._a.map(s=>vi(s,n)),i=new si(r);return new va(e.path,i)}isEqual(e){return this===e}}class LO extends gi{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=QC(this,e,!0),r=this._a.map(s=>vi(s,n)),i=new oi(r);return new va(e.path,i)}isEqual(e){return this===e}}class AO extends gi{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new us(e.yt,xx(e.yt,this.wa));return new va(e.path,n)}isEqual(e){return this===e}}function Wp(t,e,n,r){const i=t.da(1,e,n);Yp("Data must be an object, but it was:",i,r);const s=[],o=Xe.empty();mi(r,(l,u)=>{const c=Xp(e,l,n);u=Me(u);const h=i.ca(c);if(u instanceof Ea)s.push(c);else{const m=vi(u,h);m!=null&&(s.push(c),o.set(c,m))}});const a=new $t(s);return new HC(o,a,i.fieldTransforms)}function Qp(t,e,n,r,i,s){const o=t.da(1,e,n),a=[$d(e,r,n)],l=[i];if(s.length%2!=0)throw new D(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push($d(e,s[m])),l.push(s[m+1]);const u=[],c=Xe.empty();for(let m=a.length-1;m>=0;--m)if(!ZC(u,a[m])){const y=a[m];let S=l[m];S=Me(S);const C=o.ca(y);if(S instanceof Ea)u.push(y);else{const P=vi(S,C);P!=null&&(u.push(y),c.set(y,P))}}const h=new $t(u);return new HC(c,h,o.fieldTransforms)}function YC(t,e,n,r=!1){return vi(n,t.da(r?4:3,e))}function vi(t,e){if(JC(t=Me(t)))return Yp("Unsupported field value:",e,t),XC(t,e);if(t instanceof gi)return function(n,r){if(!WC(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=vi(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xx(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Se.fromDate(n);return{timestampValue:cs(r.yt,i)}}if(n instanceof Se){const i=new Se(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cs(r.yt,i)}}if(n instanceof rc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yn)return{bytesValue:Rx(r.yt,n._byteString)};if(n instanceof ye){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mp(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${ec(n)}`)}(t,e)}function XC(t,e){const n={};return nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,i)=>{const s=vi(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof rc||t instanceof yn||t instanceof ye||t instanceof gi)}function Yp(t,e,n){if(!JC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ec(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function $d(t,e,n){if((e=Me(e))instanceof mr)return e._internalPath;if(typeof e=="string")return Xp(t,e);throw fu("Field path arguments must be of type string or ",t,!1,void 0,n)}const bO=new RegExp("[~\\*/\\[\\]]");function Xp(t,e,n){if(e.search(bO)>=0)throw fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mr(...e.split("."))._internalPath}catch{throw fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new D(E.INVALID_ARGUMENT,a+t+l)}function ZC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PO extends Yo{data(){return super.data()}}function oc(t,e){return typeof e=="string"?Xp(t,e):e instanceof mr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class Ta extends Jp{}function On(t,e,...n){let r=[];e instanceof Jp&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Zp).length,o=i.filter(a=>a instanceof ac).length;if(s>1||s>0&&o>0)throw new D(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ac extends Ta{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ac(e,n,r)}_apply(e){const n=this._parse(e);return nE(e._query,n),new tt(e.firestore,e.converter,xd(e._query,n))}_parse(e){const n=yi(e.firestore);return function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new D(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){fw(c,u);const m=[];for(const y of c)m.push(dw(a,i,y));h={arrayValue:{values:m}}}else h=dw(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||fw(c,u),h=YC(o,s,c,u==="in"||u==="not-in");return Z.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $O(t,e,n){const r=e,i=oc("where",t);return ac._create(i,r,n)}class Zp extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:oe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)nE(s,a),s=xd(s,a)}(e._query,n),new tt(e.firestore,e.converter,xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends Ta{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new em(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new D(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new D(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Hi(i,s);return function(a,l){if(hp(a)===null){const u=Ku(a);u!==null&&rE(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new tt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new bn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function FO(t,e="asc"){const n=e,r=oc("orderBy",t);return em._create(r,n)}class lc extends Ta{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lc(e,n,r)}_apply(e){return new tt(e.firestore,e.converter,iu(e._query,this._limit,this._limitType))}}function RO(t){return $C("limit",t),lc._create("limit",t,"F")}function MO(t){return $C("limitToLast",t),lc._create("limitToLast",t,"L")}class uc extends Ta{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new uc(e,n,r)}_apply(e){const n=tE(e,this.type,this._docOrFields,this._inclusive);return new tt(e.firestore,e.converter,function(r,i){return new bn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function OO(...t){return uc._create("startAt",t,!0)}function VO(...t){return uc._create("startAfter",t,!1)}class cc extends Ta{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cc(e,n,r)}_apply(e){const n=tE(e,this.type,this._docOrFields,this._inclusive);return new tt(e.firestore,e.converter,function(r,i){return new bn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function BO(...t){return cc._create("endBefore",t,!1)}function UO(...t){return cc._create("endAt",t,!0)}function tE(t,e,n,r){if(n[0]=Me(n[0]),n[0]instanceof Yo)return function(i,s,o,a,l){if(!a)throw new D(E.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Hr(i))if(c.field.isKeyField())u.push(ri(s,a.key));else{const h=a.data.field(c.field);if(cp(h))throw new D(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const m=c.field.canonicalString();throw new D(E.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(h)}return new fr(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=yi(t.firestore);return function(s,o,a,l,u,c){const h=s.explicitOrderBy;if(u.length>h.length)throw new D(E.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<u.length;y++){const S=u[y];if(h[y].field.isKeyField()){if(typeof S!="string")throw new D(E.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof S}`);if(!dp(s)&&S.indexOf("/")!==-1)throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${S}' contains a slash.`);const C=s.path.child(ne.fromString(S));if(!b.isDocumentKey(C))throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const P=new b(C);m.push(ri(o,P))}else{const C=YC(a,l,S);m.push(C)}}return new fr(m,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function dw(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new D(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dp(e)&&n.indexOf("/")!==-1)throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ne.fromString(n));if(!b.isDocumentKey(r))throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ri(t,new b(r))}if(n instanceof ye)return ri(t,n._key);throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ec(n)}.`)}function fw(t,e){if(!Array.isArray(t)||t.length===0)throw new D(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new D(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function nE(t,e){if(e.isInequality()){const r=Ku(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new D(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=hp(t);s!==null&&rE(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rE(t,e,n){if(!n.isEqual(e))throw new D(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class tm{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw M()}}convertObject(e,n){const r={};return mi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new rc(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ix(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=hr(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ne.fromString(e);z(Kx(r));const i=new cr(r.get(1),r.get(3)),s=new b(r.popFirst(5));return i.isEqual(n)||be(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zO extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ye(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ln extends Yo{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class go extends Ln{data(e={}){return super.data(e)}}class gr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new go(this._firestore,this._userDataWriter,r.key,r,new zr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new go(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zr(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new go(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zr(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:jO(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}function iE(t,e){return t instanceof Ln&&e instanceof Ln?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gr&&e instanceof gr&&t._firestore===e._firestore&&MC(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){t=ie(t,ye);const e=ie(t.firestore,Ne);return zC(We(e),t._key).then(n=>nm(e,t,n))}class _i extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ye(this.firestore,null,n)}}function GO(t){t=ie(t,ye);const e=ie(t.firestore,Ne),n=We(e),r=new _i(e);return cO(n,t._key).then(i=>new Ln(e,r,t._key,i,new zr(i!==null&&i.hasLocalMutations,!0),t.converter))}function KO(t){t=ie(t,ye);const e=ie(t.firestore,Ne);return zC(We(e),t._key,{source:"server"}).then(n=>nm(e,t,n))}function HO(t){t=ie(t,tt);const e=ie(t.firestore,Ne),n=We(e),r=new _i(e);return eE(t._query),jC(n,t._query).then(i=>new gr(e,r,t,i))}function WO(t){t=ie(t,tt);const e=ie(t.firestore,Ne),n=We(e),r=new _i(e);return hO(n,t._query).then(i=>new gr(e,r,t,i))}function QO(t){t=ie(t,tt);const e=ie(t.firestore,Ne),n=We(e),r=new _i(e);return jC(n,t._query,{source:"server"}).then(i=>new gr(e,r,t,i))}function pw(t,e,n){t=ie(t,ye);const r=ie(t.firestore,Ne),i=hc(t.converter,e,n);return Da(r,[sc(yi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,we.none())])}function mw(t,e,n,...r){t=ie(t,ye);const i=ie(t.firestore,Ne),s=yi(i);let o;return o=typeof(e=Me(e))=="string"||e instanceof mr?Qp(s,"updateDoc",t._key,e,n,r):Wp(s,"updateDoc",t._key,e),Da(i,[o.toMutation(t._key,we.exists(!0))])}function YO(t){return Da(ie(t.firestore,Ne),[new Ts(t._key,we.none())])}function XO(t,e){const n=ie(t.firestore,Ne),r=du(t),i=hc(t.converter,e);return Da(n,[sc(yi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,we.exists(!1))]).then(()=>r)}function sE(t,...e){var n,r,i;t=Me(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Pd(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Pd(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof ye)u=ie(t.firestore,Ne),c=Cs(t._key.path),l={next:h=>{e[o]&&e[o](nm(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ie(t,tt);u=ie(h.firestore,Ne),c=h._query;const m=new _i(u);l={next:y=>{e[o]&&e[o](new gr(u,m,h,y))},error:e[o+1],complete:e[o+2]},eE(t._query)}return function(h,m,y,S){const C=new tc(S),P=new Fp(m,C,y);return h.asyncQueue.enqueueAndForget(async()=>bp(await ms(h),P)),()=>{C.bc(),h.asyncQueue.enqueueAndForget(async()=>Pp(await ms(h),P))}}(We(u),c,a,l)}function JO(t,e){return dO(We(t=ie(t,Ne)),Pd(e)?e:{next:e})}function Da(t,e){return function(n,r){const i=new Ge;return n.asyncQueue.enqueueAndForget(async()=>OM(await Kp(n),r,i)),i.promise}(We(t),e)}function nm(t,e,n){const r=n.docs.get(e._key),i=new _i(t);return new Ln(t,i,e._key,r,new zr(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yi(e)}set(e,n,r){this._verifyNotCommitted();const i=qn(e,this._firestore),s=hc(i.converter,n,r),o=sc(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,we.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=qn(e,this._firestore);let o;return o=typeof(n=Me(n))=="string"||n instanceof mr?Qp(this._dataReader,"WriteBatch.update",s._key,n,r,i):Wp(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,we.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qn(e,this._firestore);return this._mutations=this._mutations.concat(new Ts(n._key,we.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new D(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qn(t,e){if((t=Me(t)).firestore!==e)throw new D(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=yi(e)}get(e){const n=qn(e,this._firestore),r=new zO(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return M();const s=i[0];if(s.isFoundDocument())return new Yo(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Yo(this._firestore,r,n._key,null,n.converter);throw M()})}set(e,n,r){const i=qn(e,this._firestore),s=hc(i.converter,n,r),o=sc(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=qn(e,this._firestore);let o;return o=typeof(n=Me(n))=="string"||n instanceof mr?Qp(this._dataReader,"Transaction.update",s._key,n,r,i):Wp(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=qn(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=qn(e,this._firestore),r=new _i(this._firestore);return super.get(e).then(i=>new Ln(this._firestore,r,n._key,i._document,new zr(!1,!1),n.converter))}}function nV(t,e,n){t=ie(t,Ne);const r=Object.assign(Object.assign({},ZO),n);return function(i){if(i.maxAttempts<1)throw new D(E.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Ge;return i.asyncQueue.enqueueAndForget(async()=>{const l=await aO(i);new sO(i.asyncQueue,l,o,s,a).run()}),a.promise}(We(t),i=>e(new tV(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return new Ea("deleteField")}function iV(){return new Hp("serverTimestamp")}function sV(...t){return new NO("arrayUnion",t)}function oV(...t){return new LO("arrayRemove",t)}function aV(t){return new AO("increment",t)}(function(t,e=!0){(function(n){xs=n})(Of),ns(new Zr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ne(new gR(n.getProvider("auth-internal")),new wR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cr(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),rr(d_,"3.8.0",t),rr(d_,"3.8.0","esm2017")})();const lV="@firebase/firestore-compat",uV="0.3.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new D("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){if(typeof Uint8Array=="undefined")throw new D("unimplemented","Uint8Arrays are not available in this environment.")}function yw(){if(!NR())throw new D("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Xo{constructor(e){this._delegate=e}static fromBase64String(e){return yw(),new Xo(yn.fromBase64String(e))}static fromUint8Array(e){return gw(),new Xo(yn.fromUint8Array(e))}toBase64(){return yw(),this._delegate.toBase64()}toUint8Array(){return gw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return cV(t,["next","error","complete"])}function cV(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{enableIndexedDbPersistence(e,n){return vO(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return _O(e._delegate)}clearIndexedDbPersistence(e){return wO(e._delegate)}}class oE{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&is("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){tO(this._delegate,e,n,r)}enableNetwork(){return xO(this._delegate)}disableNetwork(){return CO(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,PC("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return SO(this._delegate)}onSnapshotsInSync(e){return JO(this._delegate,e)}get app(){if(!this._appCompat)throw new D("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gs(this,FC(this._delegate,e))}catch(n){throw pt(n,"collection()","Firestore.collection()")}}doc(e){try{return new jt(this,du(this._delegate,e))}catch(n){throw pt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ft(this,nO(this._delegate,e))}catch(n){throw pt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nV(this._delegate,n=>e(new aE(this,n)))}batch(){return We(this._delegate),new lE(new eV(this._delegate,e=>Da(this._delegate,e)))}loadBundle(e){return EO(this._delegate,e)}namedQuery(e){return TO(this._delegate,e).then(n=>n?new ft(this,n):null)}}class dc extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(new yn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return jt.forKey(n,this.firestore,null)}}function dV(t){dR(t)}class aE{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new dc(e)}get(e){const n=jr(e);return this._delegate.get(n).then(r=>new Jo(this._firestore,new Ln(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=jr(e);return r?(rm("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=jr(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=jr(e);return this._delegate.delete(n),this}}class lE{constructor(e){this._delegate=e}set(e,n,r){const i=jr(e);return r?(rm("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=jr(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=jr(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ci{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new go(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zo(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ci.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ci(e,new dc(e),n),i.set(n,s)),s}}ci.INSTANCES=new WeakMap;class jt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dc(e)}static forPath(e,n,r){if(e.length%2!==0)throw new D("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new jt(n,new ye(n._delegate,r,new b(e)))}static forKey(e,n,r){return new jt(n,new ye(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gs(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gs(this.firestore,FC(this._delegate,e))}catch(n){throw pt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Me(e),e instanceof ye?RC(this._delegate,e):!1}set(e,n){n=rm("DocumentReference.set",n);try{return n?pw(this._delegate,e,n):pw(this._delegate,e)}catch(r){throw pt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?mw(this._delegate,e):mw(this._delegate,e,n,...r)}catch(i){throw pt(i,"updateDoc()","DocumentReference.update()")}}delete(){return YO(this._delegate)}onSnapshot(...e){const n=uE(e),r=cE(e,i=>new Jo(this.firestore,new Ln(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sE(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=GO(this._delegate):(e==null?void 0:e.source)==="server"?n=KO(this._delegate):n=qO(this._delegate),n.then(r=>new Jo(this.firestore,new Ln(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new jt(this.firestore,e?this._delegate.withConverter(ci.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pt(t,e,n){return t.message=t.message.replace(e,n),t}function uE(t){for(const e of t)if(typeof e=="object"&&!Fd(e))return e;return{}}function cE(t,e){var n,r;let i;return Fd(t[0])?i=t[0]:Fd(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Jo{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new jt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return iE(this._delegate,e._delegate)}}class Zo extends Jo{data(e){const n=this._delegate.data(e);return fR(n!==void 0),n}}class ft{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dc(e)}where(e,n,r){try{return new ft(this.firestore,On(this._delegate,$O(e,n,r)))}catch(i){throw pt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ft(this.firestore,On(this._delegate,FO(e,n)))}catch(r){throw pt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ft(this.firestore,On(this._delegate,RO(e)))}catch(n){throw pt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ft(this.firestore,On(this._delegate,MO(e)))}catch(n){throw pt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ft(this.firestore,On(this._delegate,OO(...e)))}catch(n){throw pt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ft(this.firestore,On(this._delegate,VO(...e)))}catch(n){throw pt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ft(this.firestore,On(this._delegate,BO(...e)))}catch(n){throw pt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ft(this.firestore,On(this._delegate,UO(...e)))}catch(n){throw pt(n,"endAt()","Query.endAt()")}}isEqual(e){return MC(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=WO(this._delegate):(e==null?void 0:e.source)==="server"?n=QO(this._delegate):n=HO(this._delegate),n.then(r=>new Rd(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=uE(e),r=cE(e,i=>new Rd(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sE(this._delegate,n,r)}withConverter(e){return new ft(this.firestore,e?this._delegate.withConverter(ci.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class fV{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Zo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rd{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ft(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new fV(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Zo(this._firestore,r))})}isEqual(e){return iE(this._delegate,e._delegate)}}class gs extends ft{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jt(this.firestore,e):null}doc(e){try{return e===void 0?new jt(this.firestore,du(this._delegate)):new jt(this.firestore,du(this._delegate,e))}catch(n){throw pt(n,"doc()","CollectionReference.doc()")}}add(e){return XO(this._delegate,e).then(n=>new jt(this.firestore,n))}isEqual(e){return RC(this._delegate,e._delegate)}withConverter(e){return new gs(this.firestore,e?this._delegate.withConverter(ci.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jr(t){return ie(t,ye)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){this._delegate=new mr(...e)}static documentId(){return new im(Pe.keyField().canonicalString())}isEqual(e){return e=Me(e),e instanceof mr?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._delegate=e}static serverTimestamp(){const e=iV();return e._methodName="FieldValue.serverTimestamp",new Rr(e)}static delete(){const e=rV();return e._methodName="FieldValue.delete",new Rr(e)}static arrayUnion(...e){const n=sV(...e);return n._methodName="FieldValue.arrayUnion",new Rr(n)}static arrayRemove(...e){const n=oV(...e);return n._methodName="FieldValue.arrayRemove",new Rr(n)}static increment(e){const n=aV(e);return n._methodName="FieldValue.increment",new Rr(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={Firestore:oE,GeoPoint:rc,Timestamp:Se,Blob:Xo,Transaction:aE,WriteBatch:lE,DocumentReference:jt,DocumentSnapshot:Jo,Query:ft,QueryDocumentSnapshot:Zo,QuerySnapshot:Rd,CollectionReference:gs,FieldPath:im,FieldValue:Rr,setLogLevel:dV,CACHE_SIZE_UNLIMITED:yO};function mV(t,e){t.INTERNAL.registerComponent(new Zr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pV)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){mV(t,(e,n)=>new oE(e,n,new hV)),t.registerVersion(lV,uV)}gV(Kl);var fc={exports:{}},pc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yV=d.exports,vV=Symbol.for("react.element"),_V=Symbol.for("react.fragment"),wV=Object.prototype.hasOwnProperty,SV=yV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xV={key:!0,ref:!0,__self:!0,__source:!0};function hE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wV.call(e,r)&&!xV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vV,type:t,key:s,ref:o,props:i,_owner:SV.current}}pc.Fragment=_V;pc.jsx=hE;pc.jsxs=hE;fc.exports=pc;const v=fc.exports.jsx,f=fc.exports.jsxs,CV=fc.exports.Fragment;var EV=Object.defineProperty,TV=(t,e,n)=>e in t?EV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ar=(t,e,n)=>(TV(t,typeof e!="symbol"?e+"":e,n),n);const dE=d.exports.createContext({}),fE=()=>d.exports.useContext(dE)||{};function DV(t,e){return e?Md(t).reduce((n,[r,i])=>(ea(e,r)&&(n[r]=i),n),{}):{}}function Md(t){return Object.keys(t).map(e=>[e,t[e]])}function ea(t,e){return!!t&&t.indexOf(e)!==-1}function IV(t,e){return!!t&&!!e&&[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n])}function kV(t){return t&&typeof t.isDestroyed=="function"&&typeof t.destroy=="function"}function NV(t){return kV(t)&&t.isDestroyed()}const Bi="__RESIUM_EVENT_MANAGER",Od=["onClick","onDoubleClick","onMouseDown","onMouseUp","onMiddleClick","onMiddleDown","onMiddleUp","onMouseMove","onPinchEnd","onPinchMove","onPinchStart","onRightClick","onRightDown","onRightUp","onWheel","onMouseEnter","onMouseLeave"],pE=class{constructor(t){Ar(this,"scene"),Ar(this,"sshe"),Ar(this,"events",{onClick:new Map,onDoubleClick:new Map,onMouseDown:new Map,onMouseUp:new Map,onMiddleClick:new Map,onMiddleDown:new Map,onMiddleUp:new Map,onMouseMove:new Map,onPinchEnd:new Map,onPinchMove:new Map,onPinchStart:new Map,onRightClick:new Map,onRightDown:new Map,onRightUp:new Map,onWheel:new Map,onMouseEnter:new Map,onMouseLeave:new Map}),Ar(this,"hovered"),Ar(this,"onMouseMove",e=>{var n,r,i,s,o,a;const l=this.pick(e.endPosition);this.hovered!==l&&(this.hovered&&((n=this.getEventCallback("onMouseLeave",this.hovered))==null||n(e,this.hovered),(r=this.getEventCallback("onMouseLeave",null))==null||r(e,this.hovered)),l&&((i=this.getEventCallback("onMouseEnter",l))==null||i(e,l),(s=this.getEventCallback("onMouseEnter",null))==null||s(e,l))),l&&((o=this.getEventCallback("onMouseMove",l))==null||o(e,l)),(a=this.getEventCallback("onMouseMove",null))==null||a(e,l),this.hovered=l}),Ar(this,"eventCallback",e=>n=>{var r,i;const s=this.pick(n==null?void 0:n.position);s&&((r=this.getEventCallback(e,s))==null||r(n,s)),(i=this.getEventCallback(e,null))==null||i(n,s)}),this.scene=t,this.sshe=new Cesium.ScreenSpaceEventHandler(t==null?void 0:t.canvas)}destroy(){this.hovered=void 0,this.sshe.isDestroyed()||this.sshe.destroy()}isDestroyed(){return this.sshe.isDestroyed()}on(t,e,n){t&&e==="onWheel"||this.events[e].set(t,n)}off(t,e){this.events[e].delete(t),this.hovered===t&&(this.hovered=void 0)}setEvents(t,e){Md(e).forEach(([n,r])=>{const i=n;ea(Od,i)&&(r?this.on(t,i,r):this.off(t,i))}),this.commit()}clearEvents(t){this.hovered=void 0,Od.forEach(e=>{this.off(t,e)}),this.commit()}commit(){const t=this.sshe,e=this.sshe.isDestroyed();e||(this.events.onMouseEnter.size===0&&this.events.onMouseLeave.size===0&&this.events.onMouseMove.size===0?this.sshe.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE):this.sshe.getInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)||this.sshe.setInputAction(this.onMouseMove,Cesium.ScreenSpaceEventType.MOUSE_MOVE)),Md(this.events).forEach(([n,r])=>{if(n==="onMouseEnter"||n==="onMouseLeave"||n==="onMouseMove")return;const i=pE.eventTypeMap[n];e||(r.size===0?t.removeInputAction(i):t.getInputAction(i)||t.setInputAction(this.eventCallback(n),i))})}getScreenSpaceEventHandler(){return this.sshe}getEventCallback(t,e){var n,r;return e===null?this.events[t].get(null):this.events[t].get(e.id)||this.events[t].get((r=(n=e.id)==null?void 0:n.entityCollection)==null?void 0:r.owner)||this.events[t].get(e.primitive)||this.events[t].get(e.tileset)}pick(t){var e;if(t)return(e=this.scene)==null?void 0:e.pick(t)}};let sm=pE;Ar(sm,"eventTypeMap",{onClick:Cesium.ScreenSpaceEventType.LEFT_CLICK,onDoubleClick:Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,onMouseDown:Cesium.ScreenSpaceEventType.LEFT_DOWN,onMouseUp:Cesium.ScreenSpaceEventType.LEFT_UP,onMiddleClick:Cesium.ScreenSpaceEventType.MIDDLE_CLICK,onMiddleDown:Cesium.ScreenSpaceEventType.MIDDLE_DOWN,onMiddleUp:Cesium.ScreenSpaceEventType.MIDDLE_UP,onMouseMove:Cesium.ScreenSpaceEventType.MOUSE_MOVE,onPinchEnd:Cesium.ScreenSpaceEventType.PINCH_END,onPinchMove:Cesium.ScreenSpaceEventType.PINCH_MOVE,onPinchStart:Cesium.ScreenSpaceEventType.PINCH_START,onRightClick:Cesium.ScreenSpaceEventType.RIGHT_CLICK,onRightDown:Cesium.ScreenSpaceEventType.RIGHT_DOWN,onRightUp:Cesium.ScreenSpaceEventType.RIGHT_UP,onWheel:Cesium.ScreenSpaceEventType.WHEEL,onMouseEnter:Cesium.ScreenSpaceEventType.MOUSE_MOVE,onMouseLeave:Cesium.ScreenSpaceEventType.MOUSE_MOVE});const LV=({name:t,create:e,destroy:n,provide:r,update:i,cesiumReadonlyProps:s,cesiumEventProps:o,otherProps:a,setCesiumPropsAfterCreate:l,useCommonEvent:u,useRootEvent:c},h,m)=>{const y=d.exports.useRef(),S=fE(),C=d.exports.useRef(r?{}:void 0),P=d.exports.useRef({}),_=d.exports.useRef(h),g=d.exports.useRef({}),[w,T]=d.exports.useState(!1),N=d.exports.useRef(!1),L=d.exports.useRef(null),A=d.exports.useRef(),R=S==null?void 0:S[Bi],ue=d.exports.useCallback(de=>{var Le;if(!y.current)return;const wt=y.current,nn=Object.keys(de),it=Object.keys(o||[]),St=nn.concat(Object.keys(g.current).filter(V=>!nn.includes(V))).filter(V=>g.current[V]!==de[V]).map(V=>[V,g.current[V],de[V]]),$=[];for(const[V,ce,he]of St)if(s!=null&&s.includes(V))$.push(V);else if(ea(it,V)){const rn=o==null?void 0:o[V],st=wt[rn];st instanceof Cesium.Event&&(typeof ce>"u"?(st.addEventListener(he),P.current[rn]=he):typeof he>"u"?(st.removeEventListener(ce),delete P.current[rn]):(st.removeEventListener(ce),st.addEventListener(he)))}else V!=="children"&&!Od.includes(V)&&!(a!=null&&a.includes(V))&&(wt[V]=he);const W=c?(Le=C.current)==null?void 0:Le[Bi]:R;u&&W&&y.current&&W.setEvents(c?null:y.current,de),i&&N.current&&i(y.current,de,g.current,S),g.current=de,_.current=de,N.current&&$.length>0&&(rt(),J())},[]),J=d.exports.useCallback(()=>{var de;const Le=e==null?void 0:e(S,_.current,L.current);if(Array.isArray(Le)?(y.current=Le[0],A.current=Le[1]):y.current=Le,l)ue(_.current);else{if(y.current&&o){const nn=y.current;for(const it of Object.keys(_.current)){const St=o[it];if(St){const $=_.current[it],W=nn[St];$&&W instanceof Cesium.Event&&W.addEventListener($)}}}g.current=_.current}r&&y.current&&(C.current={...S,...r(y.current,S,h,A.current)});const wt=c?(de=C.current)==null?void 0:de[Bi]:R;u&&wt&&y.current&&wt.setEvents(c?null:y.current,_.current)},[]),rt=d.exports.useCallback(()=>{var de,Le;y.current&&n&&n(y.current,S,L.current,A.current);const wt=c?(de=C.current)==null?void 0:de[Bi]:R;if(u&&wt&&y.current&&wt.clearEvents(c?null:y.current),y.current&&!NV(y.current)){const nn=Object.keys(P.current);for(const it of nn){const St=y.current[it];(Le=St==null?void 0:St.removeEventListener)==null||Le.call(St,P.current[it])}}P.current={},C.current=void 0,A.current=void 0,y.current=void 0,T(!1),N.current=!1},[]);return d.exports.useLayoutEffect(()=>(J(),()=>rt()),[]),d.exports.useEffect(()=>{var de,Le;w?IV(h,g.current)||(ue(h),(Le=(de=S.__$internal)==null?void 0:de.onUpdate)==null||Le.call(de)):(g.current=h,_.current=h,T(!0),N.current=!0)},[S.__$internal,w,h,ue]),d.exports.useImperativeHandle(m,()=>({cesiumElement:y.current})),[C.current,w,L]},U=({renderContainer:t,noChildren:e,containerProps:n,defaultProps:r,...i})=>{const s=(o,a)=>{const l={...r,...o},[u,c,h]=LV(i,l,a);if(e)return null;const m=c&&"children"in l?l.children:null,y=t?v("div",{"data-testid":"resium-container",ref:h,...typeof n=="function"?n(l):DV(l,n),children:m}):m?v(CV,{children:m}):null;return u?Nw.createElement(dE.Provider,{value:u},y):y};return s.displayName=i.name,d.exports.forwardRef(s)},AV=["enabled","selected"],tn=t=>U({name:t.name,create(e,n){if(!e.scene)return;const r=t.create(n,e.scene.postProcessStages);return typeof n.enabled=="boolean"&&(r.enabled=n.enabled),n.selected&&"selected"in r&&(r.selected=n.selected),t.props.forEach(i=>{!ea(t.readonlyProps,i)&&typeof n[i]<"u"&&(r.uniforms[i]=n[i])}),!t.noMount&&e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.add(r),r},destroy(e,n){t.noMount?e.enabled=!1:(n.scene&&!n.scene.isDestroyed()&&n.scene.postProcessStages.remove(e),e.isDestroyed()||e.destroy())},update(e,n,r){t.props.forEach(i=>{!ea(t.readonlyProps,i)&&n[i]!==r[i]&&(e.uniforms[i]=n[i])})},cesiumProps:AV,cesiumReadonlyProps:t.readonlyProps,defaultProps:{enabled:!0}}),bV=["alignedAxis","color","disableDepthTestDistance","distanceDisplayCondition","eyeOffset","height","heightReference","horizontalOrigin","image","pixelOffset","pixelOffsetScaleByDistance","position","rotation","scale","scaleByDistance","show","sizeInMeters","translucencyByDistance","verticalOrigin","width"];U({name:"Billboard",create(t,e){var n;return(n=t.billboardCollection)==null?void 0:n.add(e)},destroy(t,e){e.billboardCollection&&!e.billboardCollection.isDestroyed()&&e.billboardCollection.remove(t)},cesiumProps:bV,useCommonEvent:!0});const PV=["blendOption","debugShowBoundingVolume","debugShowTextureAtlas","modelMatrix","show"];U({name:"BillboardCollection",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.BillboardCollection({modelMatrix:e.modelMatrix,debugShowBoundingVolume:e.debugShowBoundingVolume,scene:t.scene,blendOption:e.blendOption});return t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide(t){return{billboardCollection:t}},cesiumProps:PV});const $V=["image","show","scale","horizontalOrigin","verticalOrigin","eyeOffset","pixelOffset","rotation","alignedAxis","width","height","color","scaleByDistance","translucencyByDistance","pixelOffsetScaleByDistance","imageSubRegion","sizeInMeters","heightReference","distanceDisplayCondition","disableDepthTestDistance"],FV={onDefinitionChange:"definitionChanged"},RV=U({name:"BillboardGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.BillboardGraphics(e);return t.entity.billboard=n,n},destroy(t,e){e.entity&&(e.entity.billboard=void 0)},cesiumProps:$V,cesiumEventProps:FV}),K=RV,MV=["heightReference","dimensions","show","fill","material","outline","outlineColor","outlineWidth","shadows","distanceDisplayCondition"],OV={onDefinitionChange:"definitionChanged"};U({name:"BoxGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.BoxGraphics(e);return t.entity.box=n,n},destroy(t,e){e.entity&&(e.entity.box=void 0)},cesiumProps:MV,cesiumEventProps:OV});const VV=["position","direction","up","right","frustum","defaultMoveAmount","defaultLookAmount","defaultRotateAmount","defaultZoomAmount","constrainedAxis","maximumZoomFactor","percentageChanged"],BV={onChange:"changed",onMoveEnd:"moveEnd",onMoveStart:"moveStart"};U({name:"Camera",create:t=>{var e;return(e=t.scene)==null?void 0:e.camera},cesiumProps:VV,cesiumEventProps:BV,setCesiumPropsAfterCreate:!0});const UV=["show","modelMatrix","shadows","maximumScreenSpaceError","maximumMemoryUsage","cullRequestsWhileMoving","cullRequestsWhileMovingMultiplier","preloadWhenHidden","preloadFlightDestinations","preferLeaves","progressiveResolutionHeightFraction","foveatedScreenSpaceError","foveatedConeSize","foveatedMinimumScreenSpaceErrorRelaxation","foveatedInterpolationCallback","foveatedTimeDelay","dynamicScreenSpaceError","dynamicScreenSpaceErrorDensity","dynamicScreenSpaceErrorFactor","dynamicScreenSpaceErrorHeightFalloff","skipLevelOfDetail","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","clippingPlanes","classificationType","ellipsoid","lightColor","colorBlendAmount","colorBlendMode","debugFreezeFrame","debugColorizeTiles","debugWireframe","debugShowBoundingVolume","debugShowContentBoundingVolume","debugShowViewerRequestVolume","debugShowGeometricError","debugShowRenderingStatistics","debugShowMemoryUsage","debugShowUrl","style","backFaceCulling","vectorClassificationOnly","vectorKeepDecodedPositions","splitDirection","customShader","imageBasedLighting","showCreditsOnScreen","featureIdLabel","instanceFeatureIdLabel","imageBasedLighting","outlineColor"],zV=["url","showOutline","cullWithChildrenBounds","debugHeatmapTilePropertyName","enableDebugWireframe","modelUpAxis","modelForwardAxis","projectTo2D","enableShowOutline"],jV={onAllTilesLoad:"allTilesLoaded",onInitialTilesLoad:"initialTilesLoaded",onLoadProgress:"loadProgress",onTileFailed:"tileFailed",onTileLoad:"tileLoad",onTileUnload:"tileUnload",onTileVisible:"tileVisible"},qV=["onReady"];U({name:"Cesium3DTileset",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.Cesium3DTileset(e);return e.colorBlendAmount&&(n.colorBlendAmount=e.colorBlendAmount),e.colorBlendMode&&(n.colorBlendMode=e.colorBlendMode),e.style&&(n.style=e.style),e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:UV,cesiumReadonlyProps:zV,cesiumEventProps:jV,otherProps:qV,useCommonEvent:!0});const GV=["show","uri","maximumScreenSpaceError"],KV={onDefinitionChange:"definitionChanged"};U({name:"Cesium3DTilesetGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.Cesium3DTilesetGraphics(e);return t.entity.tileset=n,n},destroy(t,e){e.entity&&(e.entity.tileset=void 0)},cesiumProps:GV,cesiumEventProps:KV});const HV=["resolutionScale","useDefaultRenderLoop","targetFrameRate","useBrowserRecommendedResolution"],WV=["clock","imageryProvider","terrainProvider","skyBox","skyAtmosphere","sceneMode","scene3DOnly","orderIndependentTranslucency","mapMode2D","mapProjection","globe","showRenderLoopErrors","contextOptions","creditContainer","creditViewport","shadows","terrainShadows","requestRenderMode","maximumRenderTimeChange","msaaSamples","blurActiveElementOnCanvasFocus"],QV=["className","id","style","full","containerProps"];U({name:"CesiumWidget",create(t,e,n){if(!n)return;const r=new Cesium.CesiumWidget(n,e);if(!r)return;typeof e.resolutionScale=="number"&&(r.resolutionScale=e.resolutionScale);const i=new sm(r.scene);return[r,i]},destroy(t,e,n,r){r&&!r.isDestroyed()&&r.destroy(),t.isDestroyed()||t.destroy()},provide(t,e,n,r){return{cesiumWidget:t,scene:t.scene,camera:t.scene.camera,imageryLayerCollection:t.scene.globe.imageryLayers,primitiveCollection:t.scene.primitives,globe:t.scene.globe,__$internal:{onUpdate:n==null?void 0:n.onUpdate},[Bi]:r}},containerProps:({id:t,className:e,style:n,full:r,containerProps:i})=>({className:e,id:t,style:{...r?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},...n},...i}),cesiumProps:HV,cesiumReadonlyProps:WV,otherProps:QV,renderContainer:!0,useCommonEvent:!0,useRootEvent:!0});const YV=["classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],XV=["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize","appearance"],JV=["onReady"];U({name:"ClassificationPrimitive",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.ClassificationPrimitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:YV,cesiumReadonlyProps:XV,otherProps:JV,useCommonEvent:!0});const ZV={onStop:"onStop",onTick:"onTick"},eB=["canAnimate","clockRange","clockStep","currentTime","multiplier","shouldAnimate","startTime","stopTime"];U({name:"Clock",create:t=>{var e;return(e=t.cesiumWidget)==null?void 0:e.clock},cesiumProps:eB,cesiumEventProps:ZV,setCesiumPropsAfterCreate:!0});const tB=["noiseDetail","noiseOffset","show","debugBillboards","debugEllipsoids"];U({name:"CloudCollection",create:t=>{if(!t.primitiveCollection)return;const e=new Cesium.CloudCollection;return t.primitiveCollection.add(e),e},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide:t=>({cloudCollection:t}),cesiumProps:tB,setCesiumPropsAfterCreate:!0});const nB=["positions","width","cornerType","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition","zIndex","classificationType"],rB={onDefinitionChange:"definitionChanged"};U({name:"CorridorGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.CorridorGraphics(e);return e.classificationType&&(n.classificationType=e.classificationType),t.entity.corridor=n,n},destroy(t,e){e.entity&&(e.entity.corridor=void 0)},cesiumProps:nB,cesiumEventProps:rB});const iB=["show","position","scale","maximumSize","slice","brightness","color"];U({name:"CumulusCloud",create:(t,e)=>{var n;return(n=t.cloudCollection)==null?void 0:n.add(e)},destroy(t,e){e.cloudCollection&&!e.cloudCollection.isDestroyed()&&e.cloudCollection.remove(t)},cesiumProps:iB});const sB=["clustering","name","show","clock","isLoading"],oB={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"};U({name:"CustomDataSource",create(t,e){if(!t.dataSourceCollection)return;const n=new Cesium.CustomDataSource(e.name);return e.clustering&&(n.clustering=e.clustering),typeof e.show=="boolean"&&(n.show=e.show),typeof e.clock<"u"&&(n.clock=e.clock),t.dataSourceCollection.add(n),n},destroy(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide(t){return{entityCollection:t.entities,dataSource:t}},cesiumProps:sB,cesiumEventProps:oB,useCommonEvent:!0});const aB=["heightReference","length","topRadius","bottomRadius","show","fill","material","outline","outlineColor","outlineWidth","numberOfVerticalLines","slices","distanceDisplayCondition","shadows"],lB={onDefinitionChange:"definitionChanged"};U({name:"CylinderGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.CylinderGraphics(e);return t.entity.cylinder=n,n},destroy(t,e){e.entity&&(e.entity.cylinder=void 0)},cesiumProps:aB,cesiumEventProps:lB});const uB=["clustering","show"],cB=["name","sourceUri","credit"],hB={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},dB=["onLoad","data"],vw=(t,{data:e,onLoad:n,...r})=>{!e||t.load(e,r).then(i=>{n&&n(i)})};U({name:"CzmlDataSource",create(t,e){if(!t.dataSourceCollection)return;const n=new Cesium.CzmlDataSource(e.name);return e.clustering&&(n.clustering=e.clustering),typeof e.show=="boolean"&&(n.show=e.show),t.dataSourceCollection.add(n),e.data&&vw(n,e),n},update(t,e,n){e.data?n.show!==e.show&&(t.show=typeof e.show=="boolean"?e.show:!0):t.show=!1,e.data&&(n.data!==e.data||n.sourceUri!==e.sourceUri||n.credit!==e.credit)&&vw(t,e)},destroy(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide(t){return{dataSource:t}},cesiumProps:uB,cesiumReadonlyProps:cB,cesiumEventProps:hB,otherProps:dB,useCommonEvent:!0});const fB=["semiMajorAxis","semiMinorAxis","height","heightReference","extrudedHeight","show","fill","material","outline","outlineColor","outlineWidth","numberOfVerticalLines","rotation","stRotation","granularity","shadows","distanceDisplayCondition","zIndex","classificationType","extrudedHeightReference"],pB={onDefinitionChange:"definitionChanged"};U({name:"EllipseGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.EllipseGraphics(e);return t.entity.ellipse=n,n},destroy(t,e){e.entity&&(e.entity.ellipse=void 0)},cesiumProps:fB,cesiumEventProps:pB});const mB=["heightReference","radii","show","fill","innerRadii","material","maximumClock","maximumCone","minimumClock","minimumCone","outline","outlineColor","outlineWidth","subdivisions","stackPartitions","slicePartitions","shadows","distanceDisplayCondition"],gB={onDefinitionChange:"definitionChanged"};U({name:"EllipsoidGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.EllipsoidGraphics(e);return t.entity.ellipsoid=n,n},destroy(t,e){e.entity&&(e.entity.ellipsoid=void 0)},cesiumProps:mB,cesiumEventProps:gB});const yB=["availability","billboard","box","corridor","cylinder","description","ellipse","ellipsoid","entityCollection","label","model","name","orientation","path","plane","parent","point","polygon","polyline","polylineVolume","position","properties","rectangle","show","tileset","viewFrom","wall"],vB=["id"],_B={onDefinitionChange:"definitionChanged"},wB=["selected","tracked"],SB=U({name:"Entity",create(t,e){if(!t.entityCollection)return;const n=new Cesium.Entity(e);return t.viewer&&e.selected&&(t.viewer.selectedEntity=n),t.viewer&&e.tracked&&(t.viewer.trackedEntity=n),t.entityCollection.add(n),n},destroy(t,e){e.entityCollection&&e.entityCollection.remove(t)},update(t,e,n,r){r.viewer&&(e.selected!==n.selected&&(e.selected?r.viewer.selectedEntity=t:r.viewer.selectedEntity===t&&(r.viewer.selectedEntity=void 0)),e.tracked!==n.tracked&&(e.tracked?r.viewer.trackedEntity=t:r.viewer.trackedEntity===t&&(r.viewer.trackedEntity=void 0)))},provide(t){return{entity:t}},cesiumProps:yB,cesiumReadonlyProps:vB,cesiumEventProps:_B,otherProps:wB,useCommonEvent:!0}),q=SB,xB=({children:t,container:e,resizeInfoBox:n=!0})=>{const{viewer:r,entity:i}=fE(),[s,o]=d.exports.useState(!1),a=d.exports.useMemo(()=>{var l;return e!=null?e:(l=r==null?void 0:r.infoBox.frame.contentDocument)==null?void 0:l.createElement("div")},[e,r==null?void 0:r.infoBox.frame.contentDocument]);return d.exports.useEffect(()=>{if(!r||!i)return;const l=u=>{o(!!u&&u.id===i.id)};return r.selectedEntityChanged.addEventListener(l),()=>{r.selectedEntityChanged.removeEventListener(l)}},[i,r]),d.exports.useEffect(()=>{var l,u;if(e||!a||!r)return;const c=(l=r.infoBox)==null?void 0:l.frame,h=(u=c==null?void 0:c.contentDocument)==null?void 0:u.querySelector(".cesium-infoBox-description");if(!c||!h)return;let m;if(s){if(n){const y=h.getBoundingClientRect().height;c.style.height=y+"px",m=window.setTimeout(()=>{var S;h.appendChild(a),(S=r.infoBox.container.querySelector(".cesium-infoBox.cesium-infoBox-bodyless"))==null||S.classList.remove("cesium-infoBox-bodyless"),c.style.height=h.getBoundingClientRect().height+"px"},10)}}else a.parentElement===h&&h.removeChild(a);return m?()=>clearTimeout(m):void 0},[a,e,n,s,r]),a?jd.exports.createPortal(!e||s?t:null,a):null},G=xB,CB=["density","enabled","minimumBrightness","screenSpaceErrorFactor","renderable"];U({name:"Fog",create(t){if(!t.scene)return;const e=new Cesium.Fog;return t.scene.fog=e,e},destroy(t,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.fog=new Cesium.Fog)},cesiumProps:CB,setCesiumPropsAfterCreate:!0});const EB=["clustering","name","show"],TB=["clampToGround","sourceUri","credit","markerSize","markerSymbol","markerColor","stroke","strokeWidth","fill","describe"],DB={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},IB=["onLoad","data"],_w=(t,{data:e,onLoad:n,...r})=>{!e||t.load(e,r).then(i=>{n&&n(i)})};U({name:"GeoJsonDataSource",create(t,e){if(!t.dataSourceCollection)return;const n=new Cesium.GeoJsonDataSource(e.name);return e.clustering&&(n.clustering=e.clustering),typeof e.show=="boolean"&&(n.show=e.show),t.dataSourceCollection.add(n),e.data&&_w(n,e),n},update(t,e,n){e.data?n.show!==e.show&&(t.show=typeof e.show=="boolean"?e.show:!0):t.show=!1,e.data&&(n.data!==e.data||n.clampToGround!==e.clampToGround||n.sourceUri!==e.sourceUri||n.credit!==e.credit||n.markerSize!==e.markerSize||n.markerSymbol!==e.markerSymbol||n.markerColor!==e.markerColor||n.stroke!==e.stroke||n.strokeWidth!==e.strokeWidth||n.fill!==e.fill)&&_w(t,e)},destroy(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide(t){return{dataSource:t}},cesiumProps:EB,cesiumReadonlyProps:TB,cesiumEventProps:DB,otherProps:IB,useCommonEvent:!0});const kB={onImageryLayersUpdate:"imageryLayersUpdatedEvent",onTerrainProviderChange:"terrainProviderChanged",onTileLoadProgress:"tileLoadProgressEvent"},NB=["atmosphereBrightnessShift","atmosphereHueShift","atmosphereSaturationShift","backFaceCulling","baseColor","clippingPlanes","depthTestAgainstTerrain","enableLighting","lightingFadeInDistance","lightingFadeOutDistance","material","maximumScreenSpaceError","nightFadeInDistance","nightFadeOutDistance","oceanNormalMapUrl","shadows","show","showGroundAtmosphere","showWaterEffect","terrainProvider","tileCacheSize","loadingDescendantLimit","preloadAncestors","preloadSiblings","fillHighlightColor","dynamicAtmosphereLighting","dynamicAtmosphereLightingFromSun","showSkirts","cartographicLimitRectangle","translucency","undergroundColor","undergroundColorAlphaByDistance","terrainExaggeration","terrainExaggerationRelativeHeight","lambertDiffuseMultiplier","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereMieCoefficient","atmosphereRayleighScaleHeight","atmosphereMieScaleHeight","atmosphereMieAnisotropy"];U({name:"Globe",create:t=>{var e;return(e=t.scene)==null?void 0:e.globe},cesiumProps:NB,cesiumEventProps:kB,setCesiumPropsAfterCreate:!0});const LB=["appearance","classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],AB=["allowPicking","asynchronous","geometryInstances","interleave","releaseGeometryInstances"],bB=["onReady"];U({name:"GroundPolylinePrimitive",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.GroundPolylinePrimitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:LB,cesiumReadonlyProps:AB,otherProps:bB,useCommonEvent:!0});const PB=["appearance","classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],$B=["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"],FB=["onReady"];U({name:"GroundPrimitive",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.GroundPrimitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:PB,cesiumReadonlyProps:$B,otherProps:FB,useCommonEvent:!0});const RB=["show","destroyPrimitives"];U({name:"GroundPrimitiveCollection",create:t=>{var e;return(e=t.scene)==null?void 0:e.groundPrimitives},provide:t=>({primitiveCollection:t}),cesiumProps:RB,setCesiumPropsAfterCreate:!0});const MB=["alpha","brightness","contrast","hue","saturation","gamma","splitDirection","minificationFilter","magnificationFilter","cutoutRectangle","show","nightAlpha","dayAlpha","colorToAlpha","colorToAlphaThreshold"],OB=["imageryProvider","rectangle","maximumAnisotropy","minimumTerrainLevel","maximumTerrainLevel"];U({name:"ImageryLayer",create(t,e){if(!t.imageryLayerCollection)return;const n=new Cesium.ImageryLayer(e.imageryProvider,e);return t.imageryLayerCollection.add(n),n},destroy(t,e){e.imageryLayerCollection&&e.imageryLayerCollection.remove(t)},cesiumProps:MB,cesiumReadonlyProps:OB});const VB={onLayerAdd:"layerAdded",onLayerMove:"layerMoved",onLayerRemove:"layerRemoved",onLayerShowOrHide:"layerShownOrHidden"};U({name:"ImageryLayerCollection",create:t=>{var e;return(e=t.globe)==null?void 0:e.imageryLayers},cesiumEventProps:VB});const BB=["clustering","name","show"],UB=["canvas","camera","ellipsoid","clampToGround","sourceUri","credit","screenOverlayContainer"],zB={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent",onRefresh:"refreshEvent",onUnsupportedNode:"unsupportedNodeEvent"},jB=["onLoad","data"],ww=(t,{data:e,onLoad:n,...r})=>{!e||t.load(e,r).then(i=>{n&&n(i)})};U({name:"KmlDataSource",create(t,e){if(!t.scene||!t.dataSourceCollection||!t.scene)return;const n=new Cesium.KmlDataSource({camera:e.camera||t.scene.camera,canvas:e.canvas||t.scene.canvas,ellipsoid:e.ellipsoid,credit:e.credit});return e.clustering&&(n.clustering=e.clustering),typeof e.show=="boolean"&&(n.show=e.show),typeof e.name<"u"&&(n.name=e.name),t.dataSourceCollection.add(n),e.data&&ww(n,e),n},update(t,e,n){e.data?n.show!==e.show&&(t.show=typeof e.show=="boolean"?e.show:!0):t.show=!1,e.data&&(n.data!==e.data||n.clampToGround!==e.clampToGround||n.ellipsoid!==e.ellipsoid||n.sourceUri!==e.sourceUri||n.credit!==e.credit)&&ww(t,e)},destroy(t,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(t)},provide(t){return{dataSource:t}},cesiumProps:BB,cesiumReadonlyProps:UB,cesiumEventProps:zB,otherProps:jB,useCommonEvent:!0});const qB=["backgroundColor","backgroundPadding","disableDepthTestDistance","distanceDisplayCondition","eyeOffset","fillColor","font","heightReference","horizontalOrigin","outlineColor","outlineWidth","pixelOffset","pixelOffsetScaleByDistance","position","scale","scaleByDistance","show","showBackground","style","text","translucencyByDistance","verticalOrigin"];U({name:"Label",create:(t,e)=>{var n;return(n=t.labelCollection)==null?void 0:n.add(e)},destroy(t,e){e.labelCollection&&!e.labelCollection.isDestroyed()&&e.labelCollection.remove(t)},cesiumProps:qB,useCommonEvent:!0});const GB=["blendOption","debugShowBoundingVolume","modelMatrix","show"];U({name:"LabelCollection",create(t,e){if(!t.scene||!t.primitiveCollection)return;const n=new Cesium.LabelCollection({scene:t.scene,modelMatrix:e.modelMatrix,blendOption:e.blendOption,debugShowBoundingVolume:e.debugShowBoundingVolume});return t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide(t){return{labelCollection:t}},cesiumProps:GB});const KB=["text","font","style","fillColor","outlineColor","outlineWidth","show","showBackground","backgroundColor","backgroundPadding","scale","horizontalOrigin","verticalOrigin","eyeOffset","pixelOffset","translucencyByDistance","pixelOffsetScaleByDistance","scaleByDistance","heightReference","distanceDisplayCondition","disableDepthTestDistance"],HB={onDefinitionChange:"definitionChanged"};U({name:"LabelGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.LabelGraphics(e);return t.entity.label=n,n},destroy(t,e){e.entity&&(e.entity.label=void 0)},cesiumProps:KB,cesiumEventProps:HB});const WB=["backFaceCulling","clampAnimations","clippingPlanes","color","colorBlendAmount","colorBlendMode","customShader","debugShowBoundingVolume","debugWireframe","distanceDisplayCondition","featureIdLabel","heightReference","id","imageBasedLighting","instanceFeatureIdLabel","lightColor","maximumScale","minimumPixelSize","modelMatrix","outlineColor","scale","shadows","show","showCreditsOnScreen","showOutline","silhouetteColor","silhouetteSize","splitDirection","style"],QB=["allowPicking","asynchronous","basePath","credit","enableDebugWireframe","gltf","heightReference","incrementallyLoadTextures","scene","url","releaseGltfJson","cull","opaquePass","upAxis","forwardAxis","content","scene","enableShowOutline","projectTo2D","classificationType"],YB=["onReady"];U({name:"Model",create(t,{scene:e,url:n,colorBlendMode:r,...i}){if(!t.scene||!t.primitiveCollection||!n)return;const s=Cesium.Model.fromGltf({...i,url:n,colorBlendMode:r,scene:e||t.scene});return i.onReady&&s.readyPromise.then(i.onReady),t.primitiveCollection.add(s),s},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:WB,cesiumReadonlyProps:QB,otherProps:YB,useCommonEvent:!0});const XB=["uri","show","scale","minimumPixelSize","maximumScale","incrementallyLoadTextures","runAnimations","clampAnimations","nodeTransformations","shadows","heightReference","distanceDisplayCondition","silhouetteColor","silhouetteSize","color","colorBlendMode","colorBlendAmount","clippingPlanes","imageBasedLightingFactor","lightColor","articulations","customShader"],JB={onDefinitionChange:"definitionChanged"};U({name:"ModelGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.ModelGraphics(e);return t.entity.model=n,n},destroy(t,e){e.entity&&(e.entity.model=void 0)},cesiumProps:XB,cesiumEventProps:JB});const ZB=["onlySunLighting","show","textureUrl"],e4=["ellipsoid"];U({name:"Moon",create(t,e){if(!t.scene)return;const n=new Cesium.Moon(e);return t.scene.moon=n,n},destroy(t,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.moon=new Cesium.Moon)},cesiumProps:ZB,cesiumReadonlyProps:e4});const t4=["show","emitter","modelMatrix","emitterModelMatrix","emissionRate","bursts","loop","startScale","endScale","startColor","endColor","image","imageSize","minimumImageSize","maximumImageSize","speed","minimumSpeed","maximumSpeed","lifetime","particleLife","minimumParticleLife","maximumParticleLife","mass","minimumMass","maximumMass","sizeInMeters"],n4={onComplete:"complete",onUpdate:"updateCallback"};U({name:"ParticleSystem",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.ParticleSystem({...e,updateCallback:e.onUpdate});return t.primitiveCollection.add(n),n},update(t,e,n){e.onUpdate!==n.onUpdate&&(t.updateCallback=e.onUpdate)},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t)},cesiumProps:t4,cesiumEventProps:n4});const r4=["leadTime","trailTime","show","width","material","resolution","distanceDisplayCondition"],i4={onDefinitionChange:"definitionChanged"};U({name:"PathGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.PathGraphics(e);return t.entity.path=n,n},destroy(t,e){e.entity&&(e.entity.path=void 0)},cesiumProps:r4,cesiumEventProps:i4});const s4=["plane","dimensions","show","fill","material","outline","outlineColor","outlineWidth","shadows","distanceDisplayCondition"],o4={onDefinitionChange:"definitionChanged"};U({name:"PlaneGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.PlaneGraphics(e);return t.entity.plane=n,n},destroy(t,e){e.entity&&(e.entity.plane=void 0)},cesiumProps:s4,cesiumEventProps:o4});const a4=["color","pixelSize","outlineColor","outlineWidth","show","scaleByDistance","translucencyByDistance","heightReference","distanceDisplayCondition","disableDepthTestDistance"],l4={onDefinitionChange:"definitionChanged"},u4=U({name:"PointGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.PointGraphics(e);return t.entity.point=n,n},destroy(t,e){e.entity&&(e.entity.point=void 0)},cesiumProps:a4,cesiumEventProps:l4}),c4=u4,h4=["color","disableDepthTestDistance","distanceDisplayCondition","id","outlineColor","outlineWidth","pixelSize","position","scaleByDistance","show","translucencyByDistance"];U({name:"PointPrimitive",create:(t,e)=>{var n;return(n=t.pointPrimitiveCollection)==null?void 0:n.add(e)},destroy(t,e){e.pointPrimitiveCollection&&!e.pointPrimitiveCollection.isDestroyed()&&e.pointPrimitiveCollection.remove(t)},cesiumProps:h4,useCommonEvent:!0});const d4=["blendOption","debugShowBoundingVolume","modelMatrix","show"];U({name:"PointPrimitveCollection",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.PointPrimitiveCollection(e);return t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide(t){return{pointPrimitiveCollection:t}},cesiumProps:d4});const f4=["arcType","hierarchy","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","stRotation","granularity","perPositionHeight","closeTop","closeBottom","shadows","distanceDisplayCondition","zIndex","classificationType","textureCoordinates"],p4={onDefinitionChange:"definitionChanged"};U({name:"PolygonGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.PolygonGraphics(e);return t.entity.polygon=n,n},destroy(t,e){e.entity&&(e.entity.polygon=void 0)},cesiumProps:f4,cesiumEventProps:p4});const m4=["distanceDisplayCondition","id","loop","material","positions","show","width"];U({name:"Polyline",create:(t,e)=>{var n;return(n=t.polylineCollection)==null?void 0:n.add(e)},destroy(t,e){e.polylineCollection&&!e.polylineCollection.isDestroyed()&&e.polylineCollection.remove(t)},cesiumProps:m4,useCommonEvent:!0});const g4=["debugShowBoundingVolume","length","modelMatrix","show"];U({name:"PolylineCollection",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.PolylineCollection({modelMatrix:e.modelMatrix,debugShowBoundingVolume:e.debugShowBoundingVolume,length:e.length,scene:t.scene});return t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},provide(t){return{polylineCollection:t}},cesiumProps:g4});const y4=["arcType","classificationType","positions","clampToGround","width","show","material","depthFailMaterial","granularity","shadows","distanceDisplayCondition","zIndex"],v4={onDefinitionChange:"definitionChanged"};U({name:"PolylineGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.PolylineGraphics(e);return t.entity.polyline=n,n},destroy(t,e){e.entity&&(e.entity.polyline=void 0)},cesiumProps:y4,cesiumEventProps:v4});const _4=["positions","shape","cornerType","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition"],w4={onDefinitionChange:"definitionChanged"};U({name:"PolylineVolumeGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.PolylineVolumeGraphics(e);return t.entity.polylineVolume=n,n},destroy(t,e){e.entity&&(e.entity.polylineVolume=void 0)},cesiumProps:_4,cesiumEventProps:w4});const S4=["enabled","selected"],x4=["clearColor","forcePowerOfTwo","fragmentShader","name","pixelDatatype","pixelFormat","sampleMode","scissorRectangle","textureScale","uniforms"];U({name:"PostProcessStage",create(t,e){if(!t.scene)return;const n=new Cesium.PostProcessStage(e);return typeof e.enabled=="boolean"&&(n.enabled=e.enabled),e.selected&&(n.selected=e.selected),t.scene.postProcessStages.add(n),n},destroy(t,e){e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:S4,cesiumReadonlyProps:x4});tn({name:"BlackAndWhiteStage",props:["gradations"],create:()=>Cesium.PostProcessStageLibrary.createBlackAndWhiteStage()});tn({name:"BrightnessStage",props:["brightness"],create:()=>Cesium.PostProcessStageLibrary.createBrightnessStage()});tn({name:"LensFlareStage",props:["dirtTexture","starTexture","intensity","distortion","ghostDispersal","haloWidth","earthRadius"],create:()=>Cesium.PostProcessStageLibrary.createLensFlareStage()});tn({name:"Fxaa",create:(t,e)=>e.fxaa,props:[]});tn({name:"NightVisionStage",props:[],create:()=>Cesium.PostProcessStageLibrary.createNightVisionStage()});const C4=["enabled","selected"],E4=["inputPreviousStageTexture","name","stages","uniforms"];U({name:"PostProcessStageComposite",create(t,e){if(!t.scene)return;const n=new Cesium.PostProcessStageComposite(e);return typeof e.enabled=="boolean"&&(n.enabled=e.enabled),e.selected&&(n.selected=e.selected),t.scene.postProcessStages.add(n),n},destroy(t,e){e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:C4,cesiumReadonlyProps:E4});tn({name:"AmbientOcclusion",create:(t,e)=>e.ambientOcclusion,props:["ambientOcclusionOnly","bias","delta","frustumLength","intensity","lengthCap","sigma","stepSize"],noMount:!0});tn({name:"Bloom",create:(t,e)=>e.bloom,props:["brightness","contrast","delta","glowOnly","sigma","stepSize"],noMount:!0});tn({name:"BlurStage",props:["delta","sigma","stepSize"],create:()=>Cesium.PostProcessStageLibrary.createBlurStage()});tn({name:"DepthOfFieldStage",props:["delta","focalDistance","sigma","stepSize"],create:()=>Cesium.PostProcessStageLibrary.createDepthOfFieldStage()});tn({name:"EdgeDetectionStage",props:["color","length"],create:()=>Cesium.PostProcessStageLibrary.createEdgeDetectionStage()});tn({name:"SilhouetteStage",props:["color","length"],create:()=>Cesium.PostProcessStageLibrary.createSilhouetteStage()});const T4=["appearance","cull","debugShowBoundingVolume","depthFailAppearance","modelMatrix","shadows","show"],D4=["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"],I4=["onReady"];U({name:"Primitive",create(t,e){if(!t.primitiveCollection)return;const n=new Cesium.Primitive(e);return e.onReady&&n.readyPromise.then(e.onReady),t.primitiveCollection.add(n),n},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:T4,cesiumReadonlyProps:D4,otherProps:I4,useCommonEvent:!0});const k4=["classificationType","coordinates","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","rotation","stRotation","granularity","shadows","distanceDisplayCondition","zIndex"],N4={onDefinitionChange:"definitionChanged"};U({name:"RectangleGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.RectangleGraphics(e);return t.entity.rectangle=n,n},destroy(t,e){e.entity&&(e.entity.rectangle=void 0)},cesiumProps:k4,cesiumEventProps:N4});const L4=["backgroundColor","completeMorphOnUserInput","debugCommandFilter","debugShowCommands","debugShowDepthFrustum","debugShowFramesPerSecond","debugShowFrustumPlanes","debugShowFrustums","eyeSeparation","farToNearRatio","focalLength","fog","gamma","globe","highDynamicRange","invertClassification","invertClassificationColor","light","logarithmicDepthBuffer","logarithmicDepthFarToNearRatio","maximumRenderTimeChange","minimumDisableDepthTestDistance","moon","morphTime","nearToFarDistance2D","pickTranslucentDepth","requestRenderMode","rethrowRenderErrors","shadowMap","skyAtmosphere","skyBox","specularEnvironmentMaps","sphericalHarmonicCoefficients","sun","sunBloom","terrainProvider","useDepthPicking","useWebVR","postProcessStages","msaaSamples","splitPosition","debugCommandFilter"],A4={onMorphComplete:"morphComplete",onMorphStart:"morphStart",onPostRender:"postRender",onPreRender:"preRender",onPreUpdate:"preUpdate",onPostUpdate:"postUpdate",onRenderError:"renderError",onTerrainProviderChange:"terrainProviderChanged"},b4=["mode","morphDuration"],Sw=(t,e,n)=>{switch(e){case Cesium.SceneMode.SCENE2D:t.morphTo2D(n);break;case Cesium.SceneMode.COLUMBUS_VIEW:t.morphToColumbusView(n);break;case Cesium.SceneMode.SCENE3D:t.morphTo3D(n);break}};U({name:"Scene",create(t,e){return t.scene&&e.mode&&Sw(t.scene,e.mode,e.morphDuration),t.scene},update(t,e,n){e.mode!==n.mode&&e.mode&&Sw(t,e.mode,e.morphDuration)},cesiumProps:L4,cesiumEventProps:A4,otherProps:b4,setCesiumPropsAfterCreate:!0});const P4=["bounceAnimationTime","enableCollisionDetection","enableInputs","enableLook","enableRotate","enableTilt","enableTranslate","enableZoom","inertiaSpin","inertiaTranslate","inertiaZoom","lookEventTypes","maximumMovementRatio","maximumZoomDistance","minimumCollisionTerrainHeight","minimumPickingTerrainHeight","minimumTrackBallHeight","minimumZoomDistance","rotateEventTypes","tiltEventTypes","translateEventTypes","zoomEventTypes"];U({name:"ScreenSpaceCameraController",create:t=>{var e;return(e=t.scene)==null?void 0:e.screenSpaceCameraController},cesiumProps:P4,setCesiumPropsAfterCreate:!0});U({name:"ScreenSpaceEventHandler",create(t,e){var n;return e.useDefault?(n=t.cesiumWidget)==null?void 0:n.screenSpaceEventHandler:t.scene?new Cesium.ScreenSpaceEventHandler(t.scene.canvas):void 0},destroy(t){t.isDestroyed()||t.destroy()},provide(t){return{screenSpaceEventHandler:t}}});const $4=["darkness","fadingEnabled","maximumDistance","enabled","normalOffset","softShadows","size"];U({name:"ShadowMap",create:t=>{var e;return(e=t.scene)==null?void 0:e.shadowMap},cesiumProps:$4});const F4=["brightnessShift","hueShift","saturationShift","show","perFragmentAtmosphere","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereMieCoefficient","atmosphereRayleighScaleHeight","atmosphereMieScaleHeight","atmosphereMieAnisotropy"];U({name:"SkyAtmosphere",create:t=>{var e;return(e=t.scene)==null?void 0:e.skyAtmosphere},cesiumProps:F4,setCesiumPropsAfterCreate:!0});const R4=["sources","show"];U({name:"SkyBox",create:t=>{var e;return(e=t.scene)==null?void 0:e.skyBox},cesiumProps:R4,setCesiumPropsAfterCreate:!0});const M4=["glowFactor","show"];U({name:"Sun",create(t){if(!t.scene)return;const e=new Cesium.Sun;return t.scene.sun=e,e},destroy(t,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.sun=new Cesium.Sun)},cesiumProps:M4,setCesiumPropsAfterCreate:!0});const O4=["clippingPlanes","maximumMemoryUsage","modelMatrix","shadows","show","style","intervals"],V4=["clock","shading"],B4=["onReady"],U4={onFrameChange:"frameChanged"};U({name:"TimeDynamicPointCloud",create(t,e){var i;var n;if(!t.cesiumWidget||!t.primitiveCollection||!((n=t.cesiumWidget)!=null&&n.clock))return;const r=new Cesium.TimeDynamicPointCloud({...e,clock:(i=e.clock)!=null?i:t.cesiumWidget.clock});return e.onReady&&r.readyPromise.then(e.onReady),t.primitiveCollection.add(r),r},destroy(t,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(t),t.isDestroyed()||t.destroy()},cesiumProps:O4,cesiumReadonlyProps:V4,cesiumEventProps:U4,otherProps:B4,useCommonEvent:!0});const z4=["terrainProvider","terrainShadows","clockTrackedDataSource","targetFrameRate","useDefaultRenderLoop","resolutionScale","allowDataSourcesToSuspendAnimation","trackedEntity","selectedEntity","shadows","useBrowserRecommendedResolution"],j4=["animation","baseLayerPicker","fullscreenButton","vrButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","navigationHelpButton","navigationInstructionsInitiallyVisible","scene3DOnly","shouldAnimate","clockViewModel","selectedImageryProviderViewModel","imageryProviderViewModels","selectedTerrainProviderViewModel","terrainProviderViewModels","imageryProvider","skyBox","skyAtmosphere","fullscreenElement","showRenderLoopErrors","automaticallyTrackDataSourceClocks","contextOptions","sceneMode","mapProjection","globe","orderIndependentTranslucency","creditContainer","creditViewport","dataSources","mapMode2D","projectionPicker","requestRenderMode","maximumRenderTimeChange","depthPlaneEllipsoidOffset","msaaSamples","blurActiveElementOnCanvasFocus"],q4={onSelectedEntityChange:"selectedEntityChanged",onTrackedEntityChange:"trackedEntityChanged"},G4=["className","id","style","full","containerProps","extend"],K4=U({name:"Viewer",create(t,{imageryProvider:e,...n},r){if(!r)return;const i=new Cesium.Viewer(r,{...n,imageryProvider:e===!1?void 0:e});if(!i)return;e===!1&&i.imageryLayers.removeAll(),i&&n.extend&&(Array.isArray(n.extend)?n.extend.forEach(o=>{i.extend(o,{})}):i.extend(n.extend,{}));const s=new sm(i.scene);return[i,s]},destroy(t,e,n,r){r&&!r.isDestroyed()&&r.destroy(),t.isDestroyed()||t.destroy()},provide(t,e,n,r){return{viewer:t,cesiumWidget:t.cesiumWidget,dataSourceCollection:t.dataSources,entityCollection:t.entities,scene:t.scene,camera:t.scene.camera,imageryLayerCollection:t.scene.globe.imageryLayers,primitiveCollection:t.scene.primitives,globe:t.scene.globe,__$internal:{onUpdate:n==null?void 0:n.onUpdate},[Bi]:r}},containerProps:({id:t,className:e,style:n,full:r,containerProps:i})=>({className:e,id:t,style:{...r?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},...n},...i}),cesiumProps:z4,cesiumReadonlyProps:j4,cesiumEventProps:q4,otherProps:G4,renderContainer:!0,useCommonEvent:!0,useRootEvent:!0}),H4=K4,W4=["positions","maximumHeights","minimumHeights","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition"],Q4={onDefinitionChange:"definitionChanged"};U({name:"WallGraphics",create(t,e){if(!t.entity)return;const n=new Cesium.WallGraphics(e);return t.entity.wall=n,n},destroy(t,e){e.entity&&(e.entity.wall=void 0)},cesiumProps:W4,cesiumEventProps:Q4});var H="/assets/disastericon.3b52ce71.png";function Y4(){const[t,e]=d.exports.useState("");d.exports.useState("");const[n,r]=d.exports.useState(""),[i,s]=d.exports.useState(""),[o,a]=d.exports.useState(0),[l,u]=d.exports.useState(-.001545),[c,h]=d.exports.useState(51.477928),[m,y]=d.exports.useState("");d.exports.useState("");const[S,C]=d.exports.useState(""),[P,_]=d.exports.useState(""),[g,w]=d.exports.useState(0),[T,N]=d.exports.useState(-.001545),[L,A]=d.exports.useState(51.477928),[R,ue]=d.exports.useState("");d.exports.useState("");const[J,rt]=d.exports.useState(""),[de,Le]=d.exports.useState(""),[wt,nn]=d.exports.useState(0),[it,St]=d.exports.useState(-.001545),[$,W]=d.exports.useState(51.477928),[V,ce]=d.exports.useState("");d.exports.useState("");const[he,rn]=d.exports.useState(""),[st,Ls]=d.exports.useState(""),[sn,wi]=d.exports.useState(0),[Ia,mE]=d.exports.useState(-.001545),[ka,gE]=d.exports.useState(51.477928),[om,yE]=d.exports.useState("");d.exports.useState("");const[vE,_E]=d.exports.useState(""),[wE,SE]=d.exports.useState(""),[xE,CE]=d.exports.useState(0),[am,EE]=d.exports.useState(-.001545),[lm,TE]=d.exports.useState(51.477928),[um,DE]=d.exports.useState("");d.exports.useState("");const[IE,kE]=d.exports.useState(""),[NE,LE]=d.exports.useState(""),[AE,bE]=d.exports.useState(0),[cm,PE]=d.exports.useState(-.001545),[hm,$E]=d.exports.useState(51.477928),[dm,FE]=d.exports.useState("");d.exports.useState("");const[RE,ME]=d.exports.useState(""),[OE,VE]=d.exports.useState(""),[BE,UE]=d.exports.useState(0),[fm,zE]=d.exports.useState(-.001545),[pm,jE]=d.exports.useState(51.477928),[mm,qE]=d.exports.useState("");d.exports.useState("");const[GE,KE]=d.exports.useState(""),[HE,WE]=d.exports.useState(""),[QE,YE]=d.exports.useState(0),[gm,XE]=d.exports.useState(-.001545),[ym,JE]=d.exports.useState(51.477928),[vm,ZE]=d.exports.useState("");d.exports.useState("");const[eT,tT]=d.exports.useState(""),[nT,rT]=d.exports.useState(""),[iT,sT]=d.exports.useState(0),[_m,oT]=d.exports.useState(-.001545),[wm,aT]=d.exports.useState(51.477928),[Sm,lT]=d.exports.useState("");d.exports.useState("");const[uT,cT]=d.exports.useState(""),[hT,dT]=d.exports.useState(""),[fT,pT]=d.exports.useState(0),[xm,mT]=d.exports.useState(-.001545),[Cm,gT]=d.exports.useState(51.477928),[Em,yT]=d.exports.useState("");d.exports.useState("");const[vT,_T]=d.exports.useState(""),[wT,ST]=d.exports.useState(""),[xT,CT]=d.exports.useState(0),[Tm,ET]=d.exports.useState(-.001545),[Dm,TT]=d.exports.useState(51.477928),[Im,DT]=d.exports.useState("");d.exports.useState("");const[IT,kT]=d.exports.useState(""),[NT,LT]=d.exports.useState(""),[AT,bT]=d.exports.useState(0),[km,PT]=d.exports.useState(-.001545),[Nm,$T]=d.exports.useState(51.477928),[Lm,FT]=d.exports.useState("");d.exports.useState("");const[RT,MT]=d.exports.useState(""),[OT,VT]=d.exports.useState(""),[BT,UT]=d.exports.useState(0),[Am,zT]=d.exports.useState(-.001545),[bm,jT]=d.exports.useState(51.477928),[Pm,qT]=d.exports.useState("");d.exports.useState("");const[GT,KT]=d.exports.useState(""),[HT,WT]=d.exports.useState(""),[QT,YT]=d.exports.useState(0),[$m,XT]=d.exports.useState(-.001545),[Fm,JT]=d.exports.useState(51.477928),[Rm,ZT]=d.exports.useState("");d.exports.useState("");const[eD,tD]=d.exports.useState(""),[nD,rD]=d.exports.useState(""),[iD,sD]=d.exports.useState(0),[Mm,oD]=d.exports.useState(-.001545),[Om,aD]=d.exports.useState(51.477928),[Vm,lD]=d.exports.useState("");d.exports.useState("");const[uD,cD]=d.exports.useState(""),[hD,dD]=d.exports.useState(""),[fD,pD]=d.exports.useState(0),[Bm,mD]=d.exports.useState(-.001545),[Um,gD]=d.exports.useState(51.477928),[zm,yD]=d.exports.useState("");d.exports.useState("");const[vD,_D]=d.exports.useState(""),[wD,SD]=d.exports.useState(""),[xD,CD]=d.exports.useState(0),[jm,ED]=d.exports.useState(-.001545),[qm,TD]=d.exports.useState(51.477928),[Gm,DD]=d.exports.useState("");d.exports.useState("");const[ID,kD]=d.exports.useState(""),[ND,LD]=d.exports.useState(""),[AD,bD]=d.exports.useState(0),[Km,PD]=d.exports.useState(-.001545),[Hm,$D]=d.exports.useState(51.477928),[Wm,FD]=d.exports.useState("");d.exports.useState("");const[RD,MD]=d.exports.useState(""),[OD,VD]=d.exports.useState(""),[BD,UD]=d.exports.useState(0),[Qm,zD]=d.exports.useState(-.001545),[Ym,jD]=d.exports.useState(51.477928),[Xm,qD]=d.exports.useState("");d.exports.useState("");const[GD,KD]=d.exports.useState(""),[HD,WD]=d.exports.useState(""),[QD,YD]=d.exports.useState(0),[Jm,XD]=d.exports.useState(-.001545),[Zm,JD]=d.exports.useState(51.477928),[eg,ZD]=d.exports.useState("");d.exports.useState("");const[eI,tI]=d.exports.useState(""),[nI,rI]=d.exports.useState(""),[iI,sI]=d.exports.useState(0),[tg,oI]=d.exports.useState(-.001545),[ng,aI]=d.exports.useState(51.477928),[rg,lI]=d.exports.useState("");d.exports.useState("");const[uI,cI]=d.exports.useState(""),[hI,dI]=d.exports.useState(""),[fI,pI]=d.exports.useState(0),[ig,mI]=d.exports.useState(-.001545),[sg,gI]=d.exports.useState(51.477928),[og,yI]=d.exports.useState("");d.exports.useState("");const[vI,_I]=d.exports.useState(""),[wI,SI]=d.exports.useState(""),[xI,CI]=d.exports.useState(0),[ag,EI]=d.exports.useState(-.001545),[lg,TI]=d.exports.useState(51.477928),[ug,DI]=d.exports.useState("");d.exports.useState("");const[II,kI]=d.exports.useState(""),[NI,LI]=d.exports.useState(""),[AI,bI]=d.exports.useState(0),[cg,PI]=d.exports.useState(-.001545),[hg,$I]=d.exports.useState(51.477928),[dg,FI]=d.exports.useState("");d.exports.useState("");const[RI,MI]=d.exports.useState(""),[OI,VI]=d.exports.useState(""),[BI,UI]=d.exports.useState(0),[fg,zI]=d.exports.useState(-.001545),[pg,jI]=d.exports.useState(51.477928),[mg,qI]=d.exports.useState("");d.exports.useState("");const[GI,KI]=d.exports.useState(""),[HI,WI]=d.exports.useState(""),[QI,YI]=d.exports.useState(0),[gg,XI]=d.exports.useState(-.001545),[yg,JI]=d.exports.useState(51.477928),[vg,ZI]=d.exports.useState("");d.exports.useState("");const[ek,tk]=d.exports.useState(""),[nk,rk]=d.exports.useState(""),[ik,sk]=d.exports.useState(0),[_g,ok]=d.exports.useState(-.001545),[wg,ak]=d.exports.useState(51.477928),[Sg,lk]=d.exports.useState("");d.exports.useState("");const[uk,ck]=d.exports.useState(""),[hk,dk]=d.exports.useState(""),[fk,pk]=d.exports.useState(0),[xg,mk]=d.exports.useState(-.001545),[Cg,gk]=d.exports.useState(51.477928),[Eg,yk]=d.exports.useState("");d.exports.useState("");const[vk,_k]=d.exports.useState(""),[wk,Sk]=d.exports.useState(""),[xk,Ck]=d.exports.useState(0),[Tg,Ek]=d.exports.useState(-.001545),[Dg,Tk]=d.exports.useState(51.477928),[Ig,Dk]=d.exports.useState("");d.exports.useState("");const[Ik,kk]=d.exports.useState(""),[Nk,Lk]=d.exports.useState(""),[Ak,bk]=d.exports.useState(0),[kg,Pk]=d.exports.useState(-.001545),[Ng,$k]=d.exports.useState(51.477928),[Lg,Fk]=d.exports.useState("");d.exports.useState("");const[Rk,Mk]=d.exports.useState(""),[Ok,Vk]=d.exports.useState(""),[Bk,Uk]=d.exports.useState(0),[Ag,zk]=d.exports.useState(-.001545),[bg,jk]=d.exports.useState(51.477928),[Pg,qk]=d.exports.useState("");d.exports.useState("");const[Gk,Kk]=d.exports.useState(""),[Hk,Wk]=d.exports.useState(""),[Qk,Yk]=d.exports.useState(0),[$g,Xk]=d.exports.useState(-.001545),[Fg,Jk]=d.exports.useState(51.477928),[Rg,Zk]=d.exports.useState("");d.exports.useState("");const[eN,tN]=d.exports.useState(""),[nN,rN]=d.exports.useState(""),[iN,sN]=d.exports.useState(0),[Mg,oN]=d.exports.useState(-.001545),[Og,aN]=d.exports.useState(51.477928),[Vg,lN]=d.exports.useState("");d.exports.useState("");const[uN,cN]=d.exports.useState(""),[hN,dN]=d.exports.useState(""),[fN,pN]=d.exports.useState(0),[Bg,mN]=d.exports.useState(-.001545),[Ug,gN]=d.exports.useState(51.477928),[zg,yN]=d.exports.useState("");d.exports.useState("");const[vN,_N]=d.exports.useState(""),[wN,SN]=d.exports.useState(""),[xN,CN]=d.exports.useState(0),[jg,EN]=d.exports.useState(-.001545),[qg,TN]=d.exports.useState(51.477928),[Gg,DN]=d.exports.useState("");d.exports.useState("");const[IN,kN]=d.exports.useState(""),[NN,LN]=d.exports.useState(""),[AN,bN]=d.exports.useState(0),[Kg,PN]=d.exports.useState(-.001545),[Hg,$N]=d.exports.useState(51.477928),[mc,FN]=d.exports.useState("");d.exports.useState("");const[RN,MN]=d.exports.useState(""),[ON,VN]=d.exports.useState(""),[BN,UN]=d.exports.useState(0),[Wg,zN]=d.exports.useState(-.001545),[Qg,jN]=d.exports.useState(51.477928),[gc,qN]=d.exports.useState("");d.exports.useState("");const[GN,KN]=d.exports.useState(""),[HN,WN]=d.exports.useState(""),[QN,YN]=d.exports.useState(0),[Yg,XN]=d.exports.useState(-.001545),[Xg,JN]=d.exports.useState(51.477928),[yc,ZN]=d.exports.useState("");d.exports.useState("");const[eL,tL]=d.exports.useState(""),[nL,rL]=d.exports.useState(""),[iL,sL]=d.exports.useState(0),[Jg,oL]=d.exports.useState(-.001545),[Zg,aL]=d.exports.useState(51.477928),[ey,lL]=d.exports.useState("");d.exports.useState("");const[uL,cL]=d.exports.useState(""),[hL,dL]=d.exports.useState(""),[fL,pL]=d.exports.useState(0),[ty,mL]=d.exports.useState(-.001545),[ny,gL]=d.exports.useState(51.477928),[ry,yL]=d.exports.useState("");d.exports.useState("");const[vL,_L]=d.exports.useState(""),[wL,SL]=d.exports.useState(""),[xL,CL]=d.exports.useState(0),[iy,EL]=d.exports.useState(-.001545),[sy,TL]=d.exports.useState(51.477928),[oy,DL]=d.exports.useState("");d.exports.useState("");const[IL,kL]=d.exports.useState(""),[NL,LL]=d.exports.useState(""),[AL,bL]=d.exports.useState(0),[ay,PL]=d.exports.useState(-.001545),[ly,$L]=d.exports.useState(51.477928),[uy,FL]=d.exports.useState("");d.exports.useState("");const[RL,ML]=d.exports.useState(""),[OL,VL]=d.exports.useState(""),[BL,UL]=d.exports.useState(0),[cy,zL]=d.exports.useState(-.001545),[hy,jL]=d.exports.useState(51.477928),[dy,qL]=d.exports.useState("");d.exports.useState("");const[GL,KL]=d.exports.useState(""),[HL,WL]=d.exports.useState(""),[QL,YL]=d.exports.useState(0),[fy,XL]=d.exports.useState(-.001545),[py,JL]=d.exports.useState(51.477928),[my,ZL]=d.exports.useState("");d.exports.useState("");const[eA,tA]=d.exports.useState(""),[nA,rA]=d.exports.useState(""),[iA,sA]=d.exports.useState(0),[gy,oA]=d.exports.useState(-.001545),[yy,aA]=d.exports.useState(51.477928),[vy,lA]=d.exports.useState("");d.exports.useState("");const[uA,cA]=d.exports.useState(""),[hA,dA]=d.exports.useState(""),[fA,pA]=d.exports.useState(0),[_y,mA]=d.exports.useState(-.001545),[wy,gA]=d.exports.useState(51.477928),[yA,vA]=d.exports.useState("");d.exports.useState("");const[_A,wA]=d.exports.useState(""),[SA,xA]=d.exports.useState(""),[CA,EA]=d.exports.useState(0),[Sy,TA]=d.exports.useState(-.001545),[xy,DA]=d.exports.useState(51.477928),[IA,kA]=d.exports.useState("");d.exports.useState("");const[NA,LA]=d.exports.useState(""),[AA,bA]=d.exports.useState(""),[PA,$A]=d.exports.useState(0),[Cy,FA]=d.exports.useState(-.001545),[Ey,RA]=d.exports.useState(51.477928),[MA,OA]=d.exports.useState("");d.exports.useState("");const[VA,BA]=d.exports.useState(""),[UA,zA]=d.exports.useState(""),[jA,qA]=d.exports.useState(0),[Ty,GA]=d.exports.useState(-.001545),[Dy,KA]=d.exports.useState(51.477928),[Iy,HA]=d.exports.useState("");d.exports.useState("");const[WA,QA]=d.exports.useState(""),[YA,XA]=d.exports.useState(""),[JA,ZA]=d.exports.useState(0),[ky,eb]=d.exports.useState(-.001545),[Ny,tb]=d.exports.useState(51.477928),[Ly]=d.exports.useState(32.498914),[Ay]=d.exports.useState(37.87154);var nb={apiKey:"AIzaSyBgB_ygoRYktn85S5IAKD1VWktQzIqvLGg",databaseURL:"https://earthquake-dataset-default-rtdb.firebaseio.com",projectId:"earthquake-dataset"};Kl.initializeApp(nb);const rb=Kl.firestore().collection("Disasters");return console.log("Data Pulling!"),rb.get().then(ib=>{const p=ib.docs.map(by=>({id:by.id,...by.data()}));console.log(p),u(Number(p[0].Longitude)),h(Number(p[0].Latitude)),e(p[0].Title),r(p[0].Details),a(p[0].FarAwayTo),s(p[0].Type),N(Number(p[1].Longitude)),A(Number(p[1].Latitude)),y(p[1].Title),C(p[1].Details),w(p[1].FarAwayTo),_(p[1].Type),St(Number(p[2].Longitude)),W(Number(p[2].Latitude)),ue(p[2].Title),rt(p[2].Details),nn(p[2].FarAwayTo),Le(p[2].Type),mE(Number(p[3].Longitude)),gE(Number(p[3].Latitude)),ce(p[3].Title),rn(p[3].Details),wi(p[3].FarAwayTo),Ls(p[3].Type),EE(Number(p[4].Longitude)),TE(Number(p[4].Latitude)),yE(p[4].Title),_E(p[4].Details),CE(p[4].FarAwayTo),SE(p[4].Type),PE(Number(p[5].Longitude)),$E(Number(p[5].Latitude)),DE(p[5].Title),kE(p[5].Details),bE(p[5].FarAwayTo),LE(p[5].Type),zE(Number(p[6].Longitude)),jE(Number(p[6].Latitude)),FE(p[6].Title),ME(p[6].Details),UE(p[6].FarAwayTo),VE(p[6].Type),XE(Number(p[7].Longitude)),JE(Number(p[7].Latitude)),qE(p[7].Title),KE(p[7].Details),YE(p[7].FarAwayTo),WE(p[7].Type),oT(Number(p[8].Longitude)),aT(Number(p[8].Latitude)),ZE(p[8].Title),tT(p[8].Details),sT(p[8].FarAwayTo),rT(p[8].Type),mT(Number(p[9].Longitude)),gT(Number(p[9].Latitude)),lT(p[9].Title),cT(p[9].Details),pT(p[9].FarAwayTo),dT(p[9].Type),ET(Number(p[10].Longitude)),TT(Number(p[10].Latitude)),yT(p[10].Title),_T(p[10].Details),CT(p[10].FarAwayTo),ST(p[10].Type),PT(Number(p[11].Longitude)),$T(Number(p[11].Latitude)),DT(p[11].Title),kT(p[11].Details),bT(p[11].FarAwayTo),LT(p[11].Type),zT(Number(p[12].Longitude)),jT(Number(p[12].Latitude)),FT(p[12].Title),MT(p[12].Details),UT(p[12].FarAwayTo),VT(p[12].Type),XT(Number(p[13].Longitude)),JT(Number(p[13].Latitude)),qT(p[13].Title),KT(p[13].Details),YT(p[13].FarAwayTo),WT(p[13].Type),oD(Number(p[14].Longitude)),aD(Number(p[14].Latitude)),ZT(p[14].Title),tD(p[14].Details),sD(p[14].FarAwayTo),rD(p[14].Type),mD(Number(p[15].Longitude)),gD(Number(p[15].Latitude)),lD(p[15].Title),cD(p[15].Details),pD(p[15].FarAwayTo),dD(p[15].Type),ED(Number(p[16].Longitude)),TD(Number(p[16].Latitude)),yD(p[16].Title),_D(p[16].Details),CD(p[16].FarAwayTo),SD(p[16].Type),PD(Number(p[17].Longitude)),$D(Number(p[17].Latitude)),DD(p[17].Title),kD(p[17].Details),bD(p[17].FarAwayTo),LD(p[17].Type),zD(Number(p[18].Longitude)),jD(Number(p[18].Latitude)),FD(p[18].Title),MD(p[18].Details),UD(p[18].FarAwayTo),VD(p[18].Type),XD(Number(p[19].Longitude)),JD(Number(p[19].Latitude)),qD(p[19].Title),KD(p[19].Details),YD(p[19].FarAwayTo),WD(p[19].Type),oI(Number(p[20].Longitude)),aI(Number(p[20].Latitude)),ZD(p[20].Title),tI(p[20].Details),sI(p[20].FarAwayTo),rI(p[20].Type),mI(Number(p[21].Longitude)),gI(Number(p[21].Latitude)),lI(p[21].Title),cI(p[21].Details),pI(p[21].FarAwayTo),dI(p[21].Type),EI(Number(p[22].Longitude)),TI(Number(p[22].Latitude)),yI(p[22].Title),_I(p[22].Details),CI(p[22].FarAwayTo),SI(p[22].Type),PI(Number(p[23].Longitude)),$I(Number(p[23].Latitude)),DI(p[23].Title),kI(p[23].Details),bI(p[23].FarAwayTo),LI(p[23].Type),zI(Number(p[24].Longitude)),jI(Number(p[24].Latitude)),FI(p[24].Title),MI(p[24].Details),UI(p[24].FarAwayTo),VI(p[24].Type),XI(Number(p[25].Longitude)),JI(Number(p[25].Latitude)),qI(p[25].Title),KI(p[25].Details),YI(p[25].FarAwayTo),WI(p[25].Type),ok(Number(p[26].Longitude)),ak(Number(p[26].Latitude)),ZI(p[26].Title),tk(p[26].Details),sk(p[26].FarAwayTo),rk(p[26].Type),mk(Number(p[27].Longitude)),gk(Number(p[27].Latitude)),lk(p[27].Title),ck(p[27].Details),pk(p[27].FarAwayTo),dk(p[27].Type),Ek(Number(p[28].Longitude)),Tk(Number(p[28].Latitude)),yk(p[28].Title),_k(p[28].Details),Ck(p[28].FarAwayTo),Sk(p[28].Type),Pk(Number(p[29].Longitude)),$k(Number(p[29].Latitude)),Dk(p[29].Title),kk(p[29].Details),bk(p[29].FarAwayTo),Lk(p[29].Type),zk(Number(p[30].Longitude)),jk(Number(p[30].Latitude)),Fk(p[30].Title),Mk(p[30].Details),Uk(p[30].FarAwayTo),Vk(p[30].Type),Xk(Number(p[31].Longitude)),Jk(Number(p[31].Latitude)),qk(p[31].Title),Kk(p[31].Details),Yk(p[31].FarAwayTo),Wk(p[31].Type),oN(Number(p[32].Longitude)),aN(Number(p[32].Latitude)),Zk(p[32].Title),tN(p[32].Details),sN(p[32].FarAwayTo),rN(p[32].Type),mN(Number(p[33].Longitude)),gN(Number(p[33].Latitude)),lN(p[33].Title),cN(p[33].Details),pN(p[33].FarAwayTo),dN(p[33].Type),EN(Number(p[34].Longitude)),TN(Number(p[34].Latitude)),yN(p[34].Title),_N(p[34].Details),CN(p[34].FarAwayTo),SN(p[34].Type),PN(Number(p[35].Longitude)),$N(Number(p[35].Latitude)),DN(p[35].Title),kN(p[35].Details),bN(p[35].FarAwayTo),LN(p[35].Type),zN(Number(p[36].Longitude)),jN(Number(p[36].Latitude)),FN(p[36].Title),MN(p[36].Details),UN(p[36].FarAwayTo),VN(p[36].Type),XN(Number(p[37].Longitude)),JN(Number(p[37].Latitude)),qN(p[37].Title),KN(p[37].Details),YN(p[37].FarAwayTo),WN(p[37].Type),oL(Number(p[38].Longitude)),aL(Number(p[38].Latitude)),ZN(p[38].Title),tL(p[38].Details),sL(p[38].FarAwayTo),rL(p[38].Type),mL(Number(p[39].Longitude)),gL(Number(p[39].Latitude)),lL(p[39].Title),cL(p[39].Details),pL(p[39].FarAwayTo),dL(p[39].Type),EL(Number(p[40].Longitude)),TL(Number(p[40].Latitude)),yL(p[40].Title),_L(p[40].Details),CL(p[40].FarAwayTo),SL(p[40].Type),PL(Number(p[41].Longitude)),$L(Number(p[41].Latitude)),DL(p[41].Title),kL(p[41].Details),bL(p[41].FarAwayTo),LL(p[41].Type),zL(Number(p[42].Longitude)),jL(Number(p[42].Latitude)),FL(p[42].Title),ML(p[42].Details),UL(p[42].FarAwayTo),VL(p[42].Type),XL(Number(p[43].Longitude)),JL(Number(p[43].Latitude)),qL(p[43].Title),KL(p[43].Details),YL(p[43].FarAwayTo),WL(p[43].Type),oA(Number(p[44].Longitude)),aA(Number(p[44].Latitude)),ZL(p[44].Title),tA(p[44].Details),sA(p[44].FarAwayTo),rA(p[44].Type),mA(Number(p[45].Longitude)),gA(Number(p[45].Latitude)),lA(p[45].Title),cA(p[45].Details),pA(p[45].FarAwayTo),dA(p[45].Type),TA(Number(p[46].Longitude)),DA(Number(p[46].Latitude)),vA(p[46].Title),wA(p[46].Details),EA(p[46].FarAwayTo),xA(p[46].Type),FA(Number(p[47].Longitude)),RA(Number(p[47].Latitude)),kA(p[47].Title),LA(p[47].Details),$A(p[47].FarAwayTo),bA(p[47].Type),GA(Number(p[48].Longitude)),KA(Number(p[48].Latitude)),OA(p[48].Title),BA(p[48].Details),qA(p[48].FarAwayTo),zA(p[48].Type),eb(Number(p[49].Longitude)),tb(Number(p[49].Latitude)),HA(p[49].Title),QA(p[49].Details),ZA(p[49].FarAwayTo),XA(p[49].Type)}),f(H4,{full:!0,homeButton:!1,navigationHelpButton:!1,geocoder:!1,animation:!1,timeline:!1,children:[f(q,{name:"Your Location",position:Cesium.Cartesian3.fromDegrees(Ly,Ay,100),children:[v(c4,{pixelSize:20,color:Cesium.Color.GREEN,outlineColor:Cesium.Color.WHITE,outlineWidth:2}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            `}),v("h2",{children:"Your Location"}),v("p",{className:"seperator",children:"_______________________________________"}),v("h3",{className:"livetext",children:"Live Data"}),f("h3",{children:["Latitude: ",Ly]}),f("h3",{children:["Longitude: ",Ay]})]})]}),f(q,{name:t,position:Cesium.Cartesian3.fromDegrees(l,c,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:t}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",i," "]}),f("h3",{children:["Latitude: ",c]}),f("h3",{children:["Longitude: ",l]}),f("h3",{children:["Detail: ",n," "]}),f("h3",{children:["Far Away To: ",o," km"]})]})]}),f(q,{name:m,position:Cesium.Cartesian3.fromDegrees(T,L,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:m}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",P," "]}),f("h3",{children:["Latitude: ",L]}),f("h3",{children:["Longitude: ",T]}),f("h3",{children:["Detail: ",S," "]}),f("h3",{children:["Far Away To: ",g," km"]})]})]}),f(q,{name:R,position:Cesium.Cartesian3.fromDegrees(it,$,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:R}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",de," "]}),f("h3",{children:["Latitude: ",$]}),f("h3",{children:["Longitude: ",it]}),f("h3",{children:["Detail: ",J," "]}),f("h3",{children:["Far Away To: ",wt," km"]})]})]}),f(q,{name:m,position:Cesium.Cartesian3.fromDegrees(T,L,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:m}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",P," "]}),f("h3",{children:["Latitude: ",L]}),f("h3",{children:["Longitude: ",T]}),f("h3",{children:["Detail: ",S," "]}),f("h3",{children:["Far Away To: ",g," km"]})]})]}),f(q,{name:R,position:Cesium.Cartesian3.fromDegrees(it,$,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:R}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",de," "]}),f("h3",{children:["Latitude: ",$]}),f("h3",{children:["Longitude: ",it]}),f("h3",{children:["Detail: ",J," "]}),f("h3",{children:["Far Away To: ",wt," km"]})]})]}),f(q,{name:V,position:Cesium.Cartesian3.fromDegrees(Ia,ka,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:V}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",st," "]}),f("h3",{children:["Latitude: ",ka]}),f("h3",{children:["Longitude: ",Ia]}),f("h3",{children:["Detail: ",he," "]}),f("h3",{children:["Far Away To: ",sn," km"]})]})]}),f(q,{name:V,position:Cesium.Cartesian3.fromDegrees(Ia,ka,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:V}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",st," "]}),f("h3",{children:["Latitude: ",ka]}),f("h3",{children:["Longitude: ",Ia]}),f("h3",{children:["Detail: ",he," "]}),f("h3",{children:["Far Away To: ",sn," km"]})]})]}),f(q,{name:om,position:Cesium.Cartesian3.fromDegrees(am,lm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:om}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wE," "]}),f("h3",{children:["Latitude: ",lm]}),f("h3",{children:["Longitude: ",am]}),f("h3",{children:["Detail: ",vE," "]}),f("h3",{children:["Far Away To: ",xE," km"]})]})]}),f(q,{name:um,position:Cesium.Cartesian3.fromDegrees(cm,hm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:um}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",NE," "]}),f("h3",{children:["Latitude: ",hm]}),f("h3",{children:["Longitude: ",cm]}),f("h3",{children:["Detail: ",IE," "]}),f("h3",{children:["Far Away To: ",AE," km"]})]})]}),f(q,{name:dm,position:Cesium.Cartesian3.fromDegrees(fm,pm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:dm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",OE," "]}),f("h3",{children:["Latitude: ",pm]}),f("h3",{children:["Longitude: ",fm]}),f("h3",{children:["Detail: ",RE," "]}),f("h3",{children:["Far Away To: ",BE," km"]})]})]}),f(q,{name:mm,position:Cesium.Cartesian3.fromDegrees(gm,ym,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:mm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",HE," "]}),f("h3",{children:["Latitude: ",ym]}),f("h3",{children:["Longitude: ",gm]}),f("h3",{children:["Detail: ",GE," "]}),f("h3",{children:["Far Away To: ",QE," km"]})]})]}),f(q,{name:vm,position:Cesium.Cartesian3.fromDegrees(_m,wm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:vm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nT," "]}),f("h3",{children:["Latitude: ",wm]}),f("h3",{children:["Longitude: ",_m]}),f("h3",{children:["Detail: ",eT," "]}),f("h3",{children:["Far Away To: ",iT," km"]})]})]}),f(q,{name:Sm,position:Cesium.Cartesian3.fromDegrees(xm,Cm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Sm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hT," "]}),f("h3",{children:["Latitude: ",Cm]}),f("h3",{children:["Longitude: ",xm]}),f("h3",{children:["Detail: ",uT," "]}),f("h3",{children:["Far Away To: ",fT," km"]})]})]}),f(q,{name:Em,position:Cesium.Cartesian3.fromDegrees(Tm,Dm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Em}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wT," "]}),f("h3",{children:["Latitude: ",Dm]}),f("h3",{children:["Longitude: ",Tm]}),f("h3",{children:["Detail: ",vT," "]}),f("h3",{children:["Far Away To: ",xT," km"]})]})]}),f(q,{name:Im,position:Cesium.Cartesian3.fromDegrees(km,Nm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Im}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",NT," "]}),f("h3",{children:["Latitude: ",Nm]}),f("h3",{children:["Longitude: ",km]}),f("h3",{children:["Detail: ",IT," "]}),f("h3",{children:["Far Away To: ",AT," km"]})]})]}),f(q,{name:Lm,position:Cesium.Cartesian3.fromDegrees(Am,bm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Lm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",OT," "]}),f("h3",{children:["Latitude: ",bm]}),f("h3",{children:["Longitude: ",Am]}),f("h3",{children:["Detail: ",RT," "]}),f("h3",{children:["Far Away To: ",BT," km"]})]})]}),f(q,{name:Pm,position:Cesium.Cartesian3.fromDegrees($m,Fm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Pm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",HT," "]}),f("h3",{children:["Latitude: ",Fm]}),f("h3",{children:["Longitude: ",$m]}),f("h3",{children:["Detail: ",GT," "]}),f("h3",{children:["Far Away To: ",QT," km"]})]})]}),f(q,{name:Rm,position:Cesium.Cartesian3.fromDegrees(Mm,Om,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Rm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nD," "]}),f("h3",{children:["Latitude: ",Om]}),f("h3",{children:["Longitude: ",Mm]}),f("h3",{children:["Detail: ",eD," "]}),f("h3",{children:["Far Away To: ",iD," km"]})]})]}),f(q,{name:Vm,position:Cesium.Cartesian3.fromDegrees(Bm,Um,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Vm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hD," "]}),f("h3",{children:["Latitude: ",Um]}),f("h3",{children:["Longitude: ",Bm]}),f("h3",{children:["Detail: ",uD," "]}),f("h3",{children:["Far Away To: ",fD," km"]})]})]}),f(q,{name:zm,position:Cesium.Cartesian3.fromDegrees(jm,qm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:zm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wD," "]}),f("h3",{children:["Latitude: ",qm]}),f("h3",{children:["Longitude: ",jm]}),f("h3",{children:["Detail: ",vD," "]}),f("h3",{children:["Far Away To: ",xD," km"]})]})]}),f(q,{name:Gm,position:Cesium.Cartesian3.fromDegrees(Km,Hm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Gm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",ND," "]}),f("h3",{children:["Latitude: ",Hm]}),f("h3",{children:["Longitude: ",Km]}),f("h3",{children:["Detail: ",ID," "]}),f("h3",{children:["Far Away To: ",AD," km"]})]})]}),f(q,{name:Wm,position:Cesium.Cartesian3.fromDegrees(Qm,Ym,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Wm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",OD," "]}),f("h3",{children:["Latitude: ",Ym]}),f("h3",{children:["Longitude: ",Qm]}),f("h3",{children:["Detail: ",RD," "]}),f("h3",{children:["Far Away To: ",BD," km"]})]})]}),f(q,{name:Xm,position:Cesium.Cartesian3.fromDegrees(Jm,Zm,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Xm}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",HD," "]}),f("h3",{children:["Latitude: ",Zm]}),f("h3",{children:["Longitude: ",Jm]}),f("h3",{children:["Detail: ",GD," "]}),f("h3",{children:["Far Away To: ",QD," km"]})]})]}),f(q,{name:eg,position:Cesium.Cartesian3.fromDegrees(tg,ng,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:eg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nI," "]}),f("h3",{children:["Latitude: ",ng]}),f("h3",{children:["Longitude: ",tg]}),f("h3",{children:["Detail: ",eI," "]}),f("h3",{children:["Far Away To: ",iI," km"]})]})]}),f(q,{name:rg,position:Cesium.Cartesian3.fromDegrees(ig,sg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:rg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hI," "]}),f("h3",{children:["Latitude: ",sg]}),f("h3",{children:["Longitude: ",ig]}),f("h3",{children:["Detail: ",uI," "]}),f("h3",{children:["Far Away To: ",fI," km"]})]})]}),f(q,{name:og,position:Cesium.Cartesian3.fromDegrees(ag,lg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:og}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wI," "]}),f("h3",{children:["Latitude: ",lg]}),f("h3",{children:["Longitude: ",ag]}),f("h3",{children:["Detail: ",vI," "]}),f("h3",{children:["Far Away To: ",xI," km"]})]})]}),f(q,{name:ug,position:Cesium.Cartesian3.fromDegrees(cg,hg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:ug}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",NI," "]}),f("h3",{children:["Latitude: ",hg]}),f("h3",{children:["Longitude: ",cg]}),f("h3",{children:["Detail: ",II," "]}),f("h3",{children:["Far Away To: ",AI," km"]})]})]}),f(q,{name:dg,position:Cesium.Cartesian3.fromDegrees(fg,pg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:dg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",OI," "]}),f("h3",{children:["Latitude: ",pg]}),f("h3",{children:["Longitude: ",fg]}),f("h3",{children:["Detail: ",RI," "]}),f("h3",{children:["Far Away To: ",BI," km"]})]})]}),f(q,{name:mg,position:Cesium.Cartesian3.fromDegrees(gg,yg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:mg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",HI," "]}),f("h3",{children:["Latitude: ",yg]}),f("h3",{children:["Longitude: ",gg]}),f("h3",{children:["Detail: ",GI," "]}),f("h3",{children:["Far Away To: ",QI," km"]})]})]}),f(q,{name:vg,position:Cesium.Cartesian3.fromDegrees(_g,wg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:vg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nk," "]}),f("h3",{children:["Latitude: ",wg]}),f("h3",{children:["Longitude: ",_g]}),f("h3",{children:["Detail: ",ek," "]}),f("h3",{children:["Far Away To: ",ik," km"]})]})]}),f(q,{name:Sg,position:Cesium.Cartesian3.fromDegrees(xg,Cg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Sg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hk," "]}),f("h3",{children:["Latitude: ",Cg]}),f("h3",{children:["Longitude: ",xg]}),f("h3",{children:["Detail: ",uk," "]}),f("h3",{children:["Far Away To: ",fk," km"]})]})]}),f(q,{name:Eg,position:Cesium.Cartesian3.fromDegrees(Tg,Dg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Eg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wk," "]}),f("h3",{children:["Latitude: ",Dg]}),f("h3",{children:["Longitude: ",Tg]}),f("h3",{children:["Detail: ",vk," "]}),f("h3",{children:["Far Away To: ",xk," km"]})]})]}),f(q,{name:Ig,position:Cesium.Cartesian3.fromDegrees(kg,Ng,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Ig}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",Nk," "]}),f("h3",{children:["Latitude: ",Ng]}),f("h3",{children:["Longitude: ",kg]}),f("h3",{children:["Detail: ",Ik," "]}),f("h3",{children:["Far Away To: ",Ak," km"]})]})]}),f(q,{name:Lg,position:Cesium.Cartesian3.fromDegrees(Ag,bg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Lg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",Ok," "]}),f("h3",{children:["Latitude: ",bg]}),f("h3",{children:["Longitude: ",Ag]}),f("h3",{children:["Detail: ",Rk," "]}),f("h3",{children:["Far Away To: ",Bk," km"]})]})]}),f(q,{name:Pg,position:Cesium.Cartesian3.fromDegrees($g,Fg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Pg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",Hk," "]}),f("h3",{children:["Latitude: ",Fg]}),f("h3",{children:["Longitude: ",$g]}),f("h3",{children:["Detail: ",Gk," "]}),f("h3",{children:["Far Away To: ",Qk," km"]})]})]}),f(q,{name:Rg,position:Cesium.Cartesian3.fromDegrees(Mg,Og,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Rg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nN," "]}),f("h3",{children:["Latitude: ",Og]}),f("h3",{children:["Longitude: ",Mg]}),f("h3",{children:["Detail: ",eN," "]}),f("h3",{children:["Far Away To: ",iN," km"]})]})]}),f(q,{name:Vg,position:Cesium.Cartesian3.fromDegrees(Bg,Ug,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Vg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hN," "]}),f("h3",{children:["Latitude: ",Ug]}),f("h3",{children:["Longitude: ",Bg]}),f("h3",{children:["Detail: ",uN," "]}),f("h3",{children:["Far Away To: ",fN," km"]})]})]}),f(q,{name:zg,position:Cesium.Cartesian3.fromDegrees(jg,qg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:zg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wN," "]}),f("h3",{children:["Latitude: ",qg]}),f("h3",{children:["Longitude: ",jg]}),f("h3",{children:["Detail: ",vN," "]}),f("h3",{children:["Far Away To: ",xN," km"]})]})]}),f(q,{name:Gg,position:Cesium.Cartesian3.fromDegrees(Kg,Hg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Gg}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",NN," "]}),f("h3",{children:["Latitude: ",Hg]}),f("h3",{children:["Longitude: ",Kg]}),f("h3",{children:["Detail: ",IN," "]}),f("h3",{children:["Far Away To: ",AN," km"]})]})]}),f(q,{name:mc,position:Cesium.Cartesian3.fromDegrees(Wg,Qg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:mc}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",ON," "]}),f("h3",{children:["Latitude: ",Qg]}),f("h3",{children:["Longitude: ",Wg]}),f("h3",{children:["Detail: ",RN," "]}),f("h3",{children:["Far Away To: ",BN," km"]})]})]}),f(q,{name:gc,position:Cesium.Cartesian3.fromDegrees(Yg,Xg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:gc}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",HN," "]}),f("h3",{children:["Latitude: ",Xg]}),f("h3",{children:["Longitude: ",Yg]}),f("h3",{children:["Detail: ",GN," "]}),f("h3",{children:["Far Away To: ",QN," km"]})]})]}),f(q,{name:yc,position:Cesium.Cartesian3.fromDegrees(Jg,Zg,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:yc}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nL," "]}),f("h3",{children:["Latitude: ",Zg]}),f("h3",{children:["Longitude: ",Jg]}),f("h3",{children:["Detail: ",eL," "]}),f("h3",{children:["Far Away To: ",iL," km"]})]})]}),f(q,{name:ey,position:Cesium.Cartesian3.fromDegrees(ty,ny,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:ey}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hL," "]}),f("h3",{children:["Latitude: ",ny]}),f("h3",{children:["Longitude: ",ty]}),f("h3",{children:["Detail: ",uL," "]}),f("h3",{children:["Far Away To: ",fL," km"]})]})]}),f(q,{name:ry,position:Cesium.Cartesian3.fromDegrees(iy,sy,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:ry}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",wL," "]}),f("h3",{children:["Latitude: ",sy]}),f("h3",{children:["Longitude: ",iy]}),f("h3",{children:["Detail: ",vL," "]}),f("h3",{children:["Far Away To: ",xL," km"]})]})]}),f(q,{name:oy,position:Cesium.Cartesian3.fromDegrees(ay,ly,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:oy}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",NL," "]}),f("h3",{children:["Latitude: ",ly]}),f("h3",{children:["Longitude: ",ay]}),f("h3",{children:["Detail: ",IL," "]}),f("h3",{children:["Far Away To: ",AL," km"]})]})]}),f(q,{name:uy,position:Cesium.Cartesian3.fromDegrees(cy,hy,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:uy}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",OL," "]}),f("h3",{children:["Latitude: ",hy]}),f("h3",{children:["Longitude: ",cy]}),f("h3",{children:["Detail: ",RL," "]}),f("h3",{children:["Far Away To: ",BL," km"]})]})]}),f(q,{name:dy,position:Cesium.Cartesian3.fromDegrees(fy,py,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:dy}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",HL," "]}),f("h3",{children:["Latitude: ",py]}),f("h3",{children:["Longitude: ",fy]}),f("h3",{children:["Detail: ",GL," "]}),f("h3",{children:["Far Away To: ",QL," km"]})]})]}),f(q,{name:my,position:Cesium.Cartesian3.fromDegrees(gy,yy,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:my}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",nA," "]}),f("h3",{children:["Latitude: ",yy]}),f("h3",{children:["Longitude: ",gy]}),f("h3",{children:["Detail: ",eA," "]}),f("h3",{children:["Far Away To: ",iA," km"]})]})]}),f(q,{name:vy,position:Cesium.Cartesian3.fromDegrees(_y,wy,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:vy}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",hA," "]}),f("h3",{children:["Latitude: ",wy]}),f("h3",{children:["Longitude: ",_y]}),f("h3",{children:["Detail: ",uA," "]}),f("h3",{children:["Far Away To: ",fA," km"]})]})]}),f(q,{name:yA,position:Cesium.Cartesian3.fromDegrees(Sy,xy,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:mc}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",SA," "]}),f("h3",{children:["Latitude: ",xy]}),f("h3",{children:["Longitude: ",Sy]}),f("h3",{children:["Detail: ",_A," "]}),f("h3",{children:["Far Away To: ",CA," km"]})]})]}),f(q,{name:IA,position:Cesium.Cartesian3.fromDegrees(Cy,Ey,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:gc}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",AA," "]}),f("h3",{children:["Latitude: ",Ey]}),f("h3",{children:["Longitude: ",Cy]}),f("h3",{children:["Detail: ",NA," "]}),f("h3",{children:["Far Away To: ",PA," km"]})]})]}),f(q,{name:MA,position:Cesium.Cartesian3.fromDegrees(Ty,Dy,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:yc}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",UA," "]}),f("h3",{children:["Latitude: ",Dy]}),f("h3",{children:["Longitude: ",Ty]}),f("h3",{children:["Detail: ",VA," "]}),f("h3",{children:["Far Away To: ",jA," km"]})]})]}),f(q,{name:Iy,position:Cesium.Cartesian3.fromDegrees(ky,Ny,100),children:[v(K,{image:H,scale:.3}),f(G,{children:[v("style",{children:`
            .livetext {
              color: red;
            }
            .seperator{
              color:red;
            }
            .typetext{
              color:red;
              font-size:30px;
            
            }
            `}),v("h2",{children:Iy}),v("p",{className:"seperator",children:"_______________________________________"}),f("h3",{className:"typetext",children:[" ",YA," "]}),f("h3",{children:["Latitude: ",Ny]}),f("h3",{children:["Longitude: ",ky]}),f("h3",{children:["Detail: ",WA," "]}),f("h3",{children:["Far Away To: ",JA," km"]})]})]})]})}ah.createRoot(document.getElementById("root")).render(v(Nw.StrictMode,{children:v(Y4,{})}));
